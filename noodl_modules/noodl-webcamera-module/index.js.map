{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/web-camera-module.js","webpack:///./node_modules/@noodl/noodl-sdk/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Noodl","WebCameraNode","defineNode","category","docs","this","inputs","frontFacing","signals","startStream","displayName","signal","stopStream","changed","frameRate","type","default","outputs","stream","streamStarted","streamStopped","methods","isStreaming","constraints","video","facingMode","undefined","ideal","navigator","mediaDevices","getUserMedia","then","setOutputs","sendSignalOnOutput","catch","err","console","log","tracks","getTracks","track","stop","removeTrack","defineModule","nodes","_colors","def","_def","displayNodeName","usePortAsLabel","useInputAsLabel","color","getInspectInfo","initialize","_outputs","_this","flagOutputDirty","clearWarnings","context","editorConnection","nodeScope","componentOwner","id","sendWarning","message","apply","group","set","_key","valueChangedToTrue","_fn","scheduleAfterInputsHaveUpdated","prototypeExtensions","onNodeDeleted","_onNodeDeleted","__proto__","node","setup","defineCollectionNode","assign","Items","Fetch","a","fetch","defineModelNode","Id","Fetched","_object","_changeListener","off","_o","on","data","properties","defineReactNode","getReactComponent","inputProps","inputCss","outputProps","frame"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const Noodl = require('@noodl/noodl-sdk');\n\nconst WebCameraNode = Noodl.defineNode({\n\tcategory:'Camera',\n\tname:'Web Camera',\n    docs:'https://docs.noodl.net/modules/webcamera/webcamera-node',\n\tinitialize() {\n        this.inputs.frontFacing = true;\n\t},\n\tsignals:{\n\t\tstartStream:{\n\t\t\tdisplayName:'Start Stream',\t\n\t\t\tsignal:function() {\n\t\t\t\tthis.startStream();\n\t\t\t},\n\t\t},\n\t\tstopStream:{\n\t\t\tdisplayName:'Stop Stream',\n\t\t\tsignal:function() {\n\t\t\t\tthis.stopStream();\n\t\t\t}\n\t\t}\n\t},\n\tchanged:{\n\t\tfrontFacing:function(value) {\n\t\t\tthis.stopStream();\n\t\t\tthis.startStream();\n\t\t},\n\t\tframeRate:function(value) {\n\t\t\tthis.stopStream();\n\t\t\tthis.startStream();\t\t\n\t\t}\n\t},\n    inputs: {\n        frontFacing: {\n\t\t\ttype: 'boolean',\n\t\t\tdisplayName:'Front Facing',\n            default: true\n        },\n        frameRate: {\n\t\t\tdisplayName:'Frame Rate',\n            type: 'number'\n        }\n    },\n    outputs: {\n        stream: {\n            type: 'mediastream',\n            displayName: 'Media Stream'\n        },\n        streamStarted: {\n            displayName: 'Media Stream Started',\n            type: 'signal'\n        },\n        streamStopped: {\n            displayName: 'Media Stream Stopped',\n            type: 'signal'\n        }\n    },\n    methods: {\n        startStream() {\n\t\t\tthis.isStreaming = true;\n            const facingMode = this.inputs.frontFacing ? 'front' : 'environment';\n            const constraints = {\n                video: {facingMode}\n            };\n            if(this.inputs.frameRate !== undefined) {\n                constraints.video.frameRate = {ideal: this.inputs.frameRate};\n            }\n\n            navigator.mediaDevices.getUserMedia(constraints)\n                .then(stream => {\n                    if(this.isStreaming === false) {\n                        //user stopped stream before it had time to start\n                        return;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.setOutputs({\n\t\t\t\t\t\tstream:stream\n\t\t\t\t\t})\n\n                    this.sendSignalOnOutput('streamStarted');\n                })\n                .catch(err => {\n                    console.log(\"Web Camera stream error\", err);\n                    this.isStreaming = false;\n                });\n        },\n        stopStream() {\n            if(!this.isStreaming) return;\n\n            this.isStreaming = false;\n            const stream = this.outputs.stream;\n\n            const tracks = stream.getTracks();\n            for(const track of tracks) {\n                track.stop();\n                stream.removeTrack(track);\n\t\t\t}\n\t\t\tthis.setOutputs({\n\t\t\t\tstream:null\n\t\t\t})\n            this.sendSignalOnOutput('streamStopped');\n        }\n    }\n})\n\nNoodl.defineModule({\n    nodes:[\n\t WebCameraNode\n    ],\n    setup() {\n    }\n});","const _colors = {\n    \"purple\":\"component\",\n    \"green\":\"data\",\n    \"default\":\"default\",\n    \"grey\":\"default\"\n}\n\nNoodl.defineNode = function(def) {\n    const _def = {};\n\n    _def.name = def.name;\n    _def.displayNodeName = def.displayName;\n    _def.usePortAsLabel = def.useInputAsLabel;\n    _def.color = _colors[def.color || 'default'];\n    _def.category = def.category || 'Modules';\n    _def.getInspectInfo = def.getInspectInfo;\n    _def.docs = def.docs;\n    \n    _def.initialize = function() {\n        this.inputs = {};\n        var _outputs = this.outputs = {};\n        var _this = this;\n\n        // Function for quickly setting outputs\n        this.setOutputs = function(o) {\n            for(var key in o) {\n                _outputs[key] = o[key];\n                _this.flagOutputDirty(key);\n            }\n        }\n\n        // Sending warnings\n        this.clearWarnings = (function() {\n            if(this.context.editorConnection && this.nodeScope && this.nodeScope.componentOwner)\n                this.context.editorConnection.clearWarnings(this.nodeScope.componentOwner.name, this.id);\n        }).bind(this);\n\n        this.sendWarning = (function(name,message) {\n            if(this.context.editorConnection && this.nodeScope && this.nodeScope.componentOwner)\n                this.context.editorConnection.sendWarning(this.nodeScope.componentOwner.name, this.id, name, {\n                    message: message\n                });\n        }).bind(this);\n\n        if(typeof def.initialize === 'function')\n            def.initialize.apply(this);\n    }\n    _def.inputs = {};\n    _def.outputs = {};\n\n    for(var key in def.inputs) {\n        _def.inputs[key] = {\n            type:(typeof def.inputs[key] === 'object')?def.inputs[key].type:def.inputs[key],\n            displayName:(typeof def.inputs[key] === 'object')?def.inputs[key].displayName:undefined,\n            group:(typeof def.inputs[key] === 'object')?def.inputs[key].group:undefined,\n            default:(typeof def.inputs[key] === 'object')?def.inputs[key].default:undefined,\n            set:(function() { const _key = key; return function(value) {\n                this.inputs[_key] = value;\n                if(def.changed && typeof def.changed[_key] === 'function') {\n                    def.changed[_key].apply(this,[value]);\n                }\n            }})()\n        }\n    }\n\n    for(var key in def.signals) {\n        _def.inputs[key] = {\n            type:'signal',\n            displayName:(typeof def.signals[key] === 'object')?def.signals[key].displayName:undefined,\n            group:(typeof def.signals[key] === 'object')?def.signals[key].group:undefined,\n            valueChangedToTrue:(function() { const _key = key; return function() {\n                const _fn = (typeof def.signals[_key] === 'object')?def.signals[_key].signal:def.signals[_key]\n                if(typeof _fn === 'function') {\n                    this.scheduleAfterInputsHaveUpdated(() => {\n                        _fn.apply(this);\n                    }) \n                }\n            }})()\n        }\n    }\n\n    for(var key in def.outputs) {\n        if(def.outputs[key] === 'signal') {\n            _def.outputs[key] = {\n                type:'signal',\n            }\n        }\n        else {\n            _def.outputs[key] = {\n                type:(typeof def.outputs[key] === 'object')?def.outputs[key].type:def.outputs[key],\n                displayName:(typeof def.outputs[key] === 'object')?def.outputs[key].displayName:undefined,\n                group:(typeof def.outputs[key] === 'object')?def.outputs[key].group:undefined,\n                getter:(function() { const _key = key; return function() {\n                    return this.outputs[_key];\n                }})()\n            }\n        }\n    }\n\n    _def.methods = _def.prototypeExtensions = {};\n    for(var key in def.methods) {\n        _def.prototypeExtensions[key] = def.methods[key];\n    }\n    if(_def.methods.onNodeDeleted) { // Override the onNodeDeleted if required\n        _def.methods._onNodeDeleted = function() {\n            this.__proto__.__proto__._onNodeDeleted.call(this);\n            _def.methods.onNodeDeleted.value.call(this);\n        }\n    }\n\n    return {node:_def,setup:def.setup};\n}\n\nNoodl.defineCollectionNode = function(def) {\n    const _def = {\n        name:def.name,\n        category:def.category,\n        color:'data',\n        inputs:def.inputs,\n        outputs:Object.assign({\n            Items:'array',\n            'Fetch Started':'signal',\n            'Fetch Completed':'signal'\n        },def.outputs||{}),\n        signals:Object.assign({\n            Fetch:function() {\n                var _this = this;\n                this.sendSignalOnOutput('Fetch Started');\n                var a = def.fetch.call(this,function() {\n                    _this.sendSignalOnOutput('Fetch Completed');\n                });\n                this.setOutputs({\n                    Items:a\n                })\n            }\n        },def.signals||{})\n    }\n\n    return Noodl.defineNode(_def);\n}\n\nNoodl.defineModelNode = function(def) {\n    const _def = {\n        name:def.name,\n        category:def.category,\n        color:'data',\n        inputs:{\n            Id:'string'\n        },\n        outputs:{\n            Fetched:'signal'\n        },\n        changed:{\n            Id:function(value) {\n                if(this._object && this._changeListener)\n                    this._object.off('change',this._changeListener)\n                \n                this._object = Noodl.Object.get(value);\n                this._changeListener = (name,value) => {\n                    const _o = {}\n                    _o[name] = value;\n                    this.setOutputs(_o)\n                }\n                this._object.on('change',this._changeListener)\n\n                this.setOutputs(this._object.data);\n                this.sendSignalOnOutput('Fetched');\n            }\n        },\n        initialize:function() {\n\n        }\n    }\n\n    for(var key in def.properties) {\n        _def.inputs[key] = def.properties[key];\n        _def.outputs[key] = def.properties[key];\n        _def.changed[key] = (function() { const _key = key; return function(value) {\n            if(!this._object) return;\n            this._object.set(_key,value);\n        }})()\n    }\n \n    return Noodl.defineNode(_def);\n}\n\nNoodl.defineReactNode = function(def) {\n    var _def = Noodl.defineNode(def);\n\n    _def.node.getReactComponent = def.getReactComponent;\n    _def.node.inputProps = def.inputProps;\n    _def.node.inputCss = def.inputCss;\n    _def.node.outputProps = def.outputProps;\n    _def.node.setup = def.setup;\n    _def.node.frame = def.frame;\n\n    return _def.node;\n}\n\nmodule.exports = Noodl;"],"sourceRoot":""}