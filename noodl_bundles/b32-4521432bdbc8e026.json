[{"name":"/#view/Inspection Request View","nodes":[{"id":"72b0d792-8996-8885-e9aa-9f5fa6b5ee4b","type":"Page","parameters":{"urlPath":""},"ports":[],"children":[{"id":"24659224-233e-3374-838c-ed226c40fea1","type":"Group","parameters":{"backgroundColor":"#FFFFFF","flexDirection":"row"},"ports":[],"children":[{"id":"c88b585c-ba45-7687-27aa-89de2d9f330b","type":"/#component/Sidebar","parameters":{},"ports":[],"children":[]},{"id":"c07fd7f8-2861-d754-d71e-b378c4b0aba3","type":"Group","parameters":{"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"ed09eeef-dfae-26fc-d4cf-129cb2b22889","type":"Group","parameters":{"sizeMode":"explicit","height":{"value":60,"unit":"px"}},"ports":[],"children":[{"id":"9670df06-0f27-95b8-cc95-6c16e128c00c","type":"/#component/navbar","parameters":{"pagename":""},"ports":[],"children":[]}]},{"id":"3f1b6ee5-5e91-774a-56db-fe4fa8a2f7d9","type":"Group","parameters":{"backgroundColor":"White","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"paddingTop":{"value":15,"unit":"px"},"paddingBottom":{"value":15,"unit":"px"},"position":"relative","visible":true},"ports":[],"children":[{"id":"c9201d86-e7f5-d6d9-2a03-88aedae9e3cb","type":"net.noodl.controls.button","parameters":{"alignX":"right","label":"Inspection Request","useIcon":true,"iconIconSource":{"class":"material-icons","code":"add","codeAsClass":false},"paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"backgroundColor":"Primary ECC"},"ports":[],"children":[]},{"id":"c6e65507-b39e-b4bf-60ef-e6e882bb2c3c","type":"Group","parameters":{"scrollEnabled":true},"ports":[],"children":[{"id":"0ee0c3f7-2fba-fc4b-f17f-9b1b73f44a2b","type":"/#component/Table","parameters":{"Items":"[\n    {\n        \"Inspection Id\": \"INS-6547\",\n        \"Action\": \"INS-6547\",\n        \"Client Name\": \"John\",\n        \"Contact Name\": \"Richard\",\n        \"Phone\": \"9712463120\",\n        \"Email\": \"john12@gmail.com\",\n        \"Inspection Date\": \"2023-09-09\",\n        \"Inspection time\": \"08:35 am\",\n        \"Inspector\": \"Inspector-3\"\n    },\n    {\n        \"Inspection Id\": \"INS-2150\",\n        \"Action\": \"INS-2150\",\n        \"Client Name\": \"Justin\",\n        \"Contact Name\": \"Justin\",\n        \"Phone\": \"8047653562\",\n        \"Email\": \"justin429@gmail.com\",\n        \"Inspection Date\": \"2023-07-03\",\n        \"Inspection time\": \"11:10 am\",\n        \"Inspector\": \"Inspector-1\"\n    },\n    {\n        \"Inspection Id\": \"INS-0991\",\n        \"Action\": \"INS-0991\",\n        \"Client Name\": \"Nick\",\n        \"Contact Name\": \"Nick\",\n        \"Phone\": \"7563098349\",\n        \"Email\": \"nick.fast@gmail.com\",\n        \"Inspection Date\": \"2023-05-01\",\n        \"Inspection time\": \"03:30 pm\",\n        \"Inspector\": \"Inspector-2\"\n    },\n    {\n        \"Inspection Id\": \"INS-0032\",\n        \"Action\": \"INS-0032\",\n        \"Client Name\": \"Stive\",\n        \"Contact Name\": \"Adam\",\n        \"Phone\": \"9780453657\",\n        \"Email\": \"stive567@gmail.com\",\n        \"Inspection Date\": \"2023-02-06\",\n        \"Inspection time\": \"07:45 pm\",\n        \"Inspector\": \"Inspector-5\"\n    },\n    \n    \n    \n]","Margin Top":{"value":20,"unit":"px"},"Headers":"[\r\n  {\r\n    Field: 'Inspection Id',\r\n    Label: 'Inspection Id',\r\n  },\r\n  {\r\n    Field: 'Client Name',\r\n    Label: 'Client Name',\r\n  },\r\n  {\r\n    Field: 'Contact Name',\r\n    Label: 'Contact Name',\r\n  },\r\n  {\r\n    Field: 'Phone',\r\n    Label: 'Phone',\r\n  },\r\n  {\r\n    Field: 'Email',\r\n    Label: 'Email',\r\n  },\r\n  {\r\n    Field: 'Inspection Date',\r\n    Label: 'Inspection Date',\r\n  },\r\n  {\r\n    Field: 'Inspector',\r\n    Label: 'Inspector',\r\n  },\r\n  {\r\n    Field: 'Action',\r\n    Label: 'Action',\r\n    Type: 'Button inspect',\r\n  },\r\n]","Max Height":{"value":72,"unit":"vh"}},"ports":[],"children":[]}]},{"id":"aeabe574-9f6a-00a5-ce32-0794930f8ff9","type":"Group","parameters":{"scrollEnabled":true,"paddingLeft":{"value":5,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingBottom":{"value":50,"unit":"px"},"sizeMode":"explicit","rowGap":{"value":10,"unit":"px"},"marginTop":{"value":10,"unit":"px"},"height":{"value":67,"unit":"vh"}},"ports":[],"children":[{"id":"6077db87-8155-6c4a-48f0-3a301d655f9a","type":"For Each","parameters":{"templateType":"explicit","template":"/#view/Inspection Request View/Inspection Details Card View"},"ports":[],"children":[]}]},{"id":"1ff53d2e-4f2c-f49b-b19c-e888d559c761","type":"Group","parameters":{"sizeMode":"contentHeight","position":"sticky","alignY":"bottom"},"ports":[],"children":[{"id":"01eb291f-5fca-0528-26b6-3ea802fb9a42","type":"/#component/limit & offset","parameters":{},"ports":[],"children":[]}]}]}]}]}]},{"id":"a2c69d2a-a31e-885c-fb11-1057ca8c2e4c","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"92edae55-4a0f-2dba-7d83-f156f4279f74","type":"RouterNavigate","parameters":{"router":"login","target":"/#Add/Add Inspection Request"},"ports":[],"children":[]},{"id":"66fcd837-cc71-f961-ecc2-83947d0174f3","type":"JavaScriptFunction","parameters":{"functionScript":"const width = Inputs.width\r\nif (width > 800){\r\n    Outputs.Heigth = 75\r\n    Outputs.header = [\r\n  {\r\n    Field: 'project_number',\r\n    Label: 'Inspection',\r\n    // Type: 'ins',\r\n  },\r\n  // {\r\n  //   Field: 'ins_id',\r\n  //   Label: 'Inspection',\r\n  //   Type: 'ins',\r\n  // },\r\n  {\r\n    Field: 'status',\r\n    Label: 'Status',\r\n    Type: 'status',\r\n  },\r\n  {\r\n    Field: 'client_name',\r\n    Label: 'Client Name',\r\n  },\r\n  {\r\n    Field: 'client_phone',\r\n    Label: 'Phone',\r\n  },\r\n  {\r\n    Field: 'address',\r\n    Label: 'Address',\r\n    Type: 'address'\r\n  },\r\n  {\r\n    Field: 'primary_inspector',\r\n    Label: 'Primary inspector',\r\n    Type: 'pinspector',\r\n  },\r\n  {\r\n    Field: 'assigned_to_inspector',\r\n    Label: 'Secondary Inspectors',\r\n    Type: 'inspector',\r\n  },\r\n  {\r\n    Field: 'id',\r\n    Label: 'Action',\r\n    Type: 'Button inspect',\r\n  },\r\n]\r\n\r\n}\r\nelse {\r\n    Outputs.Heigth = 68\r\n    Outputs.header = [\r\n  {\r\n    Field: 'project_number',\r\n    Label: 'Inspection',\r\n    // Type: 'ins',\r\n  },  \r\n  // {\r\n  //   Field: 'ins_id',\r\n  //   Label: 'Inspection',\r\n  //   Type: 'ins',\r\n  // },  \r\n  {\r\n    Field: 'status',\r\n    Label: 'Status',\r\n    Type: 'status',\r\n  },\r\n  {\r\n    Field: 'client_name',\r\n    Label: 'Client',\r\n  },\r\n  {\r\n    Field: 'primary_inspector',\r\n    Label: 'Primary inspector',\r\n    Type: 'pinspector',\r\n  },\r\n  {\r\n    Field: 'assigned_to_inspector',\r\n    Label: 'Secondary Inspector',\r\n    Type: 'inspector',\r\n  },\r\n  {\r\n    Field: 'client_phone',\r\n    Label: 'Phone',\r\n  },\r\n  {\r\n    Field: 'id',\r\n    Label: 'Action',\r\n    Type: 'Button inspect mobile',\r\n  },\r\n]\r\n\r\n}","scriptInputs":[{"id":"42or","label":"width"}],"intype-width":"number","scriptOutputs":[{"id":"3ii6","label":"header"}],"outtype-header":"array"},"ports":[{"name":"outtype-header","displayName":"Type","editorName":"header | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"3ii6","index":4},{"name":"out-header","displayName":"header","plug":"output","type":"array","group":"Outputs","index":5},{"name":"intype-width","displayName":"Type","editorName":"width | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"42or","index":6},{"name":"in-width","displayName":"width","plug":"input","type":"number","group":"Inputs","index":7},{"name":"out-Heigth","displayName":"Heigth","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"26fc5692-930c-cb8c-313e-3e7be00f9a3d","type":"Model2","parameters":{"modelId":"currentUser","properties":"company,email,role,name"},"ports":[],"children":[]},{"id":"89a00117-2559-9b93-becb-f74ce092fe91","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Triggered) return;\r\nif(Inputs.Role <= 2 || Inputs.Role == 5){\r\n  const supabase = Noodl.Variables.supabase;\r\n\r\n  if (!supabase) throw new Error('Supabase client not found');\r\n  const company = Inputs.Company\r\n\r\n  try {\r\n    const { data, error } = await supabase\r\n                            .from('inspection_request')\r\n                            .select('count', { count: 'exact' })\r\n                            .eq(\"company_id\",company);\r\n\r\n    if (error) {\r\n      console.error(error)\r\n      Outputs.Failure();\r\n    } else {\r\n      const count = data ? data[0].count : 0;\r\n      Outputs.Count = count\r\n      Outputs.Success();\r\n    }\r\n  } catch (error) {\r\n      console.error(error)\r\n    Outputs.Failure();\r\n  }\r\n}    ///if is closed\r\n\r\nelse{\r\n  const supabase = Noodl.Variables.supabase;\r\n  if (!supabase) throw new Error('Supabase client not found');\r\n  const company = Inputs.Company\r\n  const inspector = Inputs.Inspector;\r\n\r\n  try {\r\n    const { data, error } = await supabase\r\n                            .from('inspection_request')\r\n                            .select('count', { count: 'exact' })\r\n                            .ilike(\"all_inspectors\", `%${inspector}%`)\r\n                            .eq(\"company_id\",company);\r\n\r\n    if (error) {\r\n      console.error(error)\r\n      Outputs.Failure();\r\n    } else {\r\n      console.log(data)\r\n      const count = data ? data[0].count : 0;\r\n      Outputs.Count = count\r\n      Outputs.Success();\r\n\r\n    }\r\n  } catch (error) {\r\n      console.error(error)\r\n    Outputs.Failure();\r\n  }\r\n}\r\n"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Role","displayName":"Role","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Company","displayName":"Company","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Inspector","displayName":"Inspector","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Count","displayName":"Count","plug":"output","type":"*","group":"Outputs","index":10}],"children":[]},{"id":"57d626de-f719-b8fc-3391-801831e87ab5","type":"/#component/loading","parameters":{},"ports":[],"children":[]},{"id":"bccb405e-4cbb-f534-e505-1d4642245f44","type":"JavaScriptFunction","parameters":{"functionScript":"\nconst screenWidth = Inputs.ScreenWidth || 0;\nconst hideGroup = screenWidth <= 429;\n\nOutputs.HideGroup = hideGroup;\n"},"ports":[{"name":"in-ScreenWidth","displayName":"ScreenWidth","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-HideGroup","displayName":"HideGroup","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"94e5aa0e-a7b3-68c4-0c61-4f4e7cbde8b2","type":"JavaScriptFunction","parameters":{"functionScript":"\nconst screenWidth = Inputs.ScreenWidth || 0;\nconst hideGroup = screenWidth > 429;\n\nOutputs.HideGroup = hideGroup;\n"},"ports":[{"name":"in-ScreenWidth","displayName":"ScreenWidth","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-HideGroup","displayName":"HideGroup","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"21da3491-bcf3-d494-6400-cdb7bb62bc61","type":"JavaScriptFunction","parameters":{"functionScript":"const role = Inputs.Role;\r\nconst fName = Inputs.FName;\r\nif(role <= 2 ){\r\n    Outputs.Pname = 'Inspection list'\r\n}\r\nelse{\r\n    Outputs.Pname = fName+' jobs'\r\n}"},"ports":[{"name":"in-Role","displayName":"Role","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-FName","displayName":"FName","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Pname","displayName":"Pname","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"30158fe6-676e-5e41-d811-d034e776ccf2","type":"Set Variable","parameters":{"name":"currentPage","setWith":"string","value":"inspection"},"ports":[],"children":[]},{"id":"8bd427aa-2456-f721-573b-c101fb8911f5","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Triggered) return;\r\nconst limit = parseInt(Inputs.Limit)\r\nconst offset = Inputs.Offset\r\nif(Inputs.Role <= 2 || Inputs.Role == 5){\r\n  const supabase = Noodl.Variables.supabase;\r\n\r\n  if (!supabase) throw new Error('Supabase client not found');\r\n  const company = Inputs.Company\r\n\r\n  try {\r\n    const { data, error } = await supabase\r\n                            .from('inspection_request')\r\n                            .select()\r\n                            .eq(\"company_id\",company)\r\n                            .order(\"inspection_date\",{ ascending: false })\r\n                            .range(offset, offset + limit - 1);\r\n\r\n    if (error) {\r\n      console.error(error)\r\n      Outputs.Failure();\r\n    } else {\r\n      const mappedData = data.map((item) => ({\r\n        ...item,\r\n        address: `${item.inspection_site_address_1}, ${item.inspection_site_address_2}, ${item.inspection_site_city}, ${item.inspection_site_state}, ${item.inspection_site_zip_code}`,\r\n        ins_id: item.id,\r\n      }));\r\n      console.log(\"mapped DATA <<==========>>\"+JSON.stringify(mappedData, null, 2))\r\n      Outputs.Inspection = mappedData\r\n      Outputs.Success();\r\n    }\r\n  } catch (error) {\r\n      console.error(error)\r\n    Outputs.Failure();\r\n  }\r\n}    ///if is closed\r\n\r\nelse{\r\n  const supabase = Noodl.Variables.supabase;\r\n  if (!supabase) throw new Error('Supabase client not found');\r\n  const company = Inputs.Company\r\n  const inspector = Inputs.Inspector;\r\n\r\n  try {\r\n    const { data, error } = await supabase\r\n                            .from('inspection_request')\r\n                            .select()\r\n                            .ilike(\"all_inspectors\", `%${inspector}%`)\r\n                            .eq(\"company_id\",company)\r\n                            .order(\"inspection_date\",{ ascending: false })\r\n                            .range(offset, offset + limit - 1);                     \r\n\r\n    if (error) {\r\n      console.error(error)\r\n      Outputs.Failure();\r\n    } else {\r\n      console.log(\"== Y ==\");\r\n      console.log(data)\r\n      console.log(\"== Y ==\");\r\n      const mappedData = data.map((item) => ({\r\n        ...item,\r\n        address: `${item.inspection_site_address_1}, ${item.inspection_site_address_2}, ${item.inspection_site_city}, ${item.inspection_site_state}, ${item.inspection_site_zip_code}`,\r\n        ins_id: item.id,\r\n      }));\r\n      console.log(\"mapped DATA ==========>>\"+JSON.stringify(mappedData, null, 2))\r\n      Outputs.Inspection = mappedData\r\n      Outputs.Success();\r\n\r\n    }\r\n  } catch (error) {\r\n      console.error(error)\r\n    Outputs.Failure();\r\n  }\r\n}\r\n"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Limit","displayName":"Limit","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Offset","displayName":"Offset","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Role","displayName":"Role","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-Company","displayName":"Company","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-Inspector","displayName":"Inspector","plug":"input","type":"*","group":"Inputs","index":9},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"out-Inspection","displayName":"Inspection","plug":"output","type":"*","group":"Outputs","index":12}],"children":[]},{"id":"7dccbdf7-132e-9582-0283-740363513601","type":"Timer","parameters":{"duration":50},"ports":[],"children":[]},{"id":"6b25de3c-9d5f-0661-fe91-b67bd53744f4","type":"States","parameters":{"states":"show,hide","values":"mount","type-mount":"boolean","value-show-mount":true},"ports":[],"children":[]},{"id":"a956c94f-4776-b68a-015b-fed66920c896","type":"JavaScriptFunction","parameters":{"functionScript":"const role = Inputs.role;\r\nif (role >= 6){\r\n    Outputs.Hide();\r\n}\r\nelse {\r\n    Outputs.Show();\r\n}"},"ports":[{"name":"in-role","displayName":"role","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Hide","displayName":"Hide","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Show","displayName":"Show","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"c9201d86-e7f5-d6d9-2a03-88aedae9e3cb","sourcePort":"onClick","targetId":"92edae55-4a0f-2dba-7d83-f156f4279f74","targetPort":"navigate"},{"sourceId":"72b0d792-8996-8885-e9aa-9f5fa6b5ee4b","sourcePort":"boundingWidth","targetId":"c88b585c-ba45-7687-27aa-89de2d9f330b","targetPort":"width"},{"sourceId":"72b0d792-8996-8885-e9aa-9f5fa6b5ee4b","sourcePort":"boundingWidth","targetId":"66fcd837-cc71-f961-ecc2-83947d0174f3","targetPort":"in-width"},{"sourceId":"66fcd837-cc71-f961-ecc2-83947d0174f3","sourcePort":"out-header","targetId":"0ee0c3f7-2fba-fc4b-f17f-9b1b73f44a2b","targetPort":"Headers"},{"sourceId":"72b0d792-8996-8885-e9aa-9f5fa6b5ee4b","sourcePort":"boundingWidth","targetId":"9670df06-0f27-95b8-cc95-6c16e128c00c","targetPort":"width"},{"sourceId":"26fc5692-930c-cb8c-313e-3e7be00f9a3d","sourcePort":"prop-company","targetId":"89a00117-2559-9b93-becb-f74ce092fe91","targetPort":"in-Company"},{"sourceId":"26fc5692-930c-cb8c-313e-3e7be00f9a3d","sourcePort":"fetched","targetId":"57d626de-f719-b8fc-3391-801831e87ab5","targetPort":"show"},{"sourceId":"94e5aa0e-a7b3-68c4-0c61-4f4e7cbde8b2","sourcePort":"out-HideGroup","targetId":"c6e65507-b39e-b4bf-60ef-e6e882bb2c3c","targetPort":"mounted"},{"sourceId":"72b0d792-8996-8885-e9aa-9f5fa6b5ee4b","sourcePort":"boundingWidth","targetId":"bccb405e-4cbb-f534-e505-1d4642245f44","targetPort":"in-ScreenWidth"},{"sourceId":"72b0d792-8996-8885-e9aa-9f5fa6b5ee4b","sourcePort":"boundingWidth","targetId":"94e5aa0e-a7b3-68c4-0c61-4f4e7cbde8b2","targetPort":"in-ScreenWidth"},{"sourceId":"26fc5692-930c-cb8c-313e-3e7be00f9a3d","sourcePort":"prop-email","targetId":"89a00117-2559-9b93-becb-f74ce092fe91","targetPort":"in-Inspector"},{"sourceId":"26fc5692-930c-cb8c-313e-3e7be00f9a3d","sourcePort":"prop-role","targetId":"89a00117-2559-9b93-becb-f74ce092fe91","targetPort":"in-Role"},{"sourceId":"26fc5692-930c-cb8c-313e-3e7be00f9a3d","sourcePort":"prop-company","targetId":"89a00117-2559-9b93-becb-f74ce092fe91","targetPort":"in-Triggered"},{"sourceId":"26fc5692-930c-cb8c-313e-3e7be00f9a3d","sourcePort":"prop-role","targetId":"21da3491-bcf3-d494-6400-cdb7bb62bc61","targetPort":"in-Role"},{"sourceId":"26fc5692-930c-cb8c-313e-3e7be00f9a3d","sourcePort":"prop-name","targetId":"21da3491-bcf3-d494-6400-cdb7bb62bc61","targetPort":"in-FName"},{"sourceId":"21da3491-bcf3-d494-6400-cdb7bb62bc61","sourcePort":"out-Pname","targetId":"9670df06-0f27-95b8-cc95-6c16e128c00c","targetPort":"pagename"},{"sourceId":"72b0d792-8996-8885-e9aa-9f5fa6b5ee4b","sourcePort":"didMount","targetId":"c88b585c-ba45-7687-27aa-89de2d9f330b","targetPort":"ins"},{"sourceId":"72b0d792-8996-8885-e9aa-9f5fa6b5ee4b","sourcePort":"didMount","targetId":"30158fe6-676e-5e41-d811-d034e776ccf2","targetPort":"do"},{"sourceId":"89a00117-2559-9b93-becb-f74ce092fe91","sourcePort":"out-Count","targetId":"01eb291f-5fca-0528-26b6-3ea802fb9a42","targetPort":"Total count"},{"sourceId":"72b0d792-8996-8885-e9aa-9f5fa6b5ee4b","sourcePort":"boundingWidth","targetId":"01eb291f-5fca-0528-26b6-3ea802fb9a42","targetPort":"width"},{"sourceId":"89a00117-2559-9b93-becb-f74ce092fe91","sourcePort":"out-Success","targetId":"8bd427aa-2456-f721-573b-c101fb8911f5","targetPort":"in-Triggered"},{"sourceId":"8bd427aa-2456-f721-573b-c101fb8911f5","sourcePort":"out-Inspection","targetId":"0ee0c3f7-2fba-fc4b-f17f-9b1b73f44a2b","targetPort":"Items"},{"sourceId":"01eb291f-5fca-0528-26b6-3ea802fb9a42","sourcePort":"limit","targetId":"8bd427aa-2456-f721-573b-c101fb8911f5","targetPort":"in-Limit"},{"sourceId":"01eb291f-5fca-0528-26b6-3ea802fb9a42","sourcePort":"skip","targetId":"8bd427aa-2456-f721-573b-c101fb8911f5","targetPort":"in-Offset"},{"sourceId":"01eb291f-5fca-0528-26b6-3ea802fb9a42","sourcePort":"changed","targetId":"57d626de-f719-b8fc-3391-801831e87ab5","targetPort":"show"},{"sourceId":"01eb291f-5fca-0528-26b6-3ea802fb9a42","sourcePort":"changed","targetId":"7dccbdf7-132e-9582-0283-740363513601","targetPort":"start"},{"sourceId":"7dccbdf7-132e-9582-0283-740363513601","sourcePort":"timerFinished","targetId":"8bd427aa-2456-f721-573b-c101fb8911f5","targetPort":"in-Triggered"},{"sourceId":"8bd427aa-2456-f721-573b-c101fb8911f5","sourcePort":"out-Success","targetId":"57d626de-f719-b8fc-3391-801831e87ab5","targetPort":"close"},{"sourceId":"26fc5692-930c-cb8c-313e-3e7be00f9a3d","sourcePort":"prop-role","targetId":"8bd427aa-2456-f721-573b-c101fb8911f5","targetPort":"in-Role"},{"sourceId":"26fc5692-930c-cb8c-313e-3e7be00f9a3d","sourcePort":"prop-company","targetId":"8bd427aa-2456-f721-573b-c101fb8911f5","targetPort":"in-Company"},{"sourceId":"26fc5692-930c-cb8c-313e-3e7be00f9a3d","sourcePort":"prop-email","targetId":"8bd427aa-2456-f721-573b-c101fb8911f5","targetPort":"in-Inspector"},{"sourceId":"8bd427aa-2456-f721-573b-c101fb8911f5","sourcePort":"out-Inspection","targetId":"6077db87-8155-6c4a-48f0-3a301d655f9a","targetPort":"items"},{"sourceId":"bccb405e-4cbb-f534-e505-1d4642245f44","sourcePort":"out-HideGroup","targetId":"aeabe574-9f6a-00a5-ce32-0794930f8ff9","targetPort":"mounted"},{"sourceId":"6b25de3c-9d5f-0661-fe91-b67bd53744f4","sourcePort":"mount","targetId":"c9201d86-e7f5-d6d9-2a03-88aedae9e3cb","targetPort":"mounted"},{"sourceId":"26fc5692-930c-cb8c-313e-3e7be00f9a3d","sourcePort":"prop-role","targetId":"a956c94f-4776-b68a-015b-fed66920c896","targetPort":"in-role"},{"sourceId":"a956c94f-4776-b68a-015b-fed66920c896","sourcePort":"out-Show","targetId":"6b25de3c-9d5f-0661-fe91-b67bd53744f4","targetPort":"to-show"},{"sourceId":"a956c94f-4776-b68a-015b-fed66920c896","sourcePort":"out-Hide","targetId":"6b25de3c-9d5f-0661-fe91-b67bd53744f4","targetPort":"to-hide"},{"sourceId":"66fcd837-cc71-f961-ecc2-83947d0174f3","sourcePort":"out-Heigth","targetId":"0ee0c3f7-2fba-fc4b-f17f-9b1b73f44a2b","targetPort":"Max Height"}],"ports":[],"roots":["72b0d792-8996-8885-e9aa-9f5fa6b5ee4b"]},{"name":"/#view/Inspection Request View/Inspection Details Card View","nodes":[{"id":"b053bef2-6ebb-6729-1e51-3cd62e93852d","type":"Group","parameters":{"sizeMode":"contentHeight","height":{"value":210,"unit":"px"},"flexWrap":"wrap","alignContent":"flex-start","alignX":"left","boxShadowEnabled":false,"boxShadowOffsetX":{"value":5,"unit":"px"},"boxShadowOffsetY":{"value":5,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"rowGap":{"value":0,"unit":"px"},"marginBottom":{"value":10,"unit":"px"},"boxShadowColor":"#29712454","borderRadius":{"value":5,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"marginRight":{"value":5,"unit":"px"},"boxShadowSpreadRadius":{"value":2,"unit":"px"},"borderStyle":"dashed","borderColor":"#B0B0B0"},"ports":[],"children":[{"id":"4bcaa3a8-122a-a9a7-53c7-4086f225f860","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"59a9ec99-c58b-2736-017d-1a1fb224346c","type":"Text","parameters":{"text":"Inspection Id:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"02ed92bd-ac4b-00a0-8805-4ed455140535","type":"Text","parameters":{"text":"-","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"253f1c67-b7d1-89f9-f1da-0564fa296aa2","type":"Group","parameters":{"sizeMode":"contentHeight","flexDirection":"row"},"ports":[],"children":[{"id":"95d16a67-23d7-c618-5471-e63b6bd7ece1","type":"Text","parameters":{"text":"Status:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"c51790fd-0539-124d-7db3-96f943062418","type":"Group","parameters":{"paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"sizeMode":"contentSize","borderRadius":{"value":5,"unit":"px"},"borderStyle":"solid"},"ports":[],"children":[{"id":"284a9430-a601-9899-92b6-97ad39bd7704","type":"Text","parameters":{"fontSize":{"value":14,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]}]}]},{"id":"ae0c0565-76c6-771c-b267-371375efd92f","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"5e05bd51-f0e2-b64f-924d-9483693bf791","type":"Text","parameters":{"text":"Client Name:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"c4f157e3-f546-aac4-d12a-a771733acf46","type":"Text","parameters":{"text":"Client Name","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"70172f49-e2b3-0313-d494-0292e63ecf82","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"308c2d57-615b-5e7b-a19b-33e74093e86d","type":"Text","parameters":{"text":"Contact Name:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"2af83f83-c14f-f831-c531-ce30e422709e","type":"Text","parameters":{"text":"Contact Name","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"aaa08c21-9239-227d-6063-e540be2e9ce5","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"9381d9ad-48b5-8e35-6e76-42598c2f5b95","type":"Text","parameters":{"text":"Phone:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"69a6f32e-506c-d895-8748-aa2f6e3b9886","type":"Text","parameters":{"text":"Phone","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"42d9fb6a-c2e1-24df-4f27-eed9490221db","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"8fcc3b3d-5cea-1882-8213-3dadb074c3dc","type":"Text","parameters":{"text":"Date:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"ef214752-bc48-fadb-a824-01367ae38d22","type":"Text","parameters":{"text":"Date","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"3ed542b0-5c9a-5373-e9b9-57cb8ec5ac92","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"0c9c1c2e-cb8b-9569-6b71-bbbba9a9d6e4","type":"Text","parameters":{"text":"Primary Inspector:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"da5c5360-41cb-dffe-7a04-292beb6b1b75","type":"Text","parameters":{"fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight","text":"-"},"ports":[],"children":[]}]},{"id":"8045ee0e-4e0b-7af0-7115-4f1e39c20c37","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"442867c3-5fb1-dbe0-c216-cb3625f6fb12","type":"Text","parameters":{"text":"Secondary Inspector:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"476f7a76-0632-b35b-3ef7-967389acb321","type":"Text","parameters":{"fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight","text":"-"},"ports":[],"children":[]}]},{"id":"68afce3a-d650-4051-a6e2-1e1a43a75553","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row","flexWrap":"wrap","alignContent":"flex-start","width":{"value":100,"unit":"%","isFixed":true},"height":{"value":100,"unit":"%","isFixed":false}},"ports":[],"children":[{"id":"d3fb60ef-acd1-279e-d8e4-92096ab3a524","type":"Text","parameters":{"text":"Address:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"45aeff12-4359-306c-9330-c880ad922808","type":"Text","parameters":{"text":"Address","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight","styleCss":"/* background-color: red; */\r\ncursor:pointer;\r\ntext-decoration: underline;"},"stateParameters":{"hover":{"color":"Primary ECC"}},"defaultStateTransitions":{"neutral":{"curve":[0,0,0,0.13],"dur":300,"delay":0}},"ports":[],"children":[]}]},{"id":"7dfee3be-f413-f7d2-293e-fd551102f1c2","type":"Group","parameters":{"sizeMode":"contentSize","alignX":"right","alignY":"bottom","flexDirection":"row","columnGap":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"2c37701c-727d-0c5f-b680-1d2d18f0dfbb","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"alignY":"center","alignX":"center","sizeMode":"contentSize","useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"edit","codeAsClass":false},"iconSpacing":{"value":0,"unit":"px"},"iconSize":{"value":24,"unit":"px"},"backgroundColor":"#5836F500","iconColor":"Primary ECC","minWidth":{"value":10,"unit":"px"}},"defaultStateTransitions":{},"ports":[],"children":[]},{"id":"5157d41c-5498-f4eb-81cd-a4ffd976e30b","type":"Image","parameters":{"src":"report.png","sizeMode":"explicit","width":{"value":25,"unit":"px"},"height":{"value":25,"unit":"px"},"styleCss":"/* background-color: red; */\r\ncursor:pointer;"},"ports":[],"children":[]}]}]},{"id":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","type":"Model2","parameters":{"properties":"client_name,client_contact,client_phone,inspection_date,assigned_to_inspector,client_address_1,client_address_2,client_city,client_zip_code,address,status,primary_inspector,project_number","idSource":"foreach"},"ports":[],"children":[]},{"id":"7d94915e-2125-68e7-1d65-2d31c6b42e3b","type":"JavaScriptFunction","parameters":{"functionScript":"const stat = Inputs.Status;\r\nconst primary = Inputs.Primary;\r\nconst current = Inputs.Current;\r\nconst role = Inputs.Role;\r\n\r\nif(primary == current || role == 2){\r\n\r\n  if (stat == 'pending' ){\r\n    Outputs.Add();\r\n  }\r\n  else{\r\n    Outputs.Navigate();\r\n  }\r\n}\r\nelse {\r\n  Outputs.NotPrimery();\r\n}"},"ports":[{"name":"in-Status","displayName":"Status","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Primary","displayName":"Primary","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Current","displayName":"Current","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Role","displayName":"Role","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Add","displayName":"Add","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Navigate","displayName":"Navigate","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-NotPrimery","displayName":"NotPrimery","plug":"output","type":"signal","group":"Outputs","index":10}],"children":[]},{"id":"e74b7d9e-b64d-57aa-6120-f30843df0ba3","type":"PageStackNavigateToPath","parameters":{"queryNames":"id","path":"/field-report"},"ports":[],"children":[]},{"id":"ecf2cd52-b4f4-a9a2-08ff-4422926096f4","type":"PageStackNavigateToPath","parameters":{"queryNames":"id","path":"/edit-field-report"},"ports":[],"children":[]},{"id":"4809e576-9df9-ba61-c499-1d1165a0ed63","type":"PageStackNavigateToPath","parameters":{"queryNames":"id","path":"/edit-inspection-request"},"ports":[],"children":[]},{"id":"c43fe8c9-e2e2-151a-1636-cd8507f6e204","type":"JavaScriptFunction","parameters":{"functionScript":"if(Inputs.value == null)return;\r\nconst companyString = Inputs.value;\r\nconst companies = companyString.split(', ');\r\n\r\n// Value to remove\r\nconst valueToRemove = Inputs.Email;\r\n\r\n// Use the filter method to create a new array without the specified value\r\nconst updatedCompanies = companies.filter(company => company !== valueToRemove);\r\nif(updatedCompanies.length > 0){\r\n    Outputs.comp = updatedCompanies;\r\n}\r\nelse{\r\n    Outputs.Noname = \"-\"\r\n}\r\n\r\n// Outputs.length = updatedCompanies.length;\r\n"},"ports":[{"name":"in-value","displayName":"value","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Email","displayName":"Email","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-comp","displayName":"comp","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-Noname","displayName":"Noname","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-length","displayName":"length","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"76d59102-bed5-8188-629d-e3cae0306f8c","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\n\r\nconst emails = Inputs.Email;\r\nconst firstNames = [];\r\n\r\nasync function fetchData(email) {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('user_master')\r\n      .select('first_name')\r\n      .eq('login_email', email);\r\n\r\n    if (error) {\r\n      console.error(error);\r\n      Outputs.Failure();\r\n    } else {\r\n      firstNames.push(data[0]?.first_name || 'N/A');\r\n      Outputs.Inspectors = firstNames;\r\n      Outputs.Success();\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n    Outputs.Failure();\r\n  }\r\n}\r\n\r\nasync function fetchDataForEmails() {\r\n  for (const email of emails) {\r\n    await fetchData(email);\r\n  }\r\n  Outputs.close();\r\n}\r\n\r\nfetchDataForEmails();\r\n"},"ports":[{"name":"in-Email","displayName":"Email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-close","displayName":"close","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Inspectors","displayName":"Inspectors","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"e39542ad-fff0-d6d4-654f-0554a3ca8be0","type":"JavaScriptFunction","parameters":{"functionScript":"const int = Inputs.AL;\r\nconst namesString = int.join(', ');\r\nOutputs.Inspectors = namesString"},"ports":[{"name":"in-AL","displayName":"AL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Inspectors","displayName":"Inspectors","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"ae544ab5-97df-5701-a2c8-7a6f03f5e277","type":"Model2","parameters":{"modelId":"currentUser","properties":"email,role"},"ports":[],"children":[]},{"id":"bd0f2323-f6c5-1e2b-d605-b4dbb471f78c","type":"JavaScriptFunction","parameters":{"functionScript":"const inpt = Inputs.value;\r\nOutputs.INS = 'INS-'+inpt"},"ports":[{"name":"in-value","displayName":"value","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-INS","displayName":"INS","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"7bd0be5d-2928-2f09-d73d-2ab9fb021731","type":"JavaScriptFunction","parameters":{"functionScript":"const inpt = Inputs.Status;\r\nif(inpt == 'active'){\r\n    Outputs.active();\r\n}\r\nelse if (inpt == 'closed'){\r\n    Outputs.closed();\r\n}\r\nelse {\r\n    Outputs.pending();\r\n}\r\n"},"ports":[{"name":"in-Status","displayName":"Status","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-active","displayName":"active","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-closed","displayName":"closed","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-pending","displayName":"pending","plug":"output","type":"signal","group":"Outputs","index":7}],"children":[]},{"id":"3203a1a5-42f8-eb6e-518e-3cad314141cc","type":"States","parameters":{"states":"active,closed,pending","values":"bg,border,text,text_color","type-bg":"color","type-border":"color","type-text":"string","type-text_color":"color","value-active-bg":"#B1FFAC30","value-active-border":"Primary ECC","value-active-text":"Active","value-active-text_color":"Primary ECC","value-closed-bg":"#F3C8C53F","value-closed-border":"#FF0000","value-closed-text_color":"#FF0000","value-closed-text":"Closed","value-pending-bg":"#FFEEBE3F","value-pending-border":"Notice","value-pending-text_color":"Notice","value-pending-text":"Pending"},"ports":[],"children":[]},{"id":"50492656-092d-3eef-4d5c-246fdb40b31b","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.PriInspector)return;\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\nconst p_ins = Inputs.PriInspector \r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                                .from('user_master')\r\n                                .select('first_name')\r\n                                .eq('login_email',p_ins);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Name = data[0].first_name;\r\n    Outputs.Success();\r\n  }\r\n} catch (error) {\r\n    console.error(error)\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-PriInspector","displayName":"PriInspector","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Name","displayName":"Name","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"49682266-0790-0684-8e27-fd79ddb334a7","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Triggered)return;\r\nconst stat = Inputs.Status;\r\nif(stat == 'pending'){\r\n    Outputs.Edit();\r\n}\r\nelse{\r\n    Outputs.Message();\r\n}"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Status","displayName":"Status","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Edit","displayName":"Edit","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Message","displayName":"Message","plug":"output","type":"signal","group":"Outputs","index":7}],"children":[]},{"id":"c65c5a7c-c36b-6cc7-710e-d26b01bcbb0e","type":"/#component/Show Toast","parameters":{"Type":"Warning","Message":"You can not edit, field report was started/closed"},"ports":[],"children":[]},{"id":"e5751955-e592-156c-63af-656c3c219521","type":"/#component/Show Toast","parameters":{"Type":"Warning","Message":"Only Primary inspector can add/edit field report"},"ports":[],"children":[]},{"id":"7a60354a-268c-962d-1faa-9991d86d1240","type":"JavaScriptFunction","parameters":{"functionScript":"const address = Inputs.Address || '';\r\nif (!address) return;\r\n\r\nconst encodedAddress = encodeURIComponent(address);\r\nconst mapLink = `https://www.google.com/maps/search/?api=1&query=${encodedAddress}`;\r\n\r\nOutputs.MapLink = mapLink;\r\nOutputs.Success();\r\n"},"ports":[{"name":"in-Address","displayName":"Address","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-MapLink","displayName":"MapLink","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"f37b0c51-51db-a70b-fe4e-66273bccd018","type":"net.noodl.externallink","parameters":{},"ports":[],"children":[]},{"id":"7345e737-e162-fa68-cd04-7ef462d057d0","type":"JavaScriptFunction","parameters":{"functionScript":"const inpt = Inputs.value;\r\ninpt === null ? Outputs.Value = (\"-\") : Outputs.Value = inpt"},"ports":[{"name":"in-value","displayName":"value","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Value","displayName":"Value","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-client_name","targetId":"c4f157e3-f546-aac4-d12a-a771733acf46","targetPort":"text"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-client_contact","targetId":"2af83f83-c14f-f831-c531-ce30e422709e","targetPort":"text"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-client_phone","targetId":"69a6f32e-506c-d895-8748-aa2f6e3b9886","targetPort":"text"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-inspection_date","targetId":"ef214752-bc48-fadb-a824-01367ae38d22","targetPort":"text"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"id","targetId":"ecf2cd52-b4f4-a9a2-08ff-4422926096f4","targetPort":"q-id"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"id","targetId":"e74b7d9e-b64d-57aa-6120-f30843df0ba3","targetPort":"q-id"},{"sourceId":"7d94915e-2125-68e7-1d65-2d31c6b42e3b","sourcePort":"out-Add","targetId":"e74b7d9e-b64d-57aa-6120-f30843df0ba3","targetPort":"navigate"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"id","targetId":"4809e576-9df9-ba61-c499-1d1165a0ed63","targetPort":"q-id"},{"sourceId":"c43fe8c9-e2e2-151a-1636-cd8507f6e204","sourcePort":"out-comp","targetId":"76d59102-bed5-8188-629d-e3cae0306f8c","targetPort":"in-Email"},{"sourceId":"76d59102-bed5-8188-629d-e3cae0306f8c","sourcePort":"out-Inspectors","targetId":"e39542ad-fff0-d6d4-654f-0554a3ca8be0","targetPort":"in-AL"},{"sourceId":"c43fe8c9-e2e2-151a-1636-cd8507f6e204","sourcePort":"out-comp","targetId":"76d59102-bed5-8188-629d-e3cae0306f8c","targetPort":"run"},{"sourceId":"76d59102-bed5-8188-629d-e3cae0306f8c","sourcePort":"out-Success","targetId":"e39542ad-fff0-d6d4-654f-0554a3ca8be0","targetPort":"run"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-assigned_to_inspector","targetId":"c43fe8c9-e2e2-151a-1636-cd8507f6e204","targetPort":"in-value"},{"sourceId":"e39542ad-fff0-d6d4-654f-0554a3ca8be0","sourcePort":"out-Inspectors","targetId":"476f7a76-0632-b35b-3ef7-967389acb321","targetPort":"text"},{"sourceId":"ae544ab5-97df-5701-a2c8-7a6f03f5e277","sourcePort":"prop-email","targetId":"c43fe8c9-e2e2-151a-1636-cd8507f6e204","targetPort":"in-Email"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-address","targetId":"45aeff12-4359-306c-9330-c880ad922808","targetPort":"text"},{"sourceId":"5157d41c-5498-f4eb-81cd-a4ffd976e30b","sourcePort":"onClick","targetId":"7d94915e-2125-68e7-1d65-2d31c6b42e3b","targetPort":"run"},{"sourceId":"7d94915e-2125-68e7-1d65-2d31c6b42e3b","sourcePort":"out-Navigate","targetId":"ecf2cd52-b4f4-a9a2-08ff-4422926096f4","targetPort":"navigate"},{"sourceId":"7bd0be5d-2928-2f09-d73d-2ab9fb021731","sourcePort":"out-active","targetId":"3203a1a5-42f8-eb6e-518e-3cad314141cc","targetPort":"to-active"},{"sourceId":"7bd0be5d-2928-2f09-d73d-2ab9fb021731","sourcePort":"out-closed","targetId":"3203a1a5-42f8-eb6e-518e-3cad314141cc","targetPort":"to-closed"},{"sourceId":"7bd0be5d-2928-2f09-d73d-2ab9fb021731","sourcePort":"out-pending","targetId":"3203a1a5-42f8-eb6e-518e-3cad314141cc","targetPort":"to-pending"},{"sourceId":"3203a1a5-42f8-eb6e-518e-3cad314141cc","sourcePort":"bg","targetId":"c51790fd-0539-124d-7db3-96f943062418","targetPort":"backgroundColor"},{"sourceId":"3203a1a5-42f8-eb6e-518e-3cad314141cc","sourcePort":"border","targetId":"c51790fd-0539-124d-7db3-96f943062418","targetPort":"borderColor"},{"sourceId":"3203a1a5-42f8-eb6e-518e-3cad314141cc","sourcePort":"text","targetId":"284a9430-a601-9899-92b6-97ad39bd7704","targetPort":"text"},{"sourceId":"3203a1a5-42f8-eb6e-518e-3cad314141cc","sourcePort":"text_color","targetId":"284a9430-a601-9899-92b6-97ad39bd7704","targetPort":"color"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-status","targetId":"7bd0be5d-2928-2f09-d73d-2ab9fb021731","targetPort":"in-Status"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-status","targetId":"7d94915e-2125-68e7-1d65-2d31c6b42e3b","targetPort":"in-Status"},{"sourceId":"ae544ab5-97df-5701-a2c8-7a6f03f5e277","sourcePort":"prop-email","targetId":"7d94915e-2125-68e7-1d65-2d31c6b42e3b","targetPort":"in-Current"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-primary_inspector","targetId":"7d94915e-2125-68e7-1d65-2d31c6b42e3b","targetPort":"in-Primary"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-primary_inspector","targetId":"50492656-092d-3eef-4d5c-246fdb40b31b","targetPort":"in-PriInspector"},{"sourceId":"50492656-092d-3eef-4d5c-246fdb40b31b","sourcePort":"out-Name","targetId":"da5c5360-41cb-dffe-7a04-292beb6b1b75","targetPort":"text"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-status","targetId":"49682266-0790-0684-8e27-fd79ddb334a7","targetPort":"in-Status"},{"sourceId":"49682266-0790-0684-8e27-fd79ddb334a7","sourcePort":"out-Edit","targetId":"4809e576-9df9-ba61-c499-1d1165a0ed63","targetPort":"navigate"},{"sourceId":"2c37701c-727d-0c5f-b680-1d2d18f0dfbb","sourcePort":"onClick","targetId":"49682266-0790-0684-8e27-fd79ddb334a7","targetPort":"in-Triggered"},{"sourceId":"49682266-0790-0684-8e27-fd79ddb334a7","sourcePort":"out-Message","targetId":"c65c5a7c-c36b-6cc7-710e-d26b01bcbb0e","targetPort":"Do"},{"sourceId":"7d94915e-2125-68e7-1d65-2d31c6b42e3b","sourcePort":"out-NotPrimery","targetId":"e5751955-e592-156c-63af-656c3c219521","targetPort":"Do"},{"sourceId":"7a60354a-268c-962d-1faa-9991d86d1240","sourcePort":"out-MapLink","targetId":"f37b0c51-51db-a70b-fe4e-66273bccd018","targetPort":"link"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-address","targetId":"7a60354a-268c-962d-1faa-9991d86d1240","targetPort":"in-Address"},{"sourceId":"45aeff12-4359-306c-9330-c880ad922808","sourcePort":"onClick","targetId":"f37b0c51-51db-a70b-fe4e-66273bccd018","targetPort":"do"},{"sourceId":"24c045dd-8bec-5089-337a-b8a8cbd33cc2","sourcePort":"prop-project_number","targetId":"7345e737-e162-fa68-cd04-7ef462d057d0","targetPort":"in-value"},{"sourceId":"7345e737-e162-fa68-cd04-7ef462d057d0","sourcePort":"out-Value","targetId":"02ed92bd-ac4b-00a0-8805-4ed455140535","targetPort":"text"},{"sourceId":"ae544ab5-97df-5701-a2c8-7a6f03f5e277","sourcePort":"prop-role","targetId":"7d94915e-2125-68e7-1d65-2d31c6b42e3b","targetPort":"in-Role"}],"ports":[],"roots":["b053bef2-6ebb-6729-1e51-3cd62e93852d"]}]