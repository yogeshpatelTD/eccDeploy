[{"name":"/#Add/Enter Sample/samples for add sample page","nodes":[{"id":"d3782b1c-31fc-2f63-6903-0e2659c734c3","type":"Group","parameters":{"sizeMode":"contentHeight","height":{"value":210,"unit":"px"},"flexWrap":"wrap","alignContent":"flex-start","alignY":"top","alignX":"left","boxShadowEnabled":false,"boxShadowOffsetX":{"value":5,"unit":"px"},"boxShadowOffsetY":{"value":5,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"rowGap":{"value":0,"unit":"px"},"marginTop":{"value":10,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowColor":"#29712451","borderRadius":{"value":5,"unit":"px"},"borderStyle":"dashed","borderColor":"#B0B0B0"},"ports":[],"children":[{"id":"4d4f95be-176e-3751-2a4d-571fe9eafebc","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"9dfe0ed3-c571-42f5-276e-664f999b1a95","type":"Text","parameters":{"text":"HA :","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"4f998bf4-5f5b-c55b-a2cb-34346d8b8367","type":"Text","parameters":{"text":"ha","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"11e5d1d6-1df1-ac4a-2fa9-e4e3805897ff","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"ea51d4e0-7569-410b-0f82-82f1b3a126f5","type":"Text","parameters":{"text":"Sample Id:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"e2d4b3cb-655f-042a-1d35-f5a935c3cf41","type":"Text","parameters":{"text":"sam","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"aee5b0b8-23a7-e820-1593-a10ff4aceb86","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"56fc8e05-baa5-049e-ab6d-0ed09f39efd0","type":"Text","parameters":{"text":"Material:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"b5ba08ef-78b3-57c7-3c7c-e25366860f60","type":"Text","parameters":{"text":"sam","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"9300e461-8de4-2841-35e0-b537bf1fda01","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"dbc38a41-6adc-97bf-9f26-15a8f17f5249","type":"Text","parameters":{"text":"Location:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"09bdf423-492a-13ae-56b2-1929008810de","type":"Text","parameters":{"text":"loc","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"d389b6ea-026c-fcb5-6648-02ebf848900c","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"ed0f75d9-4f54-3fa7-1ebf-63eaa86c7d55","type":"Text","parameters":{"text":"PLM:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"bbdad62d-3dc9-81d7-058f-d9780c78a2d1","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"done","codeAsClass":false},"iconColor":"#000000","iconSize":{"value":19,"unit":"px"}},"ports":[],"children":[]}]},{"id":"e7c9bc42-bff6-b232-5b8a-18bc15446465","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"a955b221-2273-9d9f-32e8-13f006325cc0","type":"Text","parameters":{"text":"PLM/NOB:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"90492289-60b8-f5ca-2a77-083c9ee888a6","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"done","codeAsClass":false},"iconColor":"#000000","iconSize":{"value":19,"unit":"px"}},"ports":[],"children":[]}]},{"id":"747fa245-92a9-428e-3fa8-64692718e881","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row","flexWrap":"wrap","alignContent":"flex-start","width":{"value":100,"unit":"%","isFixed":true},"height":{"value":100,"unit":"%","isFixed":false}},"ports":[],"children":[{"id":"895ac04d-e53c-1c38-d78a-ec39ac659f8b","type":"Text","parameters":{"text":"TEM/NOB:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"7ffb23de-45ac-dc6b-fccf-5471d8021d3d","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"done","codeAsClass":false},"iconColor":"#000000","iconSize":{"value":19,"unit":"px"}},"ports":[],"children":[]}]},{"id":"313495b1-8d63-4af7-2052-849804f18c14","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row","flexWrap":"wrap","alignContent":"flex-start","width":{"value":100,"unit":"%","isFixed":true},"height":{"value":100,"unit":"%","isFixed":false}},"ports":[],"children":[{"id":"1a5e876e-97ac-11fa-5fa3-d97930b7143d","type":"Text","parameters":{"text":"PACM:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"64f0c800-dc68-510d-8410-bb0cd3867f13","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"done","codeAsClass":false},"iconColor":"#000000","iconSize":{"value":19,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"e4c8812b-2884-e4fa-89e6-31473da2ef05","type":"Model2","parameters":{"idSource":"foreach","properties":"homogenious_area_num,location_in_building,sample_id,test_type_plm,test_type_plm_nob,test_type_tem_nob,material_name,test_type_pacm"},"ports":[],"children":[]},{"id":"3b153718-a138-9300-0058-7cde03302f08","type":"JavaScriptFunction","parameters":{"functionScript":"const int = Inputs.sample;\r\nlet formattedInt = String(int).padStart(3, '0');\r\n// let sample_id = \"SAM-\" + formattedInt;\r\nOutputs.SampleId = formattedInt;\r\n"},"ports":[{"name":"in-sample","displayName":"sample","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-SampleId","displayName":"SampleId","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"f0e9d079-a1a0-b791-4f40-d2ec54b97871","type":"JavaScriptFunction","parameters":{"functionScript":"const mat = Inputs.Material;\r\nif(mat == null || mat == '' || mat == undefined){\r\n    Outputs.Mount = false\r\n}\r\nelse {\r\n    Outputs.Mount = true\r\n}"},"ports":[{"name":"in-Material","displayName":"Material","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Mount","displayName":"Mount","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"e4c8812b-2884-e4fa-89e6-31473da2ef05","sourcePort":"prop-homogenious_area_num","targetId":"4f998bf4-5f5b-c55b-a2cb-34346d8b8367","targetPort":"text"},{"sourceId":"e4c8812b-2884-e4fa-89e6-31473da2ef05","sourcePort":"prop-location_in_building","targetId":"09bdf423-492a-13ae-56b2-1929008810de","targetPort":"text"},{"sourceId":"3b153718-a138-9300-0058-7cde03302f08","sourcePort":"out-SampleId","targetId":"e2d4b3cb-655f-042a-1d35-f5a935c3cf41","targetPort":"text"},{"sourceId":"e4c8812b-2884-e4fa-89e6-31473da2ef05","sourcePort":"prop-sample_id","targetId":"3b153718-a138-9300-0058-7cde03302f08","targetPort":"in-sample"},{"sourceId":"e4c8812b-2884-e4fa-89e6-31473da2ef05","sourcePort":"prop-material_name","targetId":"f0e9d079-a1a0-b791-4f40-d2ec54b97871","targetPort":"in-Material"},{"sourceId":"f0e9d079-a1a0-b791-4f40-d2ec54b97871","sourcePort":"out-Mount","targetId":"aee5b0b8-23a7-e820-1593-a10ff4aceb86","targetPort":"mounted"},{"sourceId":"e4c8812b-2884-e4fa-89e6-31473da2ef05","sourcePort":"prop-material_name","targetId":"b5ba08ef-78b3-57c7-3c7c-e25366860f60","targetPort":"text"},{"sourceId":"e4c8812b-2884-e4fa-89e6-31473da2ef05","sourcePort":"prop-test_type_plm","targetId":"bbdad62d-3dc9-81d7-058f-d9780c78a2d1","targetPort":"mounted"},{"sourceId":"e4c8812b-2884-e4fa-89e6-31473da2ef05","sourcePort":"prop-test_type_plm_nob","targetId":"90492289-60b8-f5ca-2a77-083c9ee888a6","targetPort":"mounted"},{"sourceId":"e4c8812b-2884-e4fa-89e6-31473da2ef05","sourcePort":"prop-test_type_tem_nob","targetId":"7ffb23de-45ac-dc6b-fccf-5471d8021d3d","targetPort":"mounted"},{"sourceId":"e4c8812b-2884-e4fa-89e6-31473da2ef05","sourcePort":"prop-test_type_pacm","targetId":"64f0c800-dc68-510d-8410-bb0cd3867f13","targetPort":"mounted"}],"ports":[],"roots":["d3782b1c-31fc-2f63-6903-0e2659c734c3"]},{"name":"/#component/Date Picker my","nodes":[{"id":"6e3e7845-df65-b2ea-a18a-360ac2bf2c19","type":"Group","parameters":{"height":{"value":35,"unit":"px"},"borderColor":"#999","flexDirection":"column","sizeMode":"explicit","borderWidth":{"value":2,"unit":"px"},"styleCss":"cursor:pointer;"},"ports":[],"children":[{"id":"fb0ae299-db87-66f2-e1d7-9514d4f1bd47","type":"Text","parameters":{"textStyle":"Label Small","marginBottom":{"value":4,"unit":"px"},"text":"Label","color":"Grey - 700","sizeMode":"contentSize"},"ports":[],"children":[]},{"id":"343615fe-389f-5bcc-6f9a-254922dce052","type":"Group","parameters":{"height":{"value":35,"unit":"px"}},"ports":[],"children":[{"id":"2e66ea36-3a4f-9237-ff48-f79713f0a2e3","type":"Group","parameters":{"position":"absolute","sizeMode":"contentSize","alignY":"center","styleCss":"cursor:pointer;"},"ports":[],"children":[{"id":"ffc020ea-ae85-bc68-16c9-00256568e296","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"calendar_today"},"iconSize":{"value":20,"unit":"px"},"iconColor":"Grey - 700","marginLeft":{"value":12,"unit":"px"}},"ports":[],"children":[]}]},{"id":"2219ebc5-06b7-7a90-b6ed-548eb034ab88","type":"net.noodl.controls.textinput","parameters":{"useLabel":false,"placeholder":"MMM DD, YYYY","alignY":"center","paddingLeft":{"value":40,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"height":{"value":35,"unit":"px"},"useIcon":false,"iconIconSource":{"class":"material-icons","code":"calendar_today"},"iconSpacing":{"value":8,"unit":"px"},"enabled":true,"color":"#000000","fontSize":{"value":12,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"stateParameters":{"focused":{"iconColor":"Primary","borderColor":"Primary ECC"}},"ports":[],"children":[]}]}]},{"id":"5d9e472f-6bd5-a4e6-6a3d-d53a7540394f","type":"Javascript2","parameters":{"code":"function mobileAndTabletCheck() {\n  let check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  return check;\n}\n\nfunction isMobile() {\n    return mobileAndTabletCheck()\n}\n\nconst scriptUrl = \"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/js/datepicker-full.min.js\"\nconst cssUrl =  \"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/css/datepicker.min.css\"\n\nfunction injectDatePicker(onload) {\n    if (document.querySelectorAll('#--ndl-datepicker-datepicker-js--').length === 0) {\n        window.__ndl_datepicker_onload = [onload]\n\n        var script = document.createElement('script');\n        script.id = \"--ndl-datepicker-datepicker-js--\"\n        script.setAttribute('src', scriptUrl);\n        script.onload = () => {\n            window.__ndl_datepicker_onload.forEach(cb => cb())\n            window.__ndl_datepicker_onload = []\n        }\n        document.head.appendChild(script)\n    }\n    else {\n        if (window.__ndl_datepicker_onload.length > 0) window.__ndl_datepicker_onload.push(onload)\n        else onload()\n    }\n}\n\nfunction injectDatePickerStyles() {\n    const datePickerStyles = `\n        .ndl-datepicker-native-input {\n            display: block;\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n            cursor: pointer;\n            min-width: 100%;\n            margin: 0;\n            padding: 0;\n            border: 0;\n            border-radius: 0;\n        }\n        .ndl-datepicker-native-input::-webkit-calendar-picker-indicator {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            margin: 0;\n            padding: 0;\n            cursor: pointer;\n        }\n\n        .datepicker {\n            display:none;\n            font-family: Roboto, sans-serif;\n            border: 1px solid ${Script.Inputs.Accent};\n            border-radius: 4px;\n        }\n\n        .datepicker-picker {\n            background-color: ${Script.Inputs.Background};\n            padding: 24px;\n        }\n\n        .datepicker-header {\n            padding-bottom: 14px;\n        }\n\n        .datepicker-header .datepicker-controls {\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .datepicker-header .datepicker-controls .button {\n            background-color: transparent;\n            color: ${Script.Inputs.Text};\n        }\n\n        .datepicker-header .datepicker-controls button.button:focus,\n        .datepicker-header .datepicker-controls button.button:hover {\n            background-color: ${Script.Inputs.HoverDateBackground};\n            color: ${Script.Inputs.HoverDateText};\n        }\n\n        .datepicker-controls .button.view-switch {\n            border: 1px solid ${Script.Inputs.Text};\n            flex: 0 0 180px;\n        }\n\n        .days-of-week .dow {\n            height: 45px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 16px;\n            font-weight: 400;\n            color: ${Script.Inputs.Accent}\n        }\n\n        .datepicker-grid {\n            width: 315px;\n        }\n\n        .datepicker-grid .datepicker-cell.day {\n            border-radius: 50%;\n            width: 45px;\n            height: 45px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .datepicker-grid .datepicker-cell {\n            color: ${Script.Inputs.Text}\n            font-size: 16px;\n        }\n\n        .datepicker-grid .datepicker-cell.next,\n        .datepicker-grid .datepicker-cell.prev {\n            color: ${Script.Inputs.TextMuted};\n        }\n\n        .datepicker-grid .datepicker-cell.focused {\n        }\n\n        .datepicker-grid .datepicker-cell.selected {\n            background-color:  ${Script.Inputs.SelectedDateBackgroud};\n            color: ${Script.Inputs.SelectedDateText};\n        }\n\n        .datepicker-grid .datepicker-cell:hover,\n        .datepicker-grid .datepicker-cell:focus {\n            color: ${Script.Inputs.HoverDateText};\n            background-color: ${Script.Inputs.HoverDateBackground};\n        }\n`\n\n    if(!isMobile()) { // This sheet is only needed if we are on desktop\n        if(document.querySelectorAll('#--ndl-datepicker-sheet--').length === 0) {\n            let addSheet = document.createElement('link');\n            addSheet.id = \"--ndl-datepicker-sheet--\"\n            addSheet.setAttribute('rel', 'stylesheet');\n            addSheet.setAttribute('href',cssUrl);\n            document.head.appendChild(addSheet);\n        }\n    }\n\n    if(document.querySelectorAll('#--ndl-datepicker-styles--').length === 0) {\n        const styles = document.createElement('style')\n        styles.id = '--ndl-datepicker-styles--'\n        styles.innerHTML = datePickerStyles\n        document.head.append(styles)\n    }\n}\n\n// Format a date object into a string\nfunction formatDate(date) {\n    if(!(date instanceof Date)) return\n\n    const months = [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ]\n\n    let newDateString = months[date.getMonth()] + ' ' +date.getDate() + ', ' + date.getFullYear()\n\n    return newDateString\n}\n\n// Parse a date string in the format we use into a date object\n// if possible\nfunction parseDate(_dateString) {\n    // No valid date, return todays date\n    if(_dateString === undefined || _dateString.length < 3) \n        return null\n\n    let dateString = _dateString.trim().toLowerCase()\n\n    const months = {\n        'jan':0,\n        'feb':1,\n        'mar':2,\n        'apr':3,\n        'may':4,\n        'jun':5,\n        'jul':6,\n        'aug':7,\n        'sep':8,\n        'oct':9,\n        'nov':10,\n        'dec':11\n    }\n\n    let month = months[dateString.substring(0,3)]\n    if(month === undefined) return new Date() // Not a valid month\n\n    // Remove month\n    dateString = dateString.substring(3)\n    dateString = dateString.trim()\n\n    let sepIndex = dateString.indexOf(',')\n    let dayString = dateString.substring(0,sepIndex==-1?dateString.length:sepIndex)\n\n    let day = parseInt(dayString) || 1\n\n    let year = (new Date()).getFullYear()\n    if(sepIndex !== -1) {\n        dateString = dateString.substring(sepIndex+1)\n        dateString = dateString.trim()\n        \n        if(dateString.length === 4)\n        year = parseInt(dateString)\n    }\n\n    return new Date(year,month,day)\n}\n\n// Compare two dates, ignoring the time\nfunction compareDates(a,b) {\n    if(a.getFullYear() === b.getFullYear() && a.getDate() === b.getDate() && a.getMonth() === b.getMonth())\n        return true\n\n    return false\n}\n\nvar dateInput,datepicker,datePopup\n\nconst TextInputFocused = () => {\n    Component.Object.TextInputIsFocused = true\n\n    // If the text input is focused and we are not running on a mobile device\n    // launch the popup\n    if(!isMobile()) {\n        const textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n        const rect = textInput.getBoundingClientRect()\n\n      //  let top = rect.bottom + Script.Inputs.PopupMarginTop\n      //  let left = rect.left + Script.Inputs.PopupMarginRight\n\n        datePopup = document.createElement('div')\n        datePopup.style.zIndex = 100\n        datePopup.style.position = 'absolute'\n        datePopup.style.border = \"1px solid \" + Script.Inputs.BorderColor\n        datePopup.style.borderRadius = \"4px\"\n        datePopup.style.top = (rect.bottom + Script.Inputs.PopupMarginTop) + 'px'\n        datePopup.style.left = (rect.left + Script.Inputs.PopupMarginRight) + 'px'\n        document.body.appendChild(datePopup)\n\n        // This is running on desktop, install the vanilla js\n        injectDatePicker(() => {\n            // Script is loaded\n\n            datepicker = new Datepicker(datePopup, {\n                prevArrow:'<',\n                nextArrow:'>',\n            }); \n\n            // adjuste position if outside of screen\n            const rect = datePopup.getBoundingClientRect()\n            if(rect.top + rect.height > window.innerHeight) {\n                datePopup.style.top = Math.max(0,window.innerHeight - rect.height) + 'px'\n            }\n            if(rect.left + rect.width > window.innerWidth) {\n                datePopup.style.left = Math.max(0,window.innerWidth - rect.width) + 'px'\n            }\n         \n           \n\n            if(Component.Object.Date !== undefined) {\n                datepicker.setDate(Component.Object.Date)\n            }\n\n            datePopup.addEventListener('changeDate',() => {\n                // The picker reports a changed date\n                \n            })\n\n            datePopup.addEventListener('click',(ev) => {\n                // The user have clicked a date in the popup\n                var date = datepicker.getDate()\n\n                // If the date is a new date\n                if(date && (!Component.Object.Date || !compareDates(Component.Object.Date,date))) {\n                    \n                    // Blur the text input so the date can be updated\n                    Component.Object.Date = date\n                   \n                    textInput.blur()\n                }\n            })\n            \n        })\n\n    }\n}\n\nconst TextInputBlurred = () => {\n    Component.Object.TextInputIsFocused = false\n\n    const textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n    const dateString = textInput.value\n\n    const date = parseDate(dateString)\n    Component.Object.Date = date\n    Script.Outputs.DateSelected()\n\n    document.body.removeChild(datePopup)\n}\n\nconst DateStringChanged = (e) => {\n    const dateString = e.target.value\n\n    if(Component.Object.TextInputIsFocused) {\n        const date = parseDate(dateString)\n\n        // The date have changed in the component object, update the\n        // date picker\n        if(datepicker !== undefined) {\n            datepicker.setDate(date)\n        }\n\n        if(dateInput !== undefined) {\n            dateInput.value = date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate()\n        }\n    }\n}\n\nScript.Inputs = {\n    PopupMarginRight: 'number',\n    PopupMarginTop: 'number',\n    Text: 'color',\n    TextMuted: 'color',\n    Accent: 'color',\n    Background: 'color',\n    SelectedDateBackground: 'color',\n    SelectedDateText: 'color',\n    HoverDateBackground: 'color',\n    HoverDateText: 'color'\n}\n\nScript.Signals.DidMount = () => {\n    Script.Outputs.IsMobile = isMobile()\n\n    injectDatePickerStyles()\n\n    // Register blur / focus listeners\n    if(Script.Inputs.TextInput.getDOMElement() !== undefined) {\n        var textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n        textInput.addEventListener('focus',TextInputFocused)\n        textInput.addEventListener('blur',TextInputBlurred)\n        textInput.addEventListener('keydown',(e) => {\n            if(e.keyCode===13) textInput.blur()\n        })\n        textInput.addEventListener('keyup',DateStringChanged)\n    }\n\n    // If there is a date set from start, format it \n    if(Component.Object.Date !== undefined) {\n        let formattedDate = formatDate(Component.Object.Date)\n        Component.Object['Formatted Date'] = formattedDate\n    }\n\n\n    Component.Object.on('change',(ev) => {\n        if(ev.name === 'Date') {\n            const date = Component.Object.Date\n            // The date have changed in the component object, update the\n            // date picker\n            if(datepicker !== undefined) {\n                datepicker.setDate(date)\n            }\n\n            if(dateInput !== undefined) {\n                dateInput.value = date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate()\n            }\n\n            let formattedDate = formatDate(date)\n            textInput.value = formattedDate\n            Component.Object['Formatted Date'] = formattedDate\n        }\n    })\n\n    if(isMobile()) {\n        // On Mobile create a native date input hidden\n        // under the icon, clicking it will show the\n        // native picker\n        const elem = Script.Inputs.TextInput.getDOMElement()\n\n        dateInput = document.createElement('input')\n        dateInput.className = 'ndl-datepicker-native-input'\n\n        elem.parentNode.appendChild(dateInput)\n\n        dateInput.type = \"date\"\n\n        dateInput.onchange = () => {\n            var date = new Date(dateInput.value)\n            Component.Object.Date = date\n            Script.Outputs.DateSelected()\n        }\n    }\n}","scriptInputs":[],"PopupRightMargin":-44,"PopupMarginRight":-42,"PopupMarginTop":4,"Text":"Grey - 700","Accent":"Primary","SelectedDateBackground":"Primary","SelectedDateText":"White","HoverDateBackground":"Grey - 300","HoverDateText":"Grey - 900","BorderColor":"Primary","Background":"White","TextMuted":"Grey - 400"},"ports":[{"name":"PopupMarginRight","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"PopupMarginTop","plug":"input","type":{"name":"number"},"group":"Inputs","index":6},{"name":"Text","plug":"input","type":{"name":"color"},"group":"Inputs","index":7},{"name":"TextMuted","plug":"input","type":{"name":"color"},"group":"Inputs","index":8},{"name":"Accent","plug":"input","type":{"name":"color"},"group":"Inputs","index":9},{"name":"Background","plug":"input","type":{"name":"color"},"group":"Inputs","index":10},{"name":"SelectedDateBackground","plug":"input","type":{"name":"color"},"group":"Inputs","index":11},{"name":"SelectedDateText","plug":"input","type":{"name":"color"},"group":"Inputs","index":12},{"name":"HoverDateBackground","plug":"input","type":{"name":"color"},"group":"Inputs","index":13},{"name":"HoverDateText","plug":"input","type":{"name":"color"},"group":"Inputs","index":14},{"name":"DidMount","plug":"input","type":{"name":"signal"},"group":"Inputs","index":15},{"name":"SelectedDateBackgroud","displayName":"SelectedDateBackgroud","plug":"input","type":"*","group":"Inputs","index":16},{"name":"TextInput","displayName":"TextInput","plug":"input","type":"*","group":"Inputs","index":17},{"name":"BorderColor","displayName":"BorderColor","plug":"input","type":"*","group":"Inputs","index":18},{"name":"DateSelected","displayName":"DateSelected","plug":"output","type":"signal","group":"Outputs","index":19},{"name":"IsMobile","displayName":"IsMobile","plug":"output","type":"*","group":"Outputs","index":20}],"children":[]},{"id":"f4bed360-2227-db8b-f70b-2dc64bcb0516","type":"net.noodl.ComponentObject","parameters":{"properties":"Date,Formatted Date"},"ports":[],"children":[]},{"id":"622fc824-c4ef-bd0a-4c5f-7697b5abfbe4","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"5b388e16-d6bd-0fdb-7f66-84a7c6a2247d","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"6232523f-074e-87e8-8423-77fdd21bb0a4","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"4face805-83f4-6dcf-d96b-b1f08819e25b","type":"JavaScriptFunction","parameters":{"functionScript":"const months1 = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\nconst today1 = new Date();\r\n  \r\nconst month1 = months1[today1.getMonth()];\r\nconst day1 = String(today1.getDate()).padStart(2, '0');\r\nconst year1 = today1.getFullYear();\r\n\r\n  Outputs.Datenm =  `${month1} ${day1}, ${year1}`;\r\n\r\nconst today = new Date();\r\n\r\n// Get year, month, and day\r\nconst year = today.getFullYear();\r\nconst month = String(today.getMonth() + 1).padStart(2, '0'); // Month is zero-based, so add 1\r\nconst day = String(today.getDate()).padStart(2, '0');\r\n\r\n// Get hours, minutes, and seconds\r\nconst hours = String(today.getHours()).padStart(2, '0');\r\nconst minutes = String(today.getMinutes()).padStart(2, '0');\r\nconst seconds = String(today.getSeconds()).padStart(2, '0');\r\n\r\n// Get milliseconds\r\nconst milliseconds = String(today.getMilliseconds()).padStart(3, '0');\r\n\r\n// Create the ISO 8601 formatted date string\r\nconst isoDateString = `${year}-${month}-${day}T${hours}:${minutes}:${seconds}.${milliseconds}Z`;\r\n\r\nOutputs.Date =isoDateString;\r\n// Outputs.Datenm =  `${month} ${day}, ${year}`;\r\n"},"ports":[{"name":"out-Date","displayName":"Date","plug":"output","type":"*","group":"Outputs","index":4},{"name":"out-Datenm","displayName":"Datenm","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"6454073e-76ac-ceda-6ef6-39050e1d6308","type":"JavaScriptFunction","parameters":{"functionScript":"\nfunction formatDate(dateString) {\n  const date = new Date(dateString);\n  const options = { month: 'short', day: 'numeric', year: 'numeric' };\n  return date.toLocaleDateString('en-US', options);\n}\n\nconst date = Inputs.Date;\nconst formattedDate = formatDate(date);\nOutputs.FormattedDate = formattedDate;\n"},"ports":[{"name":"in-Date","displayName":"Date","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-FormattedDate","displayName":"FormattedDate","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"6e3e7845-df65-b2ea-a18a-360ac2bf2c19","sourcePort":"didMount","targetId":"5d9e472f-6bd5-a4e6-6a3d-d53a7540394f","targetPort":"DidMount"},{"sourceId":"622fc824-c4ef-bd0a-4c5f-7697b5abfbe4","sourcePort":"Value","targetId":"f4bed360-2227-db8b-f70b-2dc64bcb0516","targetPort":"value-Date"},{"sourceId":"f4bed360-2227-db8b-f70b-2dc64bcb0516","sourcePort":"value-Date","targetId":"5b388e16-d6bd-0fdb-7f66-84a7c6a2247d","targetPort":"Value"},{"sourceId":"5d9e472f-6bd5-a4e6-6a3d-d53a7540394f","sourcePort":"DateSelected","targetId":"5b388e16-d6bd-0fdb-7f66-84a7c6a2247d","targetPort":"Changed"},{"sourceId":"6232523f-074e-87e8-8423-77fdd21bb0a4","sourcePort":"Align Y","targetId":"6e3e7845-df65-b2ea-a18a-360ac2bf2c19","targetPort":"alignY"},{"sourceId":"6232523f-074e-87e8-8423-77fdd21bb0a4","sourcePort":"Align X","targetId":"6e3e7845-df65-b2ea-a18a-360ac2bf2c19","targetPort":"alignX"},{"sourceId":"6232523f-074e-87e8-8423-77fdd21bb0a4","sourcePort":"Margin Top","targetId":"6e3e7845-df65-b2ea-a18a-360ac2bf2c19","targetPort":"marginTop"},{"sourceId":"6232523f-074e-87e8-8423-77fdd21bb0a4","sourcePort":"Margin Bottom","targetId":"6e3e7845-df65-b2ea-a18a-360ac2bf2c19","targetPort":"marginBottom"},{"sourceId":"6232523f-074e-87e8-8423-77fdd21bb0a4","sourcePort":"Margin Left","targetId":"6e3e7845-df65-b2ea-a18a-360ac2bf2c19","targetPort":"marginLeft"},{"sourceId":"6232523f-074e-87e8-8423-77fdd21bb0a4","sourcePort":"Margin Right","targetId":"6e3e7845-df65-b2ea-a18a-360ac2bf2c19","targetPort":"marginRight"},{"sourceId":"6232523f-074e-87e8-8423-77fdd21bb0a4","sourcePort":"Position","targetId":"6e3e7845-df65-b2ea-a18a-360ac2bf2c19","targetPort":"position"},{"sourceId":"6232523f-074e-87e8-8423-77fdd21bb0a4","sourcePort":"Width","targetId":"6e3e7845-df65-b2ea-a18a-360ac2bf2c19","targetPort":"width"},{"sourceId":"2219ebc5-06b7-7a90-b6ed-548eb034ab88","sourcePort":"this","targetId":"5d9e472f-6bd5-a4e6-6a3d-d53a7540394f","targetPort":"TextInput"},{"sourceId":"f4bed360-2227-db8b-f70b-2dc64bcb0516","sourcePort":"value-Formatted Date","targetId":"2219ebc5-06b7-7a90-b6ed-548eb034ab88","targetPort":"startValue"},{"sourceId":"6232523f-074e-87e8-8423-77fdd21bb0a4","sourcePort":"Label","targetId":"fb0ae299-db87-66f2-e1d7-9514d4f1bd47","targetPort":"text"},{"sourceId":"6232523f-074e-87e8-8423-77fdd21bb0a4","sourcePort":"Show Label","targetId":"fb0ae299-db87-66f2-e1d7-9514d4f1bd47","targetPort":"mounted"},{"sourceId":"6e3e7845-df65-b2ea-a18a-360ac2bf2c19","sourcePort":"didMount","targetId":"4face805-83f4-6dcf-d96b-b1f08819e25b","targetPort":"run"},{"sourceId":"4face805-83f4-6dcf-d96b-b1f08819e25b","sourcePort":"out-Date","targetId":"f4bed360-2227-db8b-f70b-2dc64bcb0516","targetPort":"value-Date"},{"sourceId":"4face805-83f4-6dcf-d96b-b1f08819e25b","sourcePort":"out-Datenm","targetId":"f4bed360-2227-db8b-f70b-2dc64bcb0516","targetPort":"value-Formatted Date"},{"sourceId":"622fc824-c4ef-bd0a-4c5f-7697b5abfbe4","sourcePort":"Value","targetId":"6454073e-76ac-ceda-6ef6-39050e1d6308","targetPort":"in-Date"},{"sourceId":"6454073e-76ac-ceda-6ef6-39050e1d6308","sourcePort":"out-FormattedDate","targetId":"f4bed360-2227-db8b-f70b-2dc64bcb0516","targetPort":"value-Formatted Date"}],"ports":[{"name":"Align Y","type":{"name":"enum","enums":[{"label":"Top","value":"top"},{"label":"Center","value":"center"},{"label":"Bottom","value":"bottom"}],"alignComp":"vertical"},"group":"Alignment","plug":"input","index":0},{"name":"Value","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":1},{"name":"Value","type":{"name":"*","allowConnectionsOnly":true},"plug":"input","index":1},{"name":"Align X","type":{"name":"enum","enums":[{"label":"Left","value":"left"},{"label":"Center","value":"center"},{"label":"Right","value":"right"}],"alignComp":"horizontal"},"group":"Alignment","plug":"input","index":1},{"name":"Changed","type":"signal","plug":"output","index":2},{"name":"Margin Top","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-top"},"group":"Margins","plug":"input","index":2},{"name":"Margin Bottom","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-bottom"},"group":"Margins","plug":"input","index":3},{"name":"Margin Left","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-left"},"group":"Margins","plug":"input","index":4},{"name":"Margin Right","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-right"},"group":"Margins","plug":"input","index":5},{"name":"Position","type":{"name":"enum","enums":[{"label":"In Layout","value":"relative"},{"label":"Absolute","value":"absolute"},{"label":"Sticky","value":"sticky"},{"label":"Fixed","value":"fixed"}]},"default":"relative","group":"Layout","plug":"input","index":7},{"name":"Width","type":{"name":"dimension","units":["%","px","vw","vh"],"defaultUnit":"%"},"default":100,"group":"Dimensions","plug":"input","index":8},{"name":"Text","type":"*","group":"Colors","plug":"input","index":9},{"name":"Show Label","type":"boolean","default":true,"group":"Label","plug":"input","index":10},{"name":"Label","type":{"name":"string","multiline":true},"default":"Label","group":"Label","plug":"input","index":11}],"roots":["6e3e7845-df65-b2ea-a18a-360ac2bf2c19"],"metadata":{"canvasPos":{"x":564,"y":20}}},{"name":"/#component/Multi Choice","nodes":[{"id":"9b3ea291-52c1-ffad-a90b-e7fd30b899ff","type":"Group","parameters":{"backgroundColor":"#FFFFFF","sizeMode":"contentWidth"},"ports":[],"children":[{"id":"8b097f84-033e-4a5d-572e-8a9bdfd3c8cb","type":"Text","parameters":{"color":"Grey - 700","textStyle":"Label Small","text":"Checkbox group label","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]},{"id":"82c39423-a43b-ba05-42c0-65f4ca76e53c","type":"Group","parameters":{"marginTop":{"value":8,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"children":[{"id":"501b3d28-2dbe-31ab-1328-6de79c0cd356","type":"For Each","parameters":{"template":"/#component/Multi Choice/Item"},"ports":[],"children":[]}]}]},{"id":"5d70226d-263b-d126-6016-caad4363b0d0","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"7659809a-c8d1-2508-edfb-118dc589ab94","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"d4b1068c-5a5b-bb62-193c-f9c655e2b690","type":"net.noodl.ComponentObject","parameters":{"properties":"Checkboxes,Selection"},"ports":[],"children":[]},{"id":"77fb431d-49de-2d5b-fd48-4592376e7429","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Options) return // No options, no fun\n\nComponent.Object.Checkboxes = Inputs.Options.map((o,idx) => Noodl.Object.create({\n    id:Component.Object.id+'-'+o,\n    Value:o,\n    Label:Inputs.Labels!==undefined?Inputs.Labels[idx]:o,\n    Checked:Inputs.Selection!==undefined && Inputs.Selection.indexOf(o) !== -1\n}))","scriptInputs":[{"id":"melj","label":"Options"},{"id":"pdiv","label":"Selection"},{"id":"l9z7","label":"Labels"}],"intype-Options":"array","intype-Selection":"array","intype-Labels":"array","in-Options":"['one','two','three']","in-Labels":"['One','Two','Three']"},"ports":[{"name":"intype-Options","displayName":"Type","editorName":"Options | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"melj","index":4},{"name":"in-Options","displayName":"Options","plug":"input","type":"array","group":"Inputs","index":5},{"name":"intype-Selection","displayName":"Type","editorName":"Selection | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"pdiv","index":6},{"name":"in-Selection","displayName":"Selection","plug":"input","type":"array","group":"Inputs","index":7},{"name":"intype-Labels","displayName":"Type","editorName":"Labels | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"l9z7","index":8},{"name":"in-Labels","displayName":"Labels","plug":"input","type":"array","group":"Inputs","index":9}],"children":[]},{"id":"645300d5-c3c2-d868-9d72-46495059c736","type":"JavaScriptFunction","parameters":{"functionScript":"Component.Object.Selection = Component.Object.Checkboxes.filter(o => o.Checked).map(o => o.Value)\nOutputs.Changed()\n","scriptInputs":[{"id":"melj","label":"Options"},{"id":"pdiv","label":"Selection"}],"intype-Options":"array","intype-Selection":"array"},"ports":[{"name":"intype-Options","displayName":"Type","editorName":"Options | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"melj","index":4},{"name":"in-Options","displayName":"Options","plug":"input","type":"array","group":"Inputs","index":5},{"name":"intype-Selection","displayName":"Type","editorName":"Selection | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"pdiv","index":6},{"name":"in-Selection","displayName":"Selection","plug":"input","type":"array","group":"Inputs","index":7},{"name":"out-Changed","displayName":"Changed","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[]},{"id":"5b827d86-00ee-05f3-dfa5-bcaf10837461","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"5d70226d-263b-d126-6016-caad4363b0d0","sourcePort":"Item Template","targetId":"501b3d28-2dbe-31ab-1328-6de79c0cd356","targetPort":"template"},{"sourceId":"d4b1068c-5a5b-bb62-193c-f9c655e2b690","sourcePort":"value-Checkboxes","targetId":"501b3d28-2dbe-31ab-1328-6de79c0cd356","targetPort":"items"},{"sourceId":"501b3d28-2dbe-31ab-1328-6de79c0cd356","sourcePort":"itemOutputSignal-Selection Changed","targetId":"645300d5-c3c2-d868-9d72-46495059c736","targetPort":"run"},{"sourceId":"d4b1068c-5a5b-bb62-193c-f9c655e2b690","sourcePort":"value-Selection","targetId":"7659809a-c8d1-2508-edfb-118dc589ab94","targetPort":"Selection"},{"sourceId":"5d70226d-263b-d126-6016-caad4363b0d0","sourcePort":"Selection","targetId":"d4b1068c-5a5b-bb62-193c-f9c655e2b690","targetPort":"value-Selection"},{"sourceId":"645300d5-c3c2-d868-9d72-46495059c736","sourcePort":"out-Changed","targetId":"7659809a-c8d1-2508-edfb-118dc589ab94","targetPort":"Selection Changed"},{"sourceId":"5d70226d-263b-d126-6016-caad4363b0d0","sourcePort":"Labels","targetId":"77fb431d-49de-2d5b-fd48-4592376e7429","targetPort":"in-Labels"},{"sourceId":"5d70226d-263b-d126-6016-caad4363b0d0","sourcePort":"Options","targetId":"77fb431d-49de-2d5b-fd48-4592376e7429","targetPort":"in-Options"},{"sourceId":"5d70226d-263b-d126-6016-caad4363b0d0","sourcePort":"Selection","targetId":"77fb431d-49de-2d5b-fd48-4592376e7429","targetPort":"in-Selection"},{"sourceId":"5b827d86-00ee-05f3-dfa5-bcaf10837461","sourcePort":"Align Y","targetId":"9b3ea291-52c1-ffad-a90b-e7fd30b899ff","targetPort":"alignY"},{"sourceId":"5b827d86-00ee-05f3-dfa5-bcaf10837461","sourcePort":"Align X","targetId":"9b3ea291-52c1-ffad-a90b-e7fd30b899ff","targetPort":"alignX"},{"sourceId":"5b827d86-00ee-05f3-dfa5-bcaf10837461","sourcePort":"Margin Top","targetId":"9b3ea291-52c1-ffad-a90b-e7fd30b899ff","targetPort":"marginTop"},{"sourceId":"5b827d86-00ee-05f3-dfa5-bcaf10837461","sourcePort":"Margin Bottom","targetId":"9b3ea291-52c1-ffad-a90b-e7fd30b899ff","targetPort":"marginBottom"},{"sourceId":"5b827d86-00ee-05f3-dfa5-bcaf10837461","sourcePort":"Margin Left","targetId":"9b3ea291-52c1-ffad-a90b-e7fd30b899ff","targetPort":"marginLeft"},{"sourceId":"5b827d86-00ee-05f3-dfa5-bcaf10837461","sourcePort":"Margin Right","targetId":"9b3ea291-52c1-ffad-a90b-e7fd30b899ff","targetPort":"marginRight"},{"sourceId":"5b827d86-00ee-05f3-dfa5-bcaf10837461","sourcePort":"Position","targetId":"9b3ea291-52c1-ffad-a90b-e7fd30b899ff","targetPort":"position"},{"sourceId":"5b827d86-00ee-05f3-dfa5-bcaf10837461","sourcePort":"Width","targetId":"9b3ea291-52c1-ffad-a90b-e7fd30b899ff","targetPort":"width"},{"sourceId":"5b827d86-00ee-05f3-dfa5-bcaf10837461","sourcePort":"Label","targetId":"8b097f84-033e-4a5d-572e-8a9bdfd3c8cb","targetPort":"text"}],"ports":[{"name":"Options","type":"array","default":"['one','two','three']","group":"General","plug":"input","index":0},{"name":"Align Y","type":{"name":"enum","enums":[{"label":"Top","value":"top"},{"label":"Center","value":"center"},{"label":"Bottom","value":"bottom"}],"alignComp":"vertical"},"group":"Alignment","plug":"input","index":0},{"name":"Selection","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":1},{"name":"Selection","type":"array","group":"General","plug":"input","index":1},{"name":"Align X","type":{"name":"enum","enums":[{"label":"Left","value":"left"},{"label":"Center","value":"center"},{"label":"Right","value":"right"}],"alignComp":"horizontal"},"group":"Alignment","plug":"input","index":1},{"name":"Selection Changed","type":"signal","plug":"output","index":2},{"name":"Labels","type":"array","default":"['One','Two','Three']","group":"General","plug":"input","index":2},{"name":"Margin Top","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-top"},"group":"Margins","plug":"input","index":2},{"name":"Item Template","type":"component","default":"/#component/Multi Choice/Item","group":"Style","plug":"input","index":3},{"name":"Margin Bottom","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-bottom"},"group":"Margins","plug":"input","index":3},{"name":"Margin Left","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-left"},"group":"Margins","plug":"input","index":4},{"name":"Margin Right","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-right"},"group":"Margins","plug":"input","index":5},{"name":"Position","type":{"name":"enum","enums":[{"label":"In Layout","value":"relative"},{"label":"Absolute","value":"absolute"},{"label":"Sticky","value":"sticky"},{"label":"Fixed","value":"fixed"}]},"default":"relative","group":"Layout","plug":"input","index":6},{"name":"Width","type":{"name":"dimension","units":["%","px","vw","vh"],"defaultUnit":"%"},"default":100,"group":"Dimensions","plug":"input","index":7},{"name":"Label","type":{"name":"string","multiline":true},"default":"Checkbox group label","group":"Other","plug":"input","index":8}],"roots":["9b3ea291-52c1-ffad-a90b-e7fd30b899ff"],"metadata":{"canvasPos":{"x":2381.6590552643065,"y":-362.5497149944302}}},{"name":"/#component/Multi Choice/Item","nodes":[{"id":"e4b1f91d-6e3c-9eac-2080-0d69b4800526","type":"Group","parameters":{"sizeMode":"contentHeight","marginBottom":{"value":4,"unit":"px"}},"ports":[],"children":[{"id":"5eb9b7e5-edf2-9370-02f3-1929cac9846c","type":"net.noodl.controls.checkbox","parameters":{"styleCss":"cursor:pointer;"},"ports":[],"children":[]}]},{"id":"554e46ea-e602-1720-2492-fbf1b7592311","type":"Model2","parameters":{"properties":"Label,Checked","idSource":"foreach"},"ports":[],"children":[]},{"id":"731961e5-38d1-8349-22be-42255ff886e5","type":"SetModelProperties","parameters":{"properties":"Checked"},"ports":[],"children":[]},{"id":"be15db2a-3f73-db0e-5fd9-9476d9440fa5","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"554e46ea-e602-1720-2492-fbf1b7592311","sourcePort":"prop-Checked","targetId":"5eb9b7e5-edf2-9370-02f3-1929cac9846c","targetPort":"checked"},{"sourceId":"5eb9b7e5-edf2-9370-02f3-1929cac9846c","sourcePort":"onChange","targetId":"731961e5-38d1-8349-22be-42255ff886e5","targetPort":"store"},{"sourceId":"5eb9b7e5-edf2-9370-02f3-1929cac9846c","sourcePort":"checked","targetId":"731961e5-38d1-8349-22be-42255ff886e5","targetPort":"prop-Checked"},{"sourceId":"554e46ea-e602-1720-2492-fbf1b7592311","sourcePort":"id","targetId":"731961e5-38d1-8349-22be-42255ff886e5","targetPort":"modelId"},{"sourceId":"554e46ea-e602-1720-2492-fbf1b7592311","sourcePort":"prop-Label","targetId":"5eb9b7e5-edf2-9370-02f3-1929cac9846c","targetPort":"label"},{"sourceId":"731961e5-38d1-8349-22be-42255ff886e5","sourcePort":"stored","targetId":"be15db2a-3f73-db0e-5fd9-9476d9440fa5","targetPort":"Selection Changed"}],"ports":[{"name":"Selection Changed","type":"signal","plug":"output","index":1}],"roots":["e4b1f91d-6e3c-9eac-2080-0d69b4800526"],"metadata":{"canvasPos":{"x":2382.9289889251104,"y":-296.2584143137957},"canvasSize":{"width":"229px","height":"auto"}}},{"name":"/#component/my Time Picker/Time Picker Item","nodes":[{"id":"3c9dd11e-8441-a469-8e14-9515a6ee9fee","type":"Group","parameters":{"height":{"value":20,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"paddingTop":{"value":4,"unit":"px"},"paddingBottom":{"value":4,"unit":"px"},"sizeMode":"contentHeight"},"stateParameters":{"hover":{"backgroundColor":"Grey - 300"}},"ports":[],"children":[{"id":"12cfbf2e-15a9-8c26-5b57-001d83e78a44","type":"Text","parameters":{"sizeMode":"explicit","textAlignY":"center","textAlignX":"center","styleCss":"cursor: pointer;","textStyle":"Body Medium","color":"Grey - 900"},"ports":[],"children":[]}]},{"id":"1c833f28-c7ea-2c14-fe7e-f7524ef5e056","type":"Model2","parameters":{"idSource":"foreach","properties":"Label"},"ports":[],"children":[]},{"id":"4e08c0a7-1cd0-399a-3029-b53906cbb9a3","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"1c833f28-c7ea-2c14-fe7e-f7524ef5e056","sourcePort":"prop-Label","targetId":"12cfbf2e-15a9-8c26-5b57-001d83e78a44","targetPort":"text"},{"sourceId":"3c9dd11e-8441-a469-8e14-9515a6ee9fee","sourcePort":"pointerDown","targetId":"4e08c0a7-1cd0-399a-3029-b53906cbb9a3","targetPort":"Click"}],"ports":[{"name":"Click","type":"signal","plug":"output","index":1}],"roots":["3c9dd11e-8441-a469-8e14-9515a6ee9fee"]},{"name":"/#component/Progress Circle","nodes":[{"id":"de86e988-d668-19ac-f5cb-d06537c5afa7","type":"Group","parameters":{"sizeMode":"contentSize","alignY":"center"},"ports":[],"children":[{"id":"4ba38096-745c-35de-25b0-d8dc00b7ac4e","type":"Circle","parameters":{"size":50,"strokeWidth":4,"fillEnabled":false,"strokeEnabled":true,"strokeColor":"Grey - 400"},"ports":[],"children":[]},{"id":"e0e5687e-ccd6-5297-f2fd-2be98361a6f0","type":"Circle","parameters":{"size":50,"strokeWidth":4,"position":"absolute","fillEnabled":false,"strokeColor":"Primary ECC","strokeLineCap":"round","strokeEnabled":true,"endAngle":0},"ports":[],"children":[]},{"id":"507fc58e-48af-2f40-916e-08e66d4a7146","type":"Group","parameters":{"sizeMode":"contentSize","position":"absolute","alignX":"center","alignY":"center"},"ports":[],"children":[{"id":"bbe494e8-7167-dd40-aebb-57d422a8f7e3","type":"Text","parameters":{"textStyle":"Label Large","text":"99%","color":"Grey - 900","lineHeight":{"value":1,"unit":""},"fontSize":{"value":10,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"22d639ab-68e6-8288-bf77-8045f23e9e03","type":"Number Remapper","parameters":{"maxOutputValue":100},"ports":[],"children":[]},{"id":"d1fea155-362d-8fd9-52a8-095769cdece5","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"94c3433b-6df8-67a3-e580-086c718b4f14","type":"String Format","parameters":{"format":"{val}%"},"ports":[],"children":[]},{"id":"2b842461-17a5-f8dd-0254-134d48d7363a","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"87a39c4d-1064-98ee-1228-24a0cdb0158f","type":"Number Remapper","parameters":{"maxInputValue":100,"maxOutputValue":360},"ports":[],"children":[]},{"id":"68a07a5e-ae0f-01ea-b5ba-214433d24338","type":"Expression","parameters":{"expression":"Math.round(val)"},"ports":[],"children":[]},{"id":"b5ef4ecf-6b9a-4518-a7ec-060c7ebbb781","type":"net.noodl.animatetovalue","parameters":{"duration":300},"ports":[],"children":[]}],"connections":[{"sourceId":"d1fea155-362d-8fd9-52a8-095769cdece5","sourcePort":"Value","targetId":"22d639ab-68e6-8288-bf77-8045f23e9e03","targetPort":"inputValue"},{"sourceId":"d1fea155-362d-8fd9-52a8-095769cdece5","sourcePort":"Min Value","targetId":"22d639ab-68e6-8288-bf77-8045f23e9e03","targetPort":"minInputValue"},{"sourceId":"d1fea155-362d-8fd9-52a8-095769cdece5","sourcePort":"Max Value","targetId":"22d639ab-68e6-8288-bf77-8045f23e9e03","targetPort":"maxInputValue"},{"sourceId":"94c3433b-6df8-67a3-e580-086c718b4f14","sourcePort":"formatted","targetId":"bbe494e8-7167-dd40-aebb-57d422a8f7e3","targetPort":"text"},{"sourceId":"22d639ab-68e6-8288-bf77-8045f23e9e03","sourcePort":"remappedValue","targetId":"e0e5687e-ccd6-5297-f2fd-2be98361a6f0","targetPort":"mounted"},{"sourceId":"22d639ab-68e6-8288-bf77-8045f23e9e03","sourcePort":"remappedValue","targetId":"2b842461-17a5-f8dd-0254-134d48d7363a","targetPort":"Value in procentage"},{"sourceId":"22d639ab-68e6-8288-bf77-8045f23e9e03","sourcePort":"remappedValue","targetId":"87a39c4d-1064-98ee-1228-24a0cdb0158f","targetPort":"inputValue"},{"sourceId":"22d639ab-68e6-8288-bf77-8045f23e9e03","sourcePort":"remappedValue","targetId":"68a07a5e-ae0f-01ea-b5ba-214433d24338","targetPort":"val"},{"sourceId":"68a07a5e-ae0f-01ea-b5ba-214433d24338","sourcePort":"result","targetId":"94c3433b-6df8-67a3-e580-086c718b4f14","targetPort":"val"},{"sourceId":"b5ef4ecf-6b9a-4518-a7ec-060c7ebbb781","sourcePort":"currentValue","targetId":"e0e5687e-ccd6-5297-f2fd-2be98361a6f0","targetPort":"endAngle"},{"sourceId":"87a39c4d-1064-98ee-1228-24a0cdb0158f","sourcePort":"remappedValue","targetId":"b5ef4ecf-6b9a-4518-a7ec-060c7ebbb781","targetPort":"targetValue"},{"sourceId":"d1fea155-362d-8fd9-52a8-095769cdece5","sourcePort":"Margin Left","targetId":"de86e988-d668-19ac-f5cb-d06537c5afa7","targetPort":"marginLeft"},{"sourceId":"d1fea155-362d-8fd9-52a8-095769cdece5","sourcePort":"Margin Top","targetId":"de86e988-d668-19ac-f5cb-d06537c5afa7","targetPort":"marginTop"},{"sourceId":"d1fea155-362d-8fd9-52a8-095769cdece5","sourcePort":"Margin Bottom","targetId":"de86e988-d668-19ac-f5cb-d06537c5afa7","targetPort":"marginBottom"},{"sourceId":"d1fea155-362d-8fd9-52a8-095769cdece5","sourcePort":"Margin Right","targetId":"de86e988-d668-19ac-f5cb-d06537c5afa7","targetPort":"marginRight"},{"sourceId":"d1fea155-362d-8fd9-52a8-095769cdece5","sourcePort":"Align X","targetId":"de86e988-d668-19ac-f5cb-d06537c5afa7","targetPort":"alignX"},{"sourceId":"d1fea155-362d-8fd9-52a8-095769cdece5","sourcePort":"Align Y","targetId":"de86e988-d668-19ac-f5cb-d06537c5afa7","targetPort":"alignY"},{"sourceId":"d1fea155-362d-8fd9-52a8-095769cdece5","sourcePort":"Position","targetId":"de86e988-d668-19ac-f5cb-d06537c5afa7","targetPort":"position"},{"sourceId":"b5ef4ecf-6b9a-4518-a7ec-060c7ebbb781","sourcePort":"atTargetValue","targetId":"2b842461-17a5-f8dd-0254-134d48d7363a","targetPort":"At animation done"},{"sourceId":"d1fea155-362d-8fd9-52a8-095769cdece5","sourcePort":"Animation Duration","targetId":"b5ef4ecf-6b9a-4518-a7ec-060c7ebbb781","targetPort":"duration"}],"ports":[{"name":"Value","type":{"name":"number","allowConnectionOnly":true},"default":0,"group":"Value to Remap","plug":"input","index":0},{"name":"Value in procentage","type":"number","plug":"output","index":1},{"name":"Min Value","type":{"name":"number"},"default":0,"group":"Input Parameters","plug":"input","index":1},{"name":"At animation done","type":"signal","plug":"output","index":2},{"name":"Max Value","type":{"name":"number"},"default":0,"group":"Input Parameters","plug":"input","index":2},{"name":"Animation Duration","type":"number","default":300,"group":"Parameters","plug":"input","index":3},{"name":"Margin Left","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-left"},"group":"Margin","plug":"input","index":4},{"name":"Margin Top","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-top"},"group":"Margin","plug":"input","index":5},{"name":"Margin Bottom","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-bottom"},"group":"Margin","plug":"input","index":6},{"name":"Margin Right","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-right"},"group":"Margin","plug":"input","index":7},{"name":"Align X","type":{"name":"enum","enums":[{"label":"Left","value":"left"},{"label":"Center","value":"center"},{"label":"Right","value":"right"}],"alignComp":"horizontal"},"group":"Alignment","plug":"input","index":8},{"name":"Align Y","type":{"name":"enum","enums":[{"label":"Top","value":"top"},{"label":"Center","value":"center"},{"label":"Bottom","value":"bottom"}],"alignComp":"vertical"},"default":"center","group":"Alignment","plug":"input","index":9},{"name":"Position","type":{"name":"enum","enums":[{"label":"In Layout","value":"relative"},{"label":"Absolute","value":"absolute"},{"label":"Sticky","value":"sticky"},{"label":"Fixed","value":"fixed"}]},"default":"relative","group":"Position","plug":"input","index":10}],"roots":["de86e988-d668-19ac-f5cb-d06537c5afa7"]},{"name":"/#component/Show Toast/Normal","nodes":[{"id":"42c83f6b-179d-057a-213d-eab3a0eba232","type":"Group","parameters":{"sizeMode":"contentWidth","backgroundColor":"White","alignX":"center","alignY":"top","boxShadowEnabled":true,"borderRadius":{"value":4,"unit":"px"},"boxShadowBlurRadius":{"value":4,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":2,"unit":"px"},"maxWidth":{"value":380,"unit":"px"},"boxShadowColor":"#00000026","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","paddingLeft":{"value":24,"unit":"px"},"paddingRight":{"value":24,"unit":"px"},"height":{"value":56,"unit":"px"},"justifyContent":"center"},"ports":[],"children":[{"id":"1cb65af2-8cba-310f-7c63-65e753658d3c","type":"Text","parameters":{"text":"Some message","color":"Grey - 900","textStyle":"Label Medium"},"ports":[],"children":[]}]},{"id":"6f7c2679-75c7-c98d-f7a5-30a17b6944bb","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"6f7c2679-75c7-c98d-f7a5-30a17b6944bb","sourcePort":"Message","targetId":"1cb65af2-8cba-310f-7c63-65e753658d3c","targetPort":"text"}],"ports":[{"name":"Message","type":{"name":"string","multiline":true},"default":"Some message","group":"Text","plug":"input","index":1},{"name":"Mounted","type":"*","plug":"input","index":2}],"roots":["42c83f6b-179d-057a-213d-eab3a0eba232"]},{"name":"/#component/Table/address Cell","nodes":[{"id":"33fc1344-200e-1501-08f1-728ca94270de","type":"Model2","parameters":{"properties":"Value","idSource":"foreach"},"ports":[],"children":[]},{"id":"7934c408-287a-01c3-c1af-093958b00286","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"54d39982-458a-2e71-4bb0-9e32ebe95424","type":"Text","parameters":{"alignY":"center","color":"Grey - 900","position":"relative","sizeMode":"explicit","styleCss":"/* background-color: red; */\r\ncursor:pointer;\r\ntext-decoration: underline;"},"stateParameters":{"hover":{"color":"Primary ECC"}},"ports":[],"children":[]}]},{"id":"7c34bf1b-c7bc-39bd-77c5-e8479583d84e","type":"JavaScriptFunction","parameters":{"functionScript":"const address = Inputs.Address || '';\r\nif (!address) return;\r\n\r\nconst encodedAddress = encodeURIComponent(address);\r\nconst mapLink = `https://www.google.com/maps/search/?api=1&query=${encodedAddress}`;\r\n\r\nOutputs.MapLink = mapLink;\r\nOutputs.Success();\r\n"},"ports":[{"name":"in-Address","displayName":"Address","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-MapLink","displayName":"MapLink","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"16c2d12a-298f-014b-48c4-724fd933f0eb","type":"net.noodl.externallink","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"33fc1344-200e-1501-08f1-728ca94270de","sourcePort":"prop-Value","targetId":"54d39982-458a-2e71-4bb0-9e32ebe95424","targetPort":"text"},{"sourceId":"33fc1344-200e-1501-08f1-728ca94270de","sourcePort":"prop-Value","targetId":"7c34bf1b-c7bc-39bd-77c5-e8479583d84e","targetPort":"in-Address"},{"sourceId":"7c34bf1b-c7bc-39bd-77c5-e8479583d84e","sourcePort":"out-MapLink","targetId":"16c2d12a-298f-014b-48c4-724fd933f0eb","targetPort":"link"},{"sourceId":"54d39982-458a-2e71-4bb0-9e32ebe95424","sourcePort":"onClick","targetId":"16c2d12a-298f-014b-48c4-724fd933f0eb","targetPort":"do"}],"ports":[],"roots":["7934c408-287a-01c3-c1af-093958b00286"]},{"name":"/#component/Table/Boolean Cell","nodes":[{"id":"44ddfc2b-c06c-a129-6919-59e67f9ef4b8","type":"Model2","parameters":{"properties":"Value,Editable","idSource":"foreach"},"ports":[],"children":[]},{"id":"0824dbbd-d7e4-bb1d-26f2-a61f6e5c4153","type":"/#component/Table/Store Cell Value","parameters":{},"ports":[],"children":[]},{"id":"5139ceba-210d-6fb6-2c0a-9f77cdc7cce8","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"4d137450-711e-0d94-3c28-aacc4042def1","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"check"},"iconColor":"Grey - 900","iconSize":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"e0a7125c-71cf-edba-3431-28d756c6cd9e","type":"net.noodl.controls.checkbox","parameters":{"useLabel":false,"alignY":"center"},"ports":[],"children":[]}]},{"id":"10fa82f9-2ba5-7759-cdf0-60416022171d","type":"Expression","parameters":{"expression":"!E && Value"},"ports":[],"children":[]},{"id":"0fa015e2-0cc5-d200-9908-2171ff0d6501","type":"Expression","parameters":{"expression":"E===true"},"ports":[],"children":[]}],"connections":[{"sourceId":"44ddfc2b-c06c-a129-6919-59e67f9ef4b8","sourcePort":"prop-Value","targetId":"e0a7125c-71cf-edba-3431-28d756c6cd9e","targetPort":"checked"},{"sourceId":"e0a7125c-71cf-edba-3431-28d756c6cd9e","sourcePort":"onChange","targetId":"0824dbbd-d7e4-bb1d-26f2-a61f6e5c4153","targetPort":"Do"},{"sourceId":"e0a7125c-71cf-edba-3431-28d756c6cd9e","sourcePort":"checked","targetId":"0824dbbd-d7e4-bb1d-26f2-a61f6e5c4153","targetPort":"Value"},{"sourceId":"44ddfc2b-c06c-a129-6919-59e67f9ef4b8","sourcePort":"prop-Editable","targetId":"e0a7125c-71cf-edba-3431-28d756c6cd9e","targetPort":"mounted"},{"sourceId":"44ddfc2b-c06c-a129-6919-59e67f9ef4b8","sourcePort":"prop-Value","targetId":"10fa82f9-2ba5-7759-cdf0-60416022171d","targetPort":"Value"},{"sourceId":"10fa82f9-2ba5-7759-cdf0-60416022171d","sourcePort":"result","targetId":"4d137450-711e-0d94-3c28-aacc4042def1","targetPort":"mounted"},{"sourceId":"44ddfc2b-c06c-a129-6919-59e67f9ef4b8","sourcePort":"prop-Editable","targetId":"10fa82f9-2ba5-7759-cdf0-60416022171d","targetPort":"E"},{"sourceId":"44ddfc2b-c06c-a129-6919-59e67f9ef4b8","sourcePort":"prop-Editable","targetId":"0fa015e2-0cc5-d200-9908-2171ff0d6501","targetPort":"E"},{"sourceId":"0fa015e2-0cc5-d200-9908-2171ff0d6501","sourcePort":"result","targetId":"e0a7125c-71cf-edba-3431-28d756c6cd9e","targetPort":"mounted"}],"ports":[],"roots":["5139ceba-210d-6fb6-2c0a-9f77cdc7cce8"],"metadata":{"canvasPos":{"x":564,"y":20}}},{"name":"/#component/Table/Button coc Cell","nodes":[{"id":"3a9fb725-dd46-c937-73b4-080ea1bf4b26","type":"Model2","parameters":{"properties":"Value,Editable","idSource":"foreach"},"ports":[],"children":[]},{"id":"b6e0d5ba-49ee-935b-22ed-058d36d080e4","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"2162b723-37d0-b53c-92b1-37c83d6a6fb8","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"arrow_right_alt","codeAsClass":false},"iconColor":"Primary ECC","iconSize":{"value":45,"unit":"px"}},"ports":[],"children":[]}]},{"id":"abd11064-4ea3-59e6-f48f-dd60e37d1ec2","type":"PageStackNavigateToPath","parameters":{"path":"/chain-of-custody","queryNames":"id"},"ports":[],"children":[]},{"id":"3c658dc5-c277-92bc-061b-ad74fc6e103e","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Triggered) return;\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\nconst inspection = Inputs.INsp\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                                .from('chain_of_custody')\r\n                                .select()\r\n                                .eq('inspection_id',inspection);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    console.log(data)\r\n    if(data.length > 0){\r\n        Outputs.Edit();\r\n    }\r\n    else {\r\n        Outputs.Add();\r\n    }\r\n  }\r\n} catch (error) {\r\n    console.error(error)\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-INsp","displayName":"INsp","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Edit","displayName":"Edit","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Add","displayName":"Add","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[]},{"id":"ec6a6143-c727-cb10-0946-3843e5d6b031","type":"PageStackNavigateToPath","parameters":{"path":"/edit-chain-of-custody","queryNames":"id"},"ports":[],"children":[]}],"connections":[{"sourceId":"3c658dc5-c277-92bc-061b-ad74fc6e103e","sourcePort":"out-Add","targetId":"abd11064-4ea3-59e6-f48f-dd60e37d1ec2","targetPort":"navigate"},{"sourceId":"3c658dc5-c277-92bc-061b-ad74fc6e103e","sourcePort":"out-Edit","targetId":"ec6a6143-c727-cb10-0946-3843e5d6b031","targetPort":"navigate"},{"sourceId":"3a9fb725-dd46-c937-73b4-080ea1bf4b26","sourcePort":"prop-Value","targetId":"3c658dc5-c277-92bc-061b-ad74fc6e103e","targetPort":"in-INsp"},{"sourceId":"3a9fb725-dd46-c937-73b4-080ea1bf4b26","sourcePort":"prop-Value","targetId":"abd11064-4ea3-59e6-f48f-dd60e37d1ec2","targetPort":"q-id"},{"sourceId":"3a9fb725-dd46-c937-73b4-080ea1bf4b26","sourcePort":"prop-Value","targetId":"ec6a6143-c727-cb10-0946-3843e5d6b031","targetPort":"q-id"},{"sourceId":"2162b723-37d0-b53c-92b1-37c83d6a6fb8","sourcePort":"onClick","targetId":"3c658dc5-c277-92bc-061b-ad74fc6e103e","targetPort":"in-Triggered"}],"ports":[],"roots":["b6e0d5ba-49ee-935b-22ed-058d36d080e4"]},{"name":"/#component/Table/Button coc mobile Cell","nodes":[{"id":"8aa77b58-96de-6abe-38d8-d6a59a1b1670","type":"Model2","parameters":{"properties":"Value,Editable","idSource":"foreach"},"ports":[],"children":[]},{"id":"e7323ec8-11c0-b9b2-271f-2245b14c6930","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"c232d9b4-75cc-e963-3bc5-bd36577be0c5","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"height":{"value":30,"unit":"px"},"backgroundColor":"transparent","color":"Primary","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"arrow_right_alt","codeAsClass":false},"iconColor":"Primary ECC","iconSize":{"value":45,"unit":"px"},"paddingTop":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"sizeMode":"contentWidth","minWidth":{"value":0,"unit":"px"}},"ports":[],"children":[]}]},{"id":"027acf7c-bff3-b418-5209-50885cecca14","type":"PageStackNavigateToPath","parameters":{"path":"/chain-of-custody","queryNames":"id"},"ports":[],"children":[]},{"id":"b6b1a619-a2a5-a539-41f0-dd1a8be36cca","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Triggered) return;\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\nconst inspection = Inputs.INsp\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                                .from('chain_of_custody')\r\n                                .select()\r\n                                .eq('inspection_id',inspection);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    console.log(data)\r\n    if(data.length > 0){\r\n        Outputs.Edit();\r\n    }\r\n    else {\r\n        Outputs.Add();\r\n    }\r\n  }\r\n} catch (error) {\r\n    console.error(error)\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-INsp","displayName":"INsp","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Edit","displayName":"Edit","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Add","displayName":"Add","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[]},{"id":"0b276c8b-bbac-0243-a5f3-da0e9de86a78","type":"PageStackNavigateToPath","parameters":{"path":"/edit-chain-of-custody","queryNames":"id"},"ports":[],"children":[]}],"connections":[{"sourceId":"8aa77b58-96de-6abe-38d8-d6a59a1b1670","sourcePort":"prop-Value","targetId":"027acf7c-bff3-b418-5209-50885cecca14","targetPort":"q-id"},{"sourceId":"c232d9b4-75cc-e963-3bc5-bd36577be0c5","sourcePort":"onClick","targetId":"b6b1a619-a2a5-a539-41f0-dd1a8be36cca","targetPort":"in-Triggered"},{"sourceId":"8aa77b58-96de-6abe-38d8-d6a59a1b1670","sourcePort":"prop-Value","targetId":"b6b1a619-a2a5-a539-41f0-dd1a8be36cca","targetPort":"in-INsp"},{"sourceId":"b6b1a619-a2a5-a539-41f0-dd1a8be36cca","sourcePort":"out-Add","targetId":"027acf7c-bff3-b418-5209-50885cecca14","targetPort":"navigate"},{"sourceId":"8aa77b58-96de-6abe-38d8-d6a59a1b1670","sourcePort":"prop-Value","targetId":"0b276c8b-bbac-0243-a5f3-da0e9de86a78","targetPort":"q-id"},{"sourceId":"b6b1a619-a2a5-a539-41f0-dd1a8be36cca","sourcePort":"out-Edit","targetId":"0b276c8b-bbac-0243-a5f3-da0e9de86a78","targetPort":"navigate"}],"ports":[],"roots":["e7323ec8-11c0-b9b2-271f-2245b14c6930"]},{"name":"/#component/Table/Button inspect Cell","nodes":[{"id":"765cb83c-4f7e-67f4-4f15-ee051756e48d","type":"Model2","parameters":{"properties":"Value,Editable","idSource":"foreach"},"ports":[],"children":[]},{"id":"77f8ec97-b0a1-bb06-0959-7539f28ffc18","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"c7585810-1007-30e4-9f73-b29859ce4c92","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"7cee159c-987a-06c7-321e-eac54c6fb163","type":"net.noodl.controls.button","parameters":{"label":"Field Report","paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"useLabel":true,"useIcon":false,"iconIconSource":{"class":"material-icons","code":"arrow_right_alt","codeAsClass":false},"iconColor":"Primary","iconSize":{"value":45,"unit":"px"},"fontSize":{"value":12,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]},{"id":"b8ca021d-18a3-9428-71d8-335d5d5596bc","type":"Group","parameters":{"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"#828282","width":{"value":75,"unit":"px"},"height":{"value":1,"unit":"px"},"marginTop":{"value":3,"unit":"px"},"marginBottom":{"value":3,"unit":"px"}},"ports":[],"children":[]},{"id":"b16c0647-273a-3774-f5ea-44fcbeacec32","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"237d4c29-9f15-a685-6914-189cd1584b4b","type":"PageStackNavigateToPath","parameters":{"queryNames":"id","path":"/field-report"},"ports":[],"children":[]},{"id":"f02b50fa-7cf6-9d35-bf39-3980db8bc781","type":"PageStackNavigateToPath","parameters":{"queryNames":"id","path":"/edit-inspection-request"},"ports":[],"children":[]},{"id":"9a3135bf-d89e-4fd0-1024-f64514f87278","type":"PageStackNavigateToPath","parameters":{"queryNames":"id","path":"/edit-field-report"},"ports":[],"children":[]},{"id":"6e178bed-f36e-b2a4-81c9-b758c65f59c4","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\nconst inspection = Inputs.Inspection\r\nconst current = Inputs.CurrentUser\r\nconst role = Inputs.Role\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                          .from('inspection_request')\r\n                          .select()\r\n                          .eq(\"id\",inspection);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Samples = data;\r\n    console.log(data)\r\n    Outputs.Success();\r\n    const inspec = data[0].primary_inspector\r\n    const stat = data[0].status;\r\n    if(current == inspec || role == 2){\r\n      if (stat == 'pending' ){\r\n        Outputs.Add();\r\n      }\r\n      else{\r\n        Outputs.Navigate();\r\n      }\r\n      \r\n    }\r\n    else{\r\n      Outputs.NotPrimery();\r\n    }\r\n    \r\n    \r\n  }\r\n} catch (error) {\r\n    console.error(error)\r\n  Outputs.Failure();\r\n}\r\n\r\n\r\n"},"ports":[{"name":"in-Inspection","displayName":"Inspection","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-CurrentUser","displayName":"CurrentUser","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Role","displayName":"Role","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Add","displayName":"Add","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Navigate","displayName":"Navigate","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-NotPrimery","displayName":"NotPrimery","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"out-Samples","displayName":"Samples","plug":"output","type":"*","group":"Outputs","index":12}],"children":[]},{"id":"4469d064-cb37-4898-1bba-6f39759d90ce","type":"Model2","parameters":{"modelId":"currentUser","properties":"email,role"},"ports":[],"children":[]},{"id":"9b926398-4d31-838f-54a1-8bf3a7b58e53","type":"/#component/Show Toast","parameters":{"Type":"Warning","Message":"Only Primary inspector can add/edit field report"},"ports":[],"children":[]},{"id":"fe8869db-a605-4e68-496c-ec28f6a15b39","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Triggered)return;\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\nconst inspection = Inputs.Inspection\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                          .from('inspection_request')\r\n                          .select()\r\n                          .eq(\"id\",inspection);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Success();\r\n    const stat = data[0].status;\r\n    if(stat == 'pending'){\r\n        Outputs.Edit();\r\n    }\r\n    else{\r\n        Outputs.Message();\r\n    }\r\n  }\r\n} catch (error) {\r\n    console.error(error)\r\n  Outputs.Failure();\r\n}"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Inspection","displayName":"Inspection","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Edit","displayName":"Edit","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Message","displayName":"Message","plug":"output","type":"signal","group":"Outputs","index":9}],"children":[]},{"id":"0cc84842-f874-ac56-c1a6-4486a5445d46","type":"/#component/Show Toast","parameters":{"Type":"Warning","Message":"You can not edit, field report was started/closed"},"ports":[],"children":[]}],"connections":[{"sourceId":"765cb83c-4f7e-67f4-4f15-ee051756e48d","sourcePort":"prop-Value","targetId":"237d4c29-9f15-a685-6914-189cd1584b4b","targetPort":"q-id"},{"sourceId":"765cb83c-4f7e-67f4-4f15-ee051756e48d","sourcePort":"prop-Value","targetId":"f02b50fa-7cf6-9d35-bf39-3980db8bc781","targetPort":"q-id"},{"sourceId":"765cb83c-4f7e-67f4-4f15-ee051756e48d","sourcePort":"prop-Value","targetId":"9a3135bf-d89e-4fd0-1024-f64514f87278","targetPort":"q-id"},{"sourceId":"7cee159c-987a-06c7-321e-eac54c6fb163","sourcePort":"onClick","targetId":"6e178bed-f36e-b2a4-81c9-b758c65f59c4","targetPort":"run"},{"sourceId":"6e178bed-f36e-b2a4-81c9-b758c65f59c4","sourcePort":"out-Navigate","targetId":"9a3135bf-d89e-4fd0-1024-f64514f87278","targetPort":"navigate"},{"sourceId":"6e178bed-f36e-b2a4-81c9-b758c65f59c4","sourcePort":"out-Add","targetId":"237d4c29-9f15-a685-6914-189cd1584b4b","targetPort":"navigate"},{"sourceId":"765cb83c-4f7e-67f4-4f15-ee051756e48d","sourcePort":"prop-Value","targetId":"6e178bed-f36e-b2a4-81c9-b758c65f59c4","targetPort":"in-Inspection"},{"sourceId":"4469d064-cb37-4898-1bba-6f39759d90ce","sourcePort":"prop-email","targetId":"6e178bed-f36e-b2a4-81c9-b758c65f59c4","targetPort":"in-CurrentUser"},{"sourceId":"6e178bed-f36e-b2a4-81c9-b758c65f59c4","sourcePort":"out-NotPrimery","targetId":"9b926398-4d31-838f-54a1-8bf3a7b58e53","targetPort":"Do"},{"sourceId":"fe8869db-a605-4e68-496c-ec28f6a15b39","sourcePort":"out-Message","targetId":"0cc84842-f874-ac56-c1a6-4486a5445d46","targetPort":"Do"},{"sourceId":"765cb83c-4f7e-67f4-4f15-ee051756e48d","sourcePort":"prop-Value","targetId":"fe8869db-a605-4e68-496c-ec28f6a15b39","targetPort":"in-Inspection"},{"sourceId":"b16c0647-273a-3774-f5ea-44fcbeacec32","sourcePort":"onClick","targetId":"fe8869db-a605-4e68-496c-ec28f6a15b39","targetPort":"in-Triggered"},{"sourceId":"fe8869db-a605-4e68-496c-ec28f6a15b39","sourcePort":"out-Edit","targetId":"f02b50fa-7cf6-9d35-bf39-3980db8bc781","targetPort":"navigate"},{"sourceId":"4469d064-cb37-4898-1bba-6f39759d90ce","sourcePort":"prop-role","targetId":"6e178bed-f36e-b2a4-81c9-b758c65f59c4","targetPort":"in-Role"}],"ports":[],"roots":["77f8ec97-b0a1-bb06-0959-7539f28ffc18"]},{"name":"/#component/Table/Button inspect mobile Cell","nodes":[{"id":"f66b05be-5715-9d66-cd47-f875f315f686","type":"Model2","parameters":{"properties":"Value,Editable","idSource":"foreach"},"ports":[],"children":[]},{"id":"ae3ed11e-eee9-cdcf-dbee-9f8853460121","type":"PageStackNavigateToPath","parameters":{"queryNames":"id","path":"/field-report"},"ports":[],"children":[]},{"id":"756d561b-c002-2182-3e8c-941436ebbac6","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"66c49c80-2dc0-2fd7-93d8-8308c54b3ced","type":"Group","parameters":{},"ports":[],"children":[{"id":"fb5c0057-f72c-af68-cc5d-266782e89d18","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"sizeMode":"contentSize","useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"segment","codeAsClass":false},"iconSize":{"value":18,"unit":"px"},"iconColor":"#000000","backgroundColor":"transparent","minWidth":{"value":0,"unit":"px"},"marginBottom":{"value":8,"unit":"px"},"alignX":"center"},"ports":[],"children":[]},{"id":"03cadaa2-388f-8769-1b88-77798cd4ea31","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":5,"unit":"px"},"sizeMode":"explicit","alignX":"center"},"ports":[],"children":[{"id":"8380904f-a7ad-0f5b-83c9-9d6e911aec11","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"sizeMode":"contentSize","useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"close","codeAsClass":false},"iconSize":{"value":15,"unit":"px"},"iconColor":"#000000","backgroundColor":"transparent","minWidth":{"value":0,"unit":"px"},"alignX":"right","marginBottom":{"value":8,"unit":"px"}},"ports":[],"children":[]},{"id":"45ac8661-9afb-0cb6-2502-968b9625a457","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingRight":{"value":5,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"sizeMode":"contentSize","minWidth":{"value":0,"unit":"px"},"fontSize":{"value":12,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"alignX":"center","marginBottom":{"value":0,"unit":"px"}},"ports":[],"children":[]},{"id":"d62782ec-5c59-6672-282c-2e448b473780","type":"Group","parameters":{"marginTop":{"value":3,"unit":"px"},"marginBottom":{"value":3,"unit":"px"},"height":{"value":1.5,"unit":"px"},"backgroundColor":"#898989","width":{"value":60,"unit":"px"},"alignX":"center"},"ports":[],"children":[]},{"id":"040d1f7d-73c5-1ce4-b69c-c79fe0226596","type":"net.noodl.controls.button","parameters":{"label":"Field Report","paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"useLabel":true,"useIcon":false,"iconIconSource":{"class":"material-icons","code":"arrow_right_alt","codeAsClass":false},"iconColor":"Primary","iconSize":{"value":45,"unit":"px"},"fontSize":{"value":12,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"sizeMode":"contentSize","alignX":"center"},"ports":[],"children":[]}]}]}]},{"id":"07a46669-ac4a-d52b-2741-8071ffb7469d","type":"States","parameters":{"states":"main,vice","values":"close,button,width","type-close":"boolean","type-button":"boolean","value-main-close":true,"value-vice-button":true,"value-main-width":0,"value-vice-width":100,"currentState":"main","transition-main-width":{"curve":[0,0,0.58,1],"dur":500,"delay":0},"transition-vice-width":{"curve":[0,0,0.58,1],"dur":500,"delay":0}},"ports":[],"children":[]},{"id":"c0b787a2-7ae5-1dfc-d6ef-e34e56282115","type":"PageStackNavigateToPath","parameters":{"queryNames":"id","path":"/edit-inspection-request"},"ports":[],"children":[]},{"id":"c3d93f07-087d-df15-5dfd-aa4776a4bccf","type":"PageStackNavigateToPath","parameters":{"queryNames":"id","path":"/edit-field-report"},"ports":[],"children":[]},{"id":"674f86d5-8288-ad10-b118-c365051dd5c7","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\nconst inspection = Inputs.Inspection\r\nconst current = Inputs.CurrentUser\r\nconst role = Inputs.Role\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                          .from('inspection_request')\r\n                          .select()\r\n                          .eq(\"id\",inspection);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Samples = data;\r\n    console.log(data)\r\n    Outputs.Success();\r\n    const inspec = data[0].primary_inspector\r\n    const stat = data[0].status;\r\n    if(current == inspec || role == 2){\r\n      if (stat == 'pending' ){\r\n        Outputs.Add();\r\n      }\r\n      else{\r\n        Outputs.Navigate();\r\n      }\r\n      \r\n    }\r\n    else{\r\n      Outputs.NotPrimery();\r\n    }\r\n    \r\n    \r\n  }\r\n} catch (error) {\r\n    console.error(error)\r\n  Outputs.Failure();\r\n}\r\n\r\n\r\n"},"ports":[{"name":"in-Inspection","displayName":"Inspection","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-CurrentUser","displayName":"CurrentUser","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Role","displayName":"Role","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Add","displayName":"Add","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"out-Navigate","displayName":"Navigate","plug":"output","type":"signal","group":"Outputs","index":10},{"name":"out-NotPrimery","displayName":"NotPrimery","plug":"output","type":"signal","group":"Outputs","index":11},{"name":"out-Samples","displayName":"Samples","plug":"output","type":"*","group":"Outputs","index":12}],"children":[]},{"id":"4d5aa08a-6f01-cdd1-c3a2-4667cd038fdd","type":"Model2","parameters":{"modelId":"currentUser","properties":"email,role"},"ports":[],"children":[]},{"id":"c2277693-7a26-ee5e-c27f-a373e91f4955","type":"/#component/Show Toast","parameters":{"Type":"Warning","Message":"Only Primary inspector can add/edit field report"},"ports":[],"children":[]},{"id":"d8279a23-31bd-5ef7-5c3e-3a7f054a81aa","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Triggered)return;\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\nconst inspection = Inputs.Inspection\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                          .from('inspection_request')\r\n                          .select()\r\n                          .eq(\"id\",inspection);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Success();\r\n    const stat = data[0].status;\r\n    if(stat == 'pending'){\r\n        Outputs.Edit();\r\n    }\r\n    else{\r\n        Outputs.Message();\r\n    }\r\n  }\r\n} catch (error) {\r\n    console.error(error)\r\n  Outputs.Failure();\r\n}"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Inspection","displayName":"Inspection","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Edit","displayName":"Edit","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Message","displayName":"Message","plug":"output","type":"signal","group":"Outputs","index":9}],"children":[]},{"id":"f9c6bbc1-ff6b-8f02-0fe7-463cb344904b","type":"/#component/Show Toast","parameters":{"Type":"Warning","Message":"You can not edit, field report was started/closed"},"ports":[],"children":[]}],"connections":[{"sourceId":"f66b05be-5715-9d66-cd47-f875f315f686","sourcePort":"prop-Value","targetId":"ae3ed11e-eee9-cdcf-dbee-9f8853460121","targetPort":"q-id"},{"sourceId":"07a46669-ac4a-d52b-2741-8071ffb7469d","sourcePort":"width","targetId":"03cadaa2-388f-8769-1b88-77798cd4ea31","targetPort":"width"},{"sourceId":"07a46669-ac4a-d52b-2741-8071ffb7469d","sourcePort":"button","targetId":"03cadaa2-388f-8769-1b88-77798cd4ea31","targetPort":"mounted"},{"sourceId":"07a46669-ac4a-d52b-2741-8071ffb7469d","sourcePort":"close","targetId":"fb5c0057-f72c-af68-cc5d-266782e89d18","targetPort":"mounted"},{"sourceId":"fb5c0057-f72c-af68-cc5d-266782e89d18","sourcePort":"onClick","targetId":"07a46669-ac4a-d52b-2741-8071ffb7469d","targetPort":"toggle"},{"sourceId":"8380904f-a7ad-0f5b-83c9-9d6e911aec11","sourcePort":"onClick","targetId":"07a46669-ac4a-d52b-2741-8071ffb7469d","targetPort":"toggle"},{"sourceId":"f66b05be-5715-9d66-cd47-f875f315f686","sourcePort":"prop-Value","targetId":"c0b787a2-7ae5-1dfc-d6ef-e34e56282115","targetPort":"q-id"},{"sourceId":"f66b05be-5715-9d66-cd47-f875f315f686","sourcePort":"prop-Value","targetId":"c3d93f07-087d-df15-5dfd-aa4776a4bccf","targetPort":"q-id"},{"sourceId":"040d1f7d-73c5-1ce4-b69c-c79fe0226596","sourcePort":"onClick","targetId":"674f86d5-8288-ad10-b118-c365051dd5c7","targetPort":"run"},{"sourceId":"f66b05be-5715-9d66-cd47-f875f315f686","sourcePort":"prop-Value","targetId":"674f86d5-8288-ad10-b118-c365051dd5c7","targetPort":"in-Inspection"},{"sourceId":"674f86d5-8288-ad10-b118-c365051dd5c7","sourcePort":"out-Navigate","targetId":"c3d93f07-087d-df15-5dfd-aa4776a4bccf","targetPort":"navigate"},{"sourceId":"674f86d5-8288-ad10-b118-c365051dd5c7","sourcePort":"out-Add","targetId":"ae3ed11e-eee9-cdcf-dbee-9f8853460121","targetPort":"navigate"},{"sourceId":"4d5aa08a-6f01-cdd1-c3a2-4667cd038fdd","sourcePort":"prop-email","targetId":"674f86d5-8288-ad10-b118-c365051dd5c7","targetPort":"in-CurrentUser"},{"sourceId":"674f86d5-8288-ad10-b118-c365051dd5c7","sourcePort":"out-NotPrimery","targetId":"c2277693-7a26-ee5e-c27f-a373e91f4955","targetPort":"Do"},{"sourceId":"d8279a23-31bd-5ef7-5c3e-3a7f054a81aa","sourcePort":"out-Message","targetId":"f9c6bbc1-ff6b-8f02-0fe7-463cb344904b","targetPort":"Do"},{"sourceId":"45ac8661-9afb-0cb6-2502-968b9625a457","sourcePort":"onClick","targetId":"d8279a23-31bd-5ef7-5c3e-3a7f054a81aa","targetPort":"in-Triggered"},{"sourceId":"f66b05be-5715-9d66-cd47-f875f315f686","sourcePort":"prop-Value","targetId":"d8279a23-31bd-5ef7-5c3e-3a7f054a81aa","targetPort":"in-Inspection"},{"sourceId":"d8279a23-31bd-5ef7-5c3e-3a7f054a81aa","sourcePort":"out-Edit","targetId":"c0b787a2-7ae5-1dfc-d6ef-e34e56282115","targetPort":"navigate"},{"sourceId":"4d5aa08a-6f01-cdd1-c3a2-4667cd038fdd","sourcePort":"prop-role","targetId":"674f86d5-8288-ad10-b118-c365051dd5c7","targetPort":"in-Role"}],"ports":[],"roots":["756d561b-c002-2182-3e8c-941436ebbac6"]},{"name":"/#component/Table/Button lab Cell","nodes":[{"id":"eff4da40-9ed4-442b-3147-701495f0892d","type":"Model2","parameters":{"idSource":"foreach","properties":"Value"},"ports":[],"children":[]},{"id":"385a0f66-8e48-cbf8-f43b-1f3f2f9cb6e1","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"4277e020-e03d-c5af-52d7-7bbb03e780c6","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":5,"unit":"px"},"sizeMode":"explicit"},"ports":[],"children":[{"id":"262d3d14-6541-a58d-32fc-b21e33100194","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"alignY":"center"},"ports":[],"children":[]},{"id":"b5d09462-f71e-51bb-a4dd-25dbff6d8fbc","type":"Group","parameters":{"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"#828282","alignY":"center","width":{"value":1,"unit":"px"},"height":{"value":35,"unit":"px"}},"ports":[],"children":[]},{"id":"a74fadab-0097-d859-a5da-900e01fa62eb","type":"net.noodl.controls.button","parameters":{"label":"Delete","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"#FA000011","color":"#FF0000","borderStyle":"solid","borderColor":"#FF0000","borderWidth":{"value":1,"unit":"px"},"alignY":"center"},"ports":[],"children":[]}]}]},{"id":"3ae00751-4f5b-6fb5-d0e4-31b91b6eab0e","type":"Set Variable","parameters":{"name":"delete_user"},"ports":[],"children":[]},{"id":"e330365a-c74e-70e3-6bbc-82ffa1b0c93a","type":"NavigationShowPopup","parameters":{"target":"/#component/Delete Lab"},"ports":[],"children":[]},{"id":"c4bf7076-a832-03fc-1bd2-c5a346691fb7","type":"PageStackNavigateToPath","parameters":{"path":"/lab-information","queryNames":"id"},"ports":[],"children":[]}],"connections":[{"sourceId":"3ae00751-4f5b-6fb5-d0e4-31b91b6eab0e","sourcePort":"done","targetId":"e330365a-c74e-70e3-6bbc-82ffa1b0c93a","targetPort":"show"},{"sourceId":"eff4da40-9ed4-442b-3147-701495f0892d","sourcePort":"prop-Value","targetId":"3ae00751-4f5b-6fb5-d0e4-31b91b6eab0e","targetPort":"value"},{"sourceId":"a74fadab-0097-d859-a5da-900e01fa62eb","sourcePort":"onClick","targetId":"3ae00751-4f5b-6fb5-d0e4-31b91b6eab0e","targetPort":"do"},{"sourceId":"eff4da40-9ed4-442b-3147-701495f0892d","sourcePort":"prop-Value","targetId":"c4bf7076-a832-03fc-1bd2-c5a346691fb7","targetPort":"q-id"},{"sourceId":"262d3d14-6541-a58d-32fc-b21e33100194","sourcePort":"onClick","targetId":"c4bf7076-a832-03fc-1bd2-c5a346691fb7","targetPort":"navigate"}],"ports":[],"roots":["385a0f66-8e48-cbf8-f43b-1f3f2f9cb6e1"]},{"name":"/#component/Table/Button lab mobile Cell","nodes":[{"id":"65aa25b5-9b31-32df-c87a-ed07ca5adb53","type":"Model2","parameters":{"idSource":"foreach","properties":"Value"},"ports":[],"children":[]},{"id":"53cff44b-c5f5-9d81-b89a-6186d7d4c6be","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"045edb01-c46c-e3bc-bff0-233a45a2af02","type":"Group","parameters":{},"ports":[],"children":[{"id":"d95643ab-d398-248f-b2c5-ee3896c51562","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"sizeMode":"contentSize","useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"segment","codeAsClass":false},"iconSize":{"value":18,"unit":"px"},"iconColor":"#000000","backgroundColor":"transparent","minWidth":{"value":0,"unit":"px"},"marginBottom":{"value":8,"unit":"px"},"alignX":"center"},"ports":[],"children":[]},{"id":"d884341f-c9f3-c77f-4dac-1e51f350aa60","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":5,"unit":"px"},"sizeMode":"explicit","alignX":"center"},"ports":[],"children":[{"id":"0ce25dd5-bb90-1e9d-722a-05c4618b6f1d","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"sizeMode":"contentSize","useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"close","codeAsClass":false},"iconSize":{"value":15,"unit":"px"},"iconColor":"#000000","backgroundColor":"transparent","minWidth":{"value":0,"unit":"px"},"alignX":"right","marginBottom":{"value":8,"unit":"px"}},"ports":[],"children":[]},{"id":"d52bb836-726f-0f38-18c1-8a98fd646070","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingRight":{"value":5,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"sizeMode":"contentSize","minWidth":{"value":0,"unit":"px"},"fontSize":{"value":12,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"alignX":"center","marginBottom":{"value":3,"unit":"px"}},"ports":[],"children":[]},{"id":"aaae4fa8-d641-9d3c-f393-a75e1c37eded","type":"net.noodl.controls.button","parameters":{"label":"Delete","paddingLeft":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"#FA000011","color":"#FF0000","borderStyle":"solid","borderColor":"#FF0000","borderWidth":{"value":1,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"sizeMode":"contentSize","fontSize":{"value":12,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"alignX":"center","marginTop":{"value":3,"unit":"px"}},"ports":[],"children":[]}]}]}]},{"id":"d34ca96b-6261-f3d1-9c60-14a7cc9576ab","type":"States","parameters":{"states":"main,vice","values":"close,button,width","type-close":"boolean","type-button":"boolean","value-main-close":true,"value-vice-button":true,"value-main-width":0,"value-vice-width":100,"currentState":"main","transition-main-width":{"curve":[0,0,0.58,1],"dur":500,"delay":0},"transition-vice-width":{"curve":[0,0,0.58,1],"dur":500,"delay":0}},"ports":[],"children":[]},{"id":"8845a509-04c8-6245-a16d-12cf24925a52","type":"PageStackNavigateToPath","parameters":{"queryNames":"id","path":"/lab-information"},"ports":[],"children":[]},{"id":"a6274126-35ec-8b5e-04a3-a72e65df073e","type":"Set Variable","parameters":{"name":"delete_user"},"ports":[],"children":[]},{"id":"db7f75e2-d481-4dc9-3065-70589b668984","type":"NavigationShowPopup","parameters":{"target":"/#component/Delete Lab"},"ports":[],"children":[]}],"connections":[{"sourceId":"d34ca96b-6261-f3d1-9c60-14a7cc9576ab","sourcePort":"width","targetId":"d884341f-c9f3-c77f-4dac-1e51f350aa60","targetPort":"width"},{"sourceId":"d34ca96b-6261-f3d1-9c60-14a7cc9576ab","sourcePort":"button","targetId":"d884341f-c9f3-c77f-4dac-1e51f350aa60","targetPort":"mounted"},{"sourceId":"d34ca96b-6261-f3d1-9c60-14a7cc9576ab","sourcePort":"close","targetId":"d95643ab-d398-248f-b2c5-ee3896c51562","targetPort":"mounted"},{"sourceId":"d95643ab-d398-248f-b2c5-ee3896c51562","sourcePort":"onClick","targetId":"d34ca96b-6261-f3d1-9c60-14a7cc9576ab","targetPort":"toggle"},{"sourceId":"0ce25dd5-bb90-1e9d-722a-05c4618b6f1d","sourcePort":"onClick","targetId":"d34ca96b-6261-f3d1-9c60-14a7cc9576ab","targetPort":"toggle"},{"sourceId":"65aa25b5-9b31-32df-c87a-ed07ca5adb53","sourcePort":"prop-Value","targetId":"8845a509-04c8-6245-a16d-12cf24925a52","targetPort":"q-id"},{"sourceId":"d52bb836-726f-0f38-18c1-8a98fd646070","sourcePort":"onClick","targetId":"8845a509-04c8-6245-a16d-12cf24925a52","targetPort":"navigate"},{"sourceId":"65aa25b5-9b31-32df-c87a-ed07ca5adb53","sourcePort":"prop-Value","targetId":"a6274126-35ec-8b5e-04a3-a72e65df073e","targetPort":"value"},{"sourceId":"aaae4fa8-d641-9d3c-f393-a75e1c37eded","sourcePort":"onClick","targetId":"a6274126-35ec-8b5e-04a3-a72e65df073e","targetPort":"do"},{"sourceId":"a6274126-35ec-8b5e-04a3-a72e65df073e","sourcePort":"done","targetId":"db7f75e2-d481-4dc9-3065-70589b668984","targetPort":"show"}],"ports":[],"roots":["53cff44b-c5f5-9d81-b89a-6186d7d4c6be"]},{"name":"/#component/Table/Button material Cell","nodes":[{"id":"5f5ad144-1ca0-0938-814f-dc26016842b1","type":"Model2","parameters":{"idSource":"foreach","properties":"Value"},"ports":[],"children":[]},{"id":"006cfeb1-aad7-845b-fe6a-b28dc0ab0d8c","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"0001c6cc-2809-616c-10ac-bef043c0039f","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":5,"unit":"px"},"sizeMode":"contentHeight","justifyContent":"flex-end"},"ports":[],"children":[{"id":"1b5fb132-ac99-9122-31c7-b827a30ea08f","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"alignY":"center"},"ports":[],"children":[]},{"id":"96676965-c5fe-111c-da70-b5a70f664a71","type":"Group","parameters":{"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"#828282","alignY":"center","width":{"value":1,"unit":"px"},"height":{"value":35,"unit":"px"}},"ports":[],"children":[]},{"id":"f7bfb4d9-6930-977c-bc71-993850536c3f","type":"net.noodl.controls.button","parameters":{"label":"Delete","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"#FA000011","color":"#FF0000","borderStyle":"solid","borderColor":"#FF0000","borderWidth":{"value":1,"unit":"px"},"alignY":"center"},"ports":[],"children":[]}]}]},{"id":"23afaa8e-24ab-781b-0f21-bd947e1ca95d","type":"NavigationShowPopup","parameters":{"target":"/#component/Delete material"},"ports":[],"children":[]},{"id":"263c8701-868e-1df9-812d-52d9904cad52","type":"Set Variable","parameters":{"name":"delete_material","setWith":"number"},"ports":[],"children":[]},{"id":"e80e3519-b052-77e1-d297-1793ac18cad5","type":"Set Variable","parameters":{"setWith":"number","name":"edit_material"},"ports":[],"children":[]},{"id":"27fe425e-bc6c-4389-2014-687aadd6ba4e","type":"NavigationShowPopup","parameters":{"target":"/edit material"},"ports":[],"children":[]}],"connections":[{"sourceId":"5f5ad144-1ca0-0938-814f-dc26016842b1","sourcePort":"prop-Value","targetId":"263c8701-868e-1df9-812d-52d9904cad52","targetPort":"value"},{"sourceId":"f7bfb4d9-6930-977c-bc71-993850536c3f","sourcePort":"onClick","targetId":"263c8701-868e-1df9-812d-52d9904cad52","targetPort":"do"},{"sourceId":"263c8701-868e-1df9-812d-52d9904cad52","sourcePort":"done","targetId":"23afaa8e-24ab-781b-0f21-bd947e1ca95d","targetPort":"show"},{"sourceId":"5f5ad144-1ca0-0938-814f-dc26016842b1","sourcePort":"prop-Value","targetId":"e80e3519-b052-77e1-d297-1793ac18cad5","targetPort":"value"},{"sourceId":"1b5fb132-ac99-9122-31c7-b827a30ea08f","sourcePort":"onClick","targetId":"e80e3519-b052-77e1-d297-1793ac18cad5","targetPort":"do"},{"sourceId":"e80e3519-b052-77e1-d297-1793ac18cad5","sourcePort":"done","targetId":"27fe425e-bc6c-4389-2014-687aadd6ba4e","targetPort":"show"}],"ports":[],"roots":["006cfeb1-aad7-845b-fe6a-b28dc0ab0d8c"]},{"name":"/#component/Table/Button sample Cell","nodes":[{"id":"b2f7a21c-6871-a541-e512-318ca612d695","type":"Model2","parameters":{"properties":"Value,Editable","idSource":"foreach"},"ports":[],"children":[]},{"id":"a2cdde1c-3815-5ddb-95c5-3f349419942c","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"5fd3300c-b57c-1323-a9e6-396b37f01136","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"a7567bc1-fe45-ec24-c29f-a1a60bbb0ee6","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"45fc8ecc-a9d3-ed6d-b258-61986a1e0304","type":"PageStackNavigateToPath","parameters":{"queryNames":"id","path":"edit-sample"},"ports":[],"children":[]}],"connections":[{"sourceId":"a7567bc1-fe45-ec24-c29f-a1a60bbb0ee6","sourcePort":"onClick","targetId":"45fc8ecc-a9d3-ed6d-b258-61986a1e0304","targetPort":"navigate"},{"sourceId":"b2f7a21c-6871-a541-e512-318ca612d695","sourcePort":"prop-Value","targetId":"45fc8ecc-a9d3-ed6d-b258-61986a1e0304","targetPort":"q-id"}],"ports":[],"roots":["a2cdde1c-3815-5ddb-95c5-3f349419942c"]},{"name":"/#component/Table/Button sample mobile Cell","nodes":[{"id":"0349ab3d-872e-573a-79a9-09d2e1776e5c","type":"Model2","parameters":{"properties":"Value,Editable","idSource":"foreach"},"ports":[],"children":[]},{"id":"7696c46a-db1b-4e3c-a141-53b79c758233","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"178ca2f4-07ed-f722-2aa5-7bfbc0d7237f","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"b69531c8-d6d9-d9f4-df22-ab4ec6359d8a","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"sizeMode":"contentSize","minWidth":{"value":0,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"ca614a74-c9f0-c1af-fa70-f2feb08ff579","type":"PageStackNavigateToPath","parameters":{"queryNames":"id","path":"/edit-sample"},"ports":[],"children":[]}],"connections":[{"sourceId":"b69531c8-d6d9-d9f4-df22-ab4ec6359d8a","sourcePort":"onClick","targetId":"ca614a74-c9f0-c1af-fa70-f2feb08ff579","targetPort":"navigate"},{"sourceId":"0349ab3d-872e-573a-79a9-09d2e1776e5c","sourcePort":"prop-Value","targetId":"ca614a74-c9f0-c1af-fa70-f2feb08ff579","targetPort":"q-id"}],"ports":[],"roots":["7696c46a-db1b-4e3c-a141-53b79c758233"]},{"name":"/#component/Table/Button staff Cell","nodes":[{"id":"4f3deb70-4510-4d5f-a475-17e07e12aeb6","type":"Model2","parameters":{"idSource":"foreach","properties":"Value"},"ports":[],"children":[]},{"id":"20907a4d-2f3d-9bc2-171d-315399271f64","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"9f4c10f7-7299-92bb-df0c-66062aed9ebf","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"e91cb164-17ef-9ef5-6abb-35aa6d23319d","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"alignY":"center"},"ports":[],"children":[]},{"id":"a007f3fc-5d93-16ac-3caa-747d4529d6e7","type":"Group","parameters":{"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"#828282","alignY":"center","width":{"value":1,"unit":"px"},"height":{"value":35,"unit":"px"},"mounted":false},"ports":[],"children":[]},{"id":"17cdc195-30f6-0811-3028-7461d35526b4","type":"net.noodl.controls.button","parameters":{"label":"Delete","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"#FA000011","color":"#FF0000","borderStyle":"solid","borderColor":"#FF0000","borderWidth":{"value":1,"unit":"px"},"alignY":"center","mounted":false},"ports":[],"children":[]}]}]},{"id":"83431f59-0b44-6657-8bef-96219f5caa3d","type":"NavigationShowPopup","parameters":{"target":"/#component/Delete Staff"},"ports":[],"children":[]},{"id":"fa2d9300-a1b6-3302-8a28-4212810c3825","type":"PageStackNavigateToPath","parameters":{"path":"/edit-staff","queryNames":"id"},"ports":[],"children":[]},{"id":"a742dbc1-cad9-c970-5362-e96908709a26","type":"Set Variable","parameters":{"name":"delete_user","setWith":"number"},"ports":[],"children":[]}],"connections":[{"sourceId":"e91cb164-17ef-9ef5-6abb-35aa6d23319d","sourcePort":"onClick","targetId":"fa2d9300-a1b6-3302-8a28-4212810c3825","targetPort":"navigate"},{"sourceId":"4f3deb70-4510-4d5f-a475-17e07e12aeb6","sourcePort":"prop-Value","targetId":"fa2d9300-a1b6-3302-8a28-4212810c3825","targetPort":"q-id"},{"sourceId":"4f3deb70-4510-4d5f-a475-17e07e12aeb6","sourcePort":"prop-Value","targetId":"a742dbc1-cad9-c970-5362-e96908709a26","targetPort":"value"},{"sourceId":"17cdc195-30f6-0811-3028-7461d35526b4","sourcePort":"onClick","targetId":"a742dbc1-cad9-c970-5362-e96908709a26","targetPort":"do"},{"sourceId":"a742dbc1-cad9-c970-5362-e96908709a26","sourcePort":"done","targetId":"83431f59-0b44-6657-8bef-96219f5caa3d","targetPort":"show"}],"ports":[],"roots":["20907a4d-2f3d-9bc2-171d-315399271f64"]},{"name":"/#component/Table/Button staff mobile Cell","nodes":[{"id":"1ad7ba42-3ddb-5fe9-3c08-7456cf9df07e","type":"Model2","parameters":{"idSource":"foreach","properties":"Value"},"ports":[],"children":[]},{"id":"b6f5337e-917b-c834-e324-40a081cd591d","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"09130e54-f840-fec4-3cab-8a149cd988b1","type":"Group","parameters":{},"ports":[],"children":[{"id":"020905f6-8edb-bf6a-881d-0d10078b6342","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingRight":{"value":5,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"sizeMode":"contentSize","minWidth":{"value":0,"unit":"px"},"fontSize":{"value":12,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"alignX":"center"},"ports":[],"children":[]},{"id":"fd111d67-049a-9cb2-999b-6133323f8fe6","type":"Group","parameters":{"mounted":false},"ports":[],"children":[{"id":"6e5eb88a-4b3d-199d-dba7-22cd9fd2915e","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"sizeMode":"contentSize","useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"segment","codeAsClass":false},"iconSize":{"value":18,"unit":"px"},"iconColor":"#000000","backgroundColor":"transparent","minWidth":{"value":0,"unit":"px"},"marginBottom":{"value":8,"unit":"px"},"alignX":"center"},"ports":[],"children":[]},{"id":"2b1cce93-2fc0-7446-5916-a8dc3336ffa2","type":"Group","parameters":{"flexDirection":"column","columnGap":{"value":5,"unit":"px"},"sizeMode":"explicit","alignX":"center","mounted":false},"ports":[],"children":[{"id":"f084a453-bcfd-b294-ffc8-3f5c41959f38","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"sizeMode":"contentSize","useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"close","codeAsClass":false},"iconSize":{"value":15,"unit":"px"},"iconColor":"#000000","backgroundColor":"transparent","minWidth":{"value":0,"unit":"px"},"alignX":"right","marginBottom":{"value":8,"unit":"px"}},"ports":[],"children":[]},{"id":"32c41c9d-4a68-770a-3848-6b96aa60b8b3","type":"net.noodl.controls.button","parameters":{"label":"Delete","paddingLeft":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"#FA000011","color":"#FF0000","borderStyle":"solid","borderColor":"#FF0000","borderWidth":{"value":1,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"sizeMode":"contentSize","fontSize":{"value":12,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"alignX":"center","marginTop":{"value":3,"unit":"px"}},"ports":[],"children":[]}]}]}]}]},{"id":"dedb078d-dd6f-40dd-db65-969a83cfa923","type":"NavigationShowPopup","parameters":{"target":"/#component/Delete Staff"},"ports":[],"children":[]},{"id":"3a188aac-6a95-12c6-8939-9c322cc5d7b8","type":"PageStackNavigateToPath","parameters":{"path":"/edit-staff","queryNames":"id"},"ports":[],"children":[]},{"id":"887f8bdd-9b30-ba13-7630-e0e4f97c7ec1","type":"States","parameters":{"states":"main,vice","values":"close,button,width","type-close":"boolean","type-button":"boolean","value-main-close":true,"value-vice-button":true,"value-main-width":0,"value-vice-width":100,"currentState":"main","transition-main-width":{"curve":[0,0,0.58,1],"dur":500,"delay":0},"transition-vice-width":{"curve":[0,0,0.58,1],"dur":500,"delay":0}},"ports":[],"children":[]},{"id":"ddd9711a-419c-c124-79b1-d3dc1b11535e","type":"Variable2","parameters":{"name":"delete_user"},"ports":[],"children":[]},{"id":"fdea168c-ea53-b747-b32c-a9a6d0cf0ec8","type":"Set Variable","parameters":{"name":"delete_user","setWith":"number"},"ports":[],"children":[]}],"connections":[{"sourceId":"020905f6-8edb-bf6a-881d-0d10078b6342","sourcePort":"onClick","targetId":"3a188aac-6a95-12c6-8939-9c322cc5d7b8","targetPort":"navigate"},{"sourceId":"1ad7ba42-3ddb-5fe9-3c08-7456cf9df07e","sourcePort":"prop-Value","targetId":"3a188aac-6a95-12c6-8939-9c322cc5d7b8","targetPort":"q-id"},{"sourceId":"887f8bdd-9b30-ba13-7630-e0e4f97c7ec1","sourcePort":"width","targetId":"2b1cce93-2fc0-7446-5916-a8dc3336ffa2","targetPort":"width"},{"sourceId":"887f8bdd-9b30-ba13-7630-e0e4f97c7ec1","sourcePort":"button","targetId":"2b1cce93-2fc0-7446-5916-a8dc3336ffa2","targetPort":"mounted"},{"sourceId":"887f8bdd-9b30-ba13-7630-e0e4f97c7ec1","sourcePort":"close","targetId":"6e5eb88a-4b3d-199d-dba7-22cd9fd2915e","targetPort":"mounted"},{"sourceId":"6e5eb88a-4b3d-199d-dba7-22cd9fd2915e","sourcePort":"onClick","targetId":"887f8bdd-9b30-ba13-7630-e0e4f97c7ec1","targetPort":"toggle"},{"sourceId":"f084a453-bcfd-b294-ffc8-3f5c41959f38","sourcePort":"onClick","targetId":"887f8bdd-9b30-ba13-7630-e0e4f97c7ec1","targetPort":"toggle"},{"sourceId":"1ad7ba42-3ddb-5fe9-3c08-7456cf9df07e","sourcePort":"prop-Value","targetId":"fdea168c-ea53-b747-b32c-a9a6d0cf0ec8","targetPort":"value"},{"sourceId":"32c41c9d-4a68-770a-3848-6b96aa60b8b3","sourcePort":"onClick","targetId":"fdea168c-ea53-b747-b32c-a9a6d0cf0ec8","targetPort":"do"},{"sourceId":"fdea168c-ea53-b747-b32c-a9a6d0cf0ec8","sourcePort":"done","targetId":"dedb078d-dd6f-40dd-db65-969a83cfa923","targetPort":"show"}],"ports":[],"roots":["b6f5337e-917b-c834-e324-40a081cd591d"]},{"name":"/#component/Table/Cell","nodes":[{"id":"6eca1bab-7da9-6d48-cfb8-0c08b6eeae58","type":"Model2","parameters":{"properties":"Value","idSource":"foreach"},"ports":[],"children":[]},{"id":"e09c3ec0-6253-bae4-bb44-edcd5c344861","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"e9a9de48-c60c-45ac-6aad-26c9ef1fc4c9","type":"Text","parameters":{"alignY":"center","color":"Grey - 900","position":"relative","sizeMode":"contentSize"},"ports":[],"children":[]}]},{"id":"b36529b2-0389-7dc6-8bbf-3b865a3572ba","type":"JavaScriptFunction","parameters":{"functionScript":"const inpt = Inputs.value;\r\ninpt === null ? Outputs.Value = (\"-\") : Outputs.Value = inpt"},"ports":[{"name":"in-value","displayName":"value","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Value","displayName":"Value","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"6eca1bab-7da9-6d48-cfb8-0c08b6eeae58","sourcePort":"prop-Value","targetId":"b36529b2-0389-7dc6-8bbf-3b865a3572ba","targetPort":"in-value"},{"sourceId":"b36529b2-0389-7dc6-8bbf-3b865a3572ba","sourcePort":"out-Value","targetId":"e9a9de48-c60c-45ac-6aad-26c9ef1fc4c9","targetPort":"text"}],"ports":[],"roots":["e09c3ec0-6253-bae4-bb44-edcd5c344861"],"metadata":{"canvasPos":{"x":564,"y":20}}},{"name":"/#component/Table/Classification Cell","nodes":[{"id":"0fc7b4d0-c098-88c9-6c14-0629da9b3dee","type":"Model2","parameters":{"properties":"Value,Editable,ItemId","idSource":"foreach"},"ports":[],"children":[]},{"id":"292c3e0c-39ff-f1c0-791b-a60595bb4cff","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"8d8df333-52d9-3b9f-c2c3-4d0459ea5638","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"98c1b7ff-8c34-ff5e-c406-a8c76f5103e7","type":"Radio Button Group","parameters":{},"ports":[],"children":[{"id":"96ffa1b0-710d-bc96-21a6-b5aab3c960ce","type":"net.noodl.controls.radiobutton","parameters":{"label":"ACM","value":"1","marginBottom":{"value":3,"unit":"px"}},"stateParameters":{"checked":{"fillColor":"Primary ECC","borderColor":"Primary ECC"}},"ports":[],"children":[]},{"id":"2e4cc299-f4a4-0927-359c-0c535c491703","type":"net.noodl.controls.radiobutton","parameters":{"label":"Non ACM"},"stateParameters":{"checked":{"fillColor":"Primary ECC","borderColor":"Primary ECC"}},"ports":[],"children":[]}]}]}]},{"id":"8bf65e19-4ed0-3c7f-3b97-8906329a43df","type":"Inverter","parameters":{},"ports":[],"children":[]},{"id":"65afeb9b-031e-024d-07e8-fe82c205859a","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Triggere) return;\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\nconst sampleData = {\r\n        non_acm: Inputs.Clasi_Non_ACM,\r\n        acm: Inputs.Clasi_ACM\r\n    };\r\nconst sam_id = Inputs.Sam_id\r\n\r\ntry {\r\n// Insert data into the field_report table\r\nconst { data, error } = await supabase\r\n                        .from('samples_collected')\r\n                        .update([sampleData])\r\n                        .eq('id',sam_id);\r\n\r\nif (error) {\r\n    console.error(error);\r\n} else {\r\n    console.log('Data updated samples_collected table:', data);\r\n    Outputs.Success();\r\n    \r\n}\r\n} catch (error) {\r\nconsole.error(error);\r\n}"},"ports":[{"name":"in-Triggere","displayName":"Triggere","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Clasi_Non_ACM","displayName":"Clasi_Non_ACM","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Clasi_ACM","displayName":"Clasi_ACM","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-Sam_id","displayName":"Sam_id","plug":"input","type":"*","group":"Inputs","index":7},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[]},{"id":"35623dac-d309-c300-fdf2-d98ba11cc88a","type":"Event Receiver","parameters":{"channelName":"classification"},"ports":[],"children":[]},{"id":"8c510708-a00c-6895-f350-dfef7d925953","type":"Event Sender","parameters":{"channelName":"classification updated"},"ports":[],"children":[]},{"id":"d7378bbf-9a09-a6ad-5e39-be76c35e174c","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Sam_id) return;\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\n\r\nconst sam_id = Inputs.Sam_id\r\n\r\ntry {\r\n// Insert data into the field_report table\r\nconst { data, error } = await supabase\r\n                        .from('samples_collected')\r\n                        .select()\r\n                        .eq('id',sam_id);\r\n\r\nif (error) {\r\n    console.error(error);\r\n} else {\r\n    console.log('Data updated samples_collected table:', data);\r\n    Outputs.ACM = data[0].acm;\r\n    Outputs.Non_acm = data[0].non_acm;\r\n    Outputs.PACM = data[0].test_type_pacm\r\n    Outputs.Success();\r\n    \r\n}\r\n} catch (error) {\r\nconsole.error(error);\r\n}"},"ports":[{"name":"in-Sam_id","displayName":"Sam_id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-ACM","displayName":"ACM","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-Non_acm","displayName":"Non_acm","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-PACM","displayName":"PACM","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"de0cd172-612f-2746-aa13-1948e093abce","type":"JavaScriptFunction","parameters":{"functionScript":"const acm = Inputs.ACM;\r\nconst non_acm = Inputs.Non_acm;\r\nif(acm == true){\r\n    Outputs.Value = 1\r\n}\r\nelse if (non_acm == true){\r\n    Outputs.Value = 0\r\n}\r\nelse {\r\n    Outputs.Value = 2\r\n}"},"ports":[{"name":"in-ACM","displayName":"ACM","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Non_acm","displayName":"Non_acm","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Value","displayName":"Value","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"8bf65e19-4ed0-3c7f-3b97-8906329a43df","sourcePort":"result","targetId":"96ffa1b0-710d-bc96-21a6-b5aab3c960ce","targetPort":"enabled"},{"sourceId":"8bf65e19-4ed0-3c7f-3b97-8906329a43df","sourcePort":"result","targetId":"2e4cc299-f4a4-0927-359c-0c535c491703","targetPort":"enabled"},{"sourceId":"0fc7b4d0-c098-88c9-6c14-0629da9b3dee","sourcePort":"prop-ItemId","targetId":"65afeb9b-031e-024d-07e8-fe82c205859a","targetPort":"in-Sam_id"},{"sourceId":"35623dac-d309-c300-fdf2-d98ba11cc88a","sourcePort":"eventReceived","targetId":"65afeb9b-031e-024d-07e8-fe82c205859a","targetPort":"in-Triggere"},{"sourceId":"65afeb9b-031e-024d-07e8-fe82c205859a","sourcePort":"out-Success","targetId":"8c510708-a00c-6895-f350-dfef7d925953","targetPort":"sendEvent"},{"sourceId":"96ffa1b0-710d-bc96-21a6-b5aab3c960ce","sourcePort":"checked","targetId":"65afeb9b-031e-024d-07e8-fe82c205859a","targetPort":"in-Clasi_ACM"},{"sourceId":"2e4cc299-f4a4-0927-359c-0c535c491703","sourcePort":"checked","targetId":"65afeb9b-031e-024d-07e8-fe82c205859a","targetPort":"in-Clasi_Non_ACM"},{"sourceId":"0fc7b4d0-c098-88c9-6c14-0629da9b3dee","sourcePort":"prop-ItemId","targetId":"d7378bbf-9a09-a6ad-5e39-be76c35e174c","targetPort":"in-Sam_id"},{"sourceId":"de0cd172-612f-2746-aa13-1948e093abce","sourcePort":"out-Value","targetId":"98c1b7ff-8c34-ff5e-c406-a8c76f5103e7","targetPort":"value"},{"sourceId":"d7378bbf-9a09-a6ad-5e39-be76c35e174c","sourcePort":"out-ACM","targetId":"de0cd172-612f-2746-aa13-1948e093abce","targetPort":"in-ACM"},{"sourceId":"d7378bbf-9a09-a6ad-5e39-be76c35e174c","sourcePort":"out-Non_acm","targetId":"de0cd172-612f-2746-aa13-1948e093abce","targetPort":"in-Non_acm"},{"sourceId":"d7378bbf-9a09-a6ad-5e39-be76c35e174c","sourcePort":"out-PACM","targetId":"8bf65e19-4ed0-3c7f-3b97-8906329a43df","targetPort":"value"}],"ports":[],"roots":["292c3e0c-39ff-f1c0-791b-a60595bb4cff"]},{"name":"/#component/Table/Date Cell","nodes":[{"id":"a064aec2-809c-55d1-e6c3-8d3a444aa5b6","type":"Javascript2","parameters":{"code":"function mobileAndTabletCheck() {\n  let check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  return check;\n}\n\nfunction isMobile() {\n    return mobileAndTabletCheck()\n}\n\nconst scriptUrl = \"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/js/datepicker-full.min.js\"\nconst cssUrl =  \"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/css/datepicker.min.css\"\n\nfunction injectDatePicker(onload) {\n    if (document.querySelectorAll('#--ndl-datepicker-datepicker-js--').length === 0) {\n        window.__ndl_datepicker_onload = [onload]\n\n        var script = document.createElement('script');\n        script.id = \"--ndl-datepicker-datepicker-js--\"\n        script.setAttribute('src', scriptUrl);\n        script.onload = () => {\n            window.__ndl_datepicker_onload.forEach(cb => cb())\n            window.__ndl_datepicker_onload = []\n        }\n        document.head.appendChild(script)\n    }\n    else {\n        if (window.__ndl_datepicker_onload.length > 0) window.__ndl_datepicker_onload.push(onload)\n        else onload()\n    }\n}\n\nfunction injectDatePickerStyles() {\n    const datePickerStyles = `\n        .ndl-datepicker-native-input {\n            display: block;\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n            cursor: pointer;\n            min-width: 100%;\n            margin: 0;\n            padding: 0;\n            border: 0;\n            border-radius: 0;\n        }\n        .ndl-datepicker-native-input::-webkit-calendar-picker-indicator {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            margin: 0;\n            padding: 0;\n            cursor: pointer;\n        }\n\n        .datepicker {\n            display:none;\n            font-family: Roboto, sans-serif;\n            border: 1px solid ${Script.Inputs.Accent};\n            border-radius: 4px;\n        }\n\n        .datepicker-picker {\n            background-color: ${Script.Inputs.Background};\n            padding: 24px;\n        }\n\n        .datepicker-header {\n            padding-bottom: 14px;\n        }\n\n        .datepicker-header .datepicker-controls {\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .datepicker-header .datepicker-controls .button {\n            background-color: transparent;\n            color: ${Script.Inputs.Text};\n        }\n\n        .datepicker-header .datepicker-controls button.button:focus,\n        .datepicker-header .datepicker-controls button.button:hover {\n            background-color: ${Script.Inputs.HoverDateBackground};\n            color: ${Script.Inputs.HoverDateText};\n        }\n\n        .datepicker-controls .button.view-switch {\n            border: 1px solid ${Script.Inputs.Text};\n            flex: 0 0 180px;\n        }\n\n        .days-of-week .dow {\n            height: 45px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 16px;\n            font-weight: 400;\n            color: ${Script.Inputs.Accent}\n        }\n\n        .datepicker-grid {\n            width: 315px;\n        }\n\n        .datepicker-grid .datepicker-cell.day {\n            border-radius: 50%;\n            width: 45px;\n            height: 45px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .datepicker-grid .datepicker-cell {\n            color: ${Script.Inputs.Text}\n            font-size: 16px;\n        }\n\n        .datepicker-grid .datepicker-cell.next,\n        .datepicker-grid .datepicker-cell.prev {\n            color: ${Script.Inputs.TextMuted};\n        }\n\n        .datepicker-grid .datepicker-cell.selected,\n        .datepicker-grid .datepicker-cell.focused {\n            color: ${Script.Inputs.SelectedDateText};\n            background-color: ${Script.Inputs.SelectedDateBackground};\n            font-weight: 400;\n        }\n\n        .datepicker-grid .datepicker-cell:hover,\n        .datepicker-grid .datepicker-cell:focus {\n            color: ${Script.Inputs.HoverDateText};\n            background-color: ${Script.Inputs.HoverDateBackground};\n        }\n\n\n`\n\n    if(!isMobile()) { // This sheet is only needed if we are on desktop\n        if(document.querySelectorAll('#--ndl-datepicker-sheet--').length === 0) {\n            let addSheet = document.createElement('link');\n            addSheet.id = \"--ndl-datepicker-sheet--\"\n            addSheet.setAttribute('rel', 'stylesheet');\n            addSheet.setAttribute('href',cssUrl);\n            document.head.appendChild(addSheet);\n        }\n    }\n\n    if(document.querySelectorAll('#--ndl-datepicker-styles--').length === 0) {\n        const styles = document.createElement('style')\n        styles.id = '--ndl-datepicker-styles--'\n        styles.innerHTML = datePickerStyles\n        document.head.append(styles)\n    }\n}\n\n// Format a date object into a string\nfunction formatDate(date) {\n    if(!(date instanceof Date)) return\n\n    const months = [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ]\n\n    let newDateString = months[date.getMonth()] + ' ' +date.getDate() + ', ' + date.getFullYear()\n\n    return newDateString\n}\n\n// Parse a date string in the format we use into a date object\n// if possible\nfunction parseDate(_dateString) {\n    // No valid date, return todays date\n    if(_dateString === undefined || _dateString.length < 3) \n        return null\n\n    let dateString = _dateString.trim().toLowerCase()\n\n    const months = {\n        'jan':0,\n        'feb':1,\n        'mar':2,\n        'apr':3,\n        'may':4,\n        'jun':5,\n        'jul':6,\n        'aug':7,\n        'sep':8,\n        'oct':9,\n        'nov':10,\n        'dec':11\n    }\n\n    let month = months[dateString.substring(0,3)]\n    if(month === undefined) return new Date() // Not a valid month\n\n    // Remove month\n    dateString = dateString.substring(3)\n    dateString = dateString.trim()\n\n    let sepIndex = dateString.indexOf(',')\n    let dayString = dateString.substring(0,sepIndex==-1?dateString.length:sepIndex)\n\n    let day = parseInt(dayString) || 1\n\n    let year = (new Date()).getFullYear()\n    if(sepIndex !== -1) {\n        dateString = dateString.substring(sepIndex+1)\n        dateString = dateString.trim()\n        \n        if(dateString.length === 4)\n        year = parseInt(dateString)\n    }\n\n    return new Date(year,month,day)\n}\n\n// Compare two dates, ignoring the time\nfunction compareDates(a,b) {\n    if(a.getFullYear() === b.getFullYear() && a.getDate() === b.getDate() && a.getMonth() === b.getMonth())\n        return true\n\n    return false\n}\n\nvar dateInput,datepicker,datePopup\n\nconst TextInputFocused = () => {\n    Component.Object.TextInputIsFocused = true\n\n    // If the text input is focused and we are not running on a mobile device\n    // launch the popup\n    if(!isMobile()) {\n        const textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n        const rect = textInput.getBoundingClientRect()\n\n      //  let top = rect.bottom + Script.Inputs.PopupMarginTop\n      //  let left = rect.left + Script.Inputs.PopupMarginRight\n\n        datePopup = document.createElement('div')\n        datePopup.style.zIndex = 100\n        datePopup.style.position = 'absolute'\n        datePopup.style.border = \"1px solid \" + Script.Inputs.BorderColor\n        datePopup.style.borderRadius = \"4px\"\n        datePopup.style.top = (rect.bottom + Script.Inputs.PopupMarginTop) + 'px'\n        datePopup.style.left = (rect.left + Script.Inputs.PopupMarginRight) + 'px'\n        document.body.appendChild(datePopup)\n\n        // This is running on desktop, install the vanilla js\n        injectDatePicker(() => {\n            // Script is loaded\n\n            datepicker = new Datepicker(datePopup, {\n\n            }); \n\n            // adjuste position if outside of screen\n            const rect = datePopup.getBoundingClientRect()\n            if(rect.top + rect.height > window.innerHeight) {\n                datePopup.style.top = Math.max(0,window.innerHeight - rect.height) + 'px'\n            }\n            if(rect.left + rect.width > window.innerWidth) {\n                datePopup.style.left = Math.max(0,window.innerWidth - rect.width) + 'px'\n            }\n         \n           \n\n            if(Component.Object.Date !== undefined) {\n                datepicker.setDate(Component.Object.Date)\n            }\n\n            datePopup.addEventListener('changeDate',() => {\n                // The picker reports a changed date\n                \n            })\n\n            datePopup.addEventListener('click',() => {\n                // The user have clicked a date in the popup\n                var date = datepicker.getDate()\n\n                // If the date is a new date\n                if(Component.Object.Date === undefined || !compareDates(Component.Object.Date,date)) {\n                    \n                    // Blur the text input so the date can be updated\n                    Component.Object.Date = date\n                    textInput.blur()\n                }\n            })\n            \n        })\n\n    }\n}\n\nconst TextInputBlurred = () => {\n    Component.Object.TextInputIsFocused = false\n\n    const textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n    const dateString = textInput.value\n\n    const date = parseDate(dateString)\n    Component.Object.Date = date\n    Script.Outputs.DateSelected()\n\n    document.body.removeChild(datePopup)\n}\n\nconst DateStringChanged = (e) => {\n    const dateString = e.target.value\n\n    if(Component.Object.TextInputIsFocused) {\n        const date = parseDate(dateString)\n\n        // The date have changed in the component object, update the\n        // date picker\n        if(datepicker !== undefined) {\n            datepicker.setDate(date)\n        }\n\n        if(dateInput !== undefined) {\n            dateInput.value = date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate()\n        }\n    }\n}\n\nScript.Inputs = {\n    PopupMarginRight: 'number',\n    PopupMarginTop: 'number',\n    Text: 'color',\n    TextMuted: 'color',\n    Accent: 'color',\n    Background: 'color',\n    SelectedDateBackground: 'color',\n    SelectedDateText: 'color',\n    HoverDateBackground: 'color',\n    HoverDateText: 'color'\n}\n\nScript.Signals.DidMount = () => {\n    Script.Outputs.IsMobile = isMobile()\n\n    injectDatePickerStyles()\n\n    // Register blur / focus listeners\n    if(Script.Inputs.TextInput.getDOMElement() !== undefined) {\n        var textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n        textInput.addEventListener('focus',TextInputFocused)\n        textInput.addEventListener('blur',TextInputBlurred)\n        textInput.addEventListener('keydown',(e) => {\n            if(e.keyCode===13) textInput.blur()\n        })\n        textInput.addEventListener('keyup',DateStringChanged)\n    }\n\n    // If there is a date set from start, format it \n    if(Component.Object.Date !== undefined) {\n        let formattedDate = formatDate(Component.Object.Date)\n        Component.Object['Formatted Date'] = formattedDate\n    }\n\n\n    Component.Object.on('change',(ev) => {\n        if(ev.name === 'Date') {\n            const date = Component.Object.Date\n            // The date have changed in the component object, update the\n            // date picker\n            if(datepicker !== undefined) {\n                datepicker.setDate(date)\n            }\n\n            if(dateInput !== undefined) {\n                dateInput.value = date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate()\n            }\n\n            let formattedDate = formatDate(date)\n            if(textInput) textInput.value = formattedDate\n            Component.Object['Formatted Date'] = formattedDate\n        }\n    })\n\n    if(isMobile()) {\n        // On Mobile create a native date input hidden\n        // under the icon, clicking it will show the\n        // native picker\n        const elem = Script.Inputs.TextInput.getDOMElement()\n\n        dateInput = document.createElement('input')\n        dateInput.className = 'ndl-datepicker-native-input'\n\n        elem.parentNode.appendChild(dateInput)\n\n        dateInput.type = \"date\"\n\n        dateInput.onchange = () => {\n            var date = new Date(dateInput.value)\n            Component.Object.Date = date\n            Script.Outputs.DateSelected()\n        }\n    }\n}","PopupMarginRight":0,"BorderColor":"Primary","PopupMarginTop":0,"Text":"Grey - 700","TextMuted":"Grey - 400","Accent":"Primary","Background":"White","SelectedDateBackground":"Primary","SelectedDateText":"White","HoverDateBackground":"Grey - 300","HoverDateText":"Grey - 900"},"ports":[{"name":"PopupMarginRight","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"PopupMarginTop","plug":"input","type":{"name":"number"},"group":"Inputs","index":6},{"name":"Text","plug":"input","type":{"name":"color"},"group":"Inputs","index":7},{"name":"TextMuted","plug":"input","type":{"name":"color"},"group":"Inputs","index":8},{"name":"Accent","plug":"input","type":{"name":"color"},"group":"Inputs","index":9},{"name":"Background","plug":"input","type":{"name":"color"},"group":"Inputs","index":10},{"name":"SelectedDateBackground","plug":"input","type":{"name":"color"},"group":"Inputs","index":11},{"name":"SelectedDateText","plug":"input","type":{"name":"color"},"group":"Inputs","index":12},{"name":"HoverDateBackground","plug":"input","type":{"name":"color"},"group":"Inputs","index":13},{"name":"HoverDateText","plug":"input","type":{"name":"color"},"group":"Inputs","index":14},{"name":"DidMount","plug":"input","type":{"name":"signal"},"group":"Inputs","index":15},{"name":"TextInput","displayName":"TextInput","plug":"input","type":"*","group":"Inputs","index":16},{"name":"BorderColor","displayName":"BorderColor","plug":"input","type":"*","group":"Inputs","index":17},{"name":"DateSelected","displayName":"DateSelected","plug":"output","type":"signal","group":"Outputs","index":18},{"name":"IsMobile","displayName":"IsMobile","plug":"output","type":"*","group":"Outputs","index":19}],"children":[]},{"id":"7b0e2635-03c7-b016-a625-c2d21f6282a7","type":"net.noodl.ComponentObject","parameters":{"properties":"Date,Formatted Date"},"ports":[],"children":[]},{"id":"3c01b222-d430-d172-beb2-c5c418475990","type":"Model2","parameters":{"idSource":"foreach","properties":"Value,Editable"},"ports":[],"children":[]},{"id":"61af2607-178f-543d-1b77-4eaa3901628d","type":"Inverter","parameters":{},"ports":[],"children":[]},{"id":"de424e7f-96e9-8fa9-e5b0-361de5177887","type":"/#component/Table/Store Cell Value","parameters":{},"ports":[],"children":[]},{"id":"73cfe20b-9663-088e-4a2a-2c18f95f112a","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"32ff4ca1-789d-bc83-fca2-590432c55b13","type":"Text","parameters":{"sizeMode":"contentSize","alignY":"center","color":"Grey - 900","position":"relative"},"ports":[],"children":[]},{"id":"b92784e8-8b03-9198-29f1-3e4a1d870e69","type":"Group","parameters":{"mounted":false},"ports":[],"children":[{"id":"5a8f8599-5333-f22d-15db-ffc6d69133e6","type":"Group","parameters":{"sizeMode":"contentWidth","alignY":"center","paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"position":"absolute","alignX":"right"},"ports":[],"children":[{"id":"41192096-7cbc-4ed8-dd4d-97ae5f6609e9","type":"net.noodl.visual.icon","parameters":{"iconColor":"#666","iconIconSource":{"class":"material-icons","code":"calendar_today"},"iconSize":{"value":22,"unit":"px"},"alignY":"center"},"ports":[],"children":[]}]},{"id":"7509ffc7-47a5-e573-c671-088613cd2652","type":"net.noodl.controls.textinput","parameters":{"useLabel":false,"borderStyle":"none","placeholder":"MMM DD, YYYY","alignY":"center","paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"height":{"value":100,"unit":"%"}},"ports":[],"children":[]}]}]}],"connections":[{"sourceId":"3c01b222-d430-d172-beb2-c5c418475990","sourcePort":"prop-Value","targetId":"7b0e2635-03c7-b016-a625-c2d21f6282a7","targetPort":"value-Date"},{"sourceId":"a064aec2-809c-55d1-e6c3-8d3a444aa5b6","sourcePort":"IsMobile","targetId":"5a8f8599-5333-f22d-15db-ffc6d69133e6","targetPort":"mounted"},{"sourceId":"3c01b222-d430-d172-beb2-c5c418475990","sourcePort":"prop-Editable","targetId":"61af2607-178f-543d-1b77-4eaa3901628d","targetPort":"value"},{"sourceId":"3c01b222-d430-d172-beb2-c5c418475990","sourcePort":"prop-Editable","targetId":"b92784e8-8b03-9198-29f1-3e4a1d870e69","targetPort":"mounted"},{"sourceId":"7b0e2635-03c7-b016-a625-c2d21f6282a7","sourcePort":"value-Formatted Date","targetId":"7509ffc7-47a5-e573-c671-088613cd2652","targetPort":"startValue"},{"sourceId":"7509ffc7-47a5-e573-c671-088613cd2652","sourcePort":"this","targetId":"a064aec2-809c-55d1-e6c3-8d3a444aa5b6","targetPort":"TextInput"},{"sourceId":"a064aec2-809c-55d1-e6c3-8d3a444aa5b6","sourcePort":"DateSelected","targetId":"de424e7f-96e9-8fa9-e5b0-361de5177887","targetPort":"Do"},{"sourceId":"7b0e2635-03c7-b016-a625-c2d21f6282a7","sourcePort":"value-Date","targetId":"de424e7f-96e9-8fa9-e5b0-361de5177887","targetPort":"Value"},{"sourceId":"73cfe20b-9663-088e-4a2a-2c18f95f112a","sourcePort":"Did Mount","targetId":"a064aec2-809c-55d1-e6c3-8d3a444aa5b6","targetPort":"DidMount"},{"sourceId":"61af2607-178f-543d-1b77-4eaa3901628d","sourcePort":"result","targetId":"32ff4ca1-789d-bc83-fca2-590432c55b13","targetPort":"mounted"},{"sourceId":"7b0e2635-03c7-b016-a625-c2d21f6282a7","sourcePort":"value-Formatted Date","targetId":"32ff4ca1-789d-bc83-fca2-590432c55b13","targetPort":"text"}],"ports":[],"roots":["73cfe20b-9663-088e-4a2a-2c18f95f112a"]},{"name":"/#component/Table/ha Cell","nodes":[{"id":"c8120773-ff3e-54a9-c490-f30f84206bd5","type":"Model2","parameters":{"properties":"Value","idSource":"foreach"},"ports":[],"children":[]},{"id":"50f1e92b-f318-6390-dadb-b02b8e640be7","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"22fab758-e2f2-e46e-542a-5a5c9b35bb65","type":"Text","parameters":{"alignY":"center","color":"Grey - 900","position":"relative","sizeMode":"contentSize","text":""},"ports":[],"children":[]}]},{"id":"9f53a2a4-5edd-06aa-cdb6-f147d5b3471e","type":"JavaScriptFunction","parameters":{"functionScript":"const int = Inputs.sample;\r\nlet formattedInt = String(int).padStart(3, '0');\r\nOutputs.HA = formattedInt;\r\n"},"ports":[{"name":"in-sample","displayName":"sample","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-HA","displayName":"HA","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"c8120773-ff3e-54a9-c490-f30f84206bd5","sourcePort":"prop-Value","targetId":"9f53a2a4-5edd-06aa-cdb6-f147d5b3471e","targetPort":"in-sample"},{"sourceId":"9f53a2a4-5edd-06aa-cdb6-f147d5b3471e","sourcePort":"out-HA","targetId":"22fab758-e2f2-e46e-542a-5a5c9b35bb65","targetPort":"text"}],"ports":[],"roots":["50f1e92b-f318-6390-dadb-b02b8e640be7"]},{"name":"/#component/Table/Image Cell","nodes":[{"id":"89bc5bde-e860-c4cb-eb1b-57f2410b6094","type":"Model2","parameters":{"properties":"Value,Editable","idSource":"foreach"},"ports":[],"children":[]},{"id":"0576dafb-1fac-8f2e-8435-c36a9776810c","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"74137486-681a-ed3a-ae5d-df1ed8148def","type":"Image","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"px"},"height":{"value":100,"unit":"px"}},"ports":[],"children":[]}]}],"connections":[{"sourceId":"89bc5bde-e860-c4cb-eb1b-57f2410b6094","sourcePort":"prop-Value","targetId":"74137486-681a-ed3a-ae5d-df1ed8148def","targetPort":"src"}],"ports":[],"roots":["0576dafb-1fac-8f2e-8435-c36a9776810c"]},{"name":"/#component/Table/ins Cell","nodes":[{"id":"cfca3679-d9a7-985f-842f-317344b4f6e2","type":"Model2","parameters":{"properties":"Value","idSource":"foreach"},"ports":[],"children":[]},{"id":"98aa37d2-6f5b-4433-496f-ad22fd3ccf81","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"4cc242a2-dd1d-3386-e1ab-23f6b89510b1","type":"Text","parameters":{"alignY":"center","color":"Grey - 900","position":"relative","sizeMode":"contentSize"},"ports":[],"children":[]}]},{"id":"5778beda-9c37-ec31-be1b-5c87341968b0","type":"JavaScriptFunction","parameters":{"functionScript":"const inpt = Inputs.value;\r\nOutputs.INS = 'INS-'+inpt"},"ports":[{"name":"in-value","displayName":"value","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-INS","displayName":"INS","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"cfca3679-d9a7-985f-842f-317344b4f6e2","sourcePort":"prop-Value","targetId":"5778beda-9c37-ec31-be1b-5c87341968b0","targetPort":"in-value"},{"sourceId":"5778beda-9c37-ec31-be1b-5c87341968b0","sourcePort":"out-INS","targetId":"4cc242a2-dd1d-3386-e1ab-23f6b89510b1","targetPort":"text"}],"ports":[],"roots":["98aa37d2-6f5b-4433-496f-ad22fd3ccf81"]},{"name":"/#component/Table/inspector Cell","nodes":[{"id":"7938c7b0-b5ab-0e03-919f-009824b8ae7d","type":"Model2","parameters":{"properties":"Value","idSource":"foreach"},"ports":[],"children":[]},{"id":"7fe0659f-8a41-45c9-20bc-c46f43b71186","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"a0ea68eb-633c-a49d-07ae-1fe953938346","type":"Text","parameters":{"alignY":"center","color":"Grey - 900","position":"relative","sizeMode":"contentSize","text":"","alignX":"center"},"ports":[],"children":[]}]},{"id":"d7918ead-23fd-60d6-2e52-28b84380b2bd","type":"JavaScriptFunction","parameters":{"functionScript":"if(Inputs.value == null){\r\n    Outputs.Noname = \"-\"\r\n}\r\nconst companyString = Inputs.value;\r\nconst companies = companyString.split(', ');\r\n\r\n// Value to remove\r\nconst valueToRemove = Inputs.Email;\r\n\r\n// Use the filter method to create a new array without the specified value\r\nconst updatedCompanies = companies.filter(company => company !== valueToRemove);\r\nif(updatedCompanies.length > 0){\r\n    Outputs.comp = updatedCompanies;\r\n}\r\nelse{\r\n    Outputs.Noname = \"-\"\r\n}\r\n\r\n// Outputs.length = updatedCompanies.length;\r\n"},"ports":[{"name":"in-value","displayName":"value","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Email","displayName":"Email","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-comp","displayName":"comp","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-Noname","displayName":"Noname","plug":"output","type":"*","group":"Outputs","index":7},{"name":"out-length","displayName":"length","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"c141ec18-9114-dc6d-f3f1-aad903877e86","type":"JavaScriptFunction","parameters":{"functionScript":"const supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\n\r\nconst emails = Inputs.Email;\r\nconst firstNames = [];\r\n\r\nasync function fetchData(email) {\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('user_master')\r\n      .select('first_name')\r\n      .eq('login_email', email);\r\n\r\n    if (error) {\r\n      console.error(error);\r\n      Outputs.Failure();\r\n    } else {\r\n      firstNames.push(data[0]?.first_name || 'n/a');\r\n      Outputs.Inspectors = firstNames;\r\n      Outputs.Success();\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n    Outputs.Failure();\r\n  }\r\n}\r\n\r\nasync function fetchDataForEmails() {\r\n  for (const email of emails) {\r\n    await fetchData(email);\r\n  }\r\n  Outputs.close();\r\n}\r\n\r\nfetchDataForEmails();\r\n"},"ports":[{"name":"in-Email","displayName":"Email","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-close","displayName":"close","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Inspectors","displayName":"Inspectors","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"a6a7bf60-7483-cc1e-38a4-a366ce3ea40c","type":"JavaScriptFunction","parameters":{"functionScript":"const int = Inputs.AL;\r\nconst namesString = int.join(', ');\r\nOutputs.Inspectors = namesString"},"ports":[{"name":"in-AL","displayName":"AL","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Inspectors","displayName":"Inspectors","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"e413d2e9-1819-61b5-cb31-33d377987911","type":"Model2","parameters":{"modelId":"currentUser","properties":"email"},"ports":[],"children":[]}],"connections":[{"sourceId":"7938c7b0-b5ab-0e03-919f-009824b8ae7d","sourcePort":"prop-Value","targetId":"d7918ead-23fd-60d6-2e52-28b84380b2bd","targetPort":"in-value"},{"sourceId":"d7918ead-23fd-60d6-2e52-28b84380b2bd","sourcePort":"out-comp","targetId":"c141ec18-9114-dc6d-f3f1-aad903877e86","targetPort":"in-Email"},{"sourceId":"c141ec18-9114-dc6d-f3f1-aad903877e86","sourcePort":"out-Inspectors","targetId":"a6a7bf60-7483-cc1e-38a4-a366ce3ea40c","targetPort":"in-AL"},{"sourceId":"a6a7bf60-7483-cc1e-38a4-a366ce3ea40c","sourcePort":"out-Inspectors","targetId":"a0ea68eb-633c-a49d-07ae-1fe953938346","targetPort":"text"},{"sourceId":"d7918ead-23fd-60d6-2e52-28b84380b2bd","sourcePort":"out-comp","targetId":"c141ec18-9114-dc6d-f3f1-aad903877e86","targetPort":"run"},{"sourceId":"c141ec18-9114-dc6d-f3f1-aad903877e86","sourcePort":"out-Success","targetId":"a6a7bf60-7483-cc1e-38a4-a366ce3ea40c","targetPort":"run"},{"sourceId":"7938c7b0-b5ab-0e03-919f-009824b8ae7d","sourcePort":"prop-Value","targetId":"d7918ead-23fd-60d6-2e52-28b84380b2bd","targetPort":"run"},{"sourceId":"d7918ead-23fd-60d6-2e52-28b84380b2bd","sourcePort":"out-Noname","targetId":"a0ea68eb-633c-a49d-07ae-1fe953938346","targetPort":"text"},{"sourceId":"e413d2e9-1819-61b5-cb31-33d377987911","sourcePort":"prop-email","targetId":"d7918ead-23fd-60d6-2e52-28b84380b2bd","targetPort":"in-Email"}],"ports":[],"roots":["7fe0659f-8a41-45c9-20bc-c46f43b71186"]},{"name":"/#component/Table/Number Cell","nodes":[{"id":"3f96c936-d555-5df7-0a60-730992a53324","type":"Model2","parameters":{"properties":"Value,Editable","idSource":"foreach"},"ports":[],"children":[]},{"id":"ebf74e13-5687-ee0d-9a23-a01f2e4152e4","type":"Inverter","parameters":{},"ports":[],"children":[]},{"id":"21650b62-479e-527f-6267-2ceb3598c286","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Blur()"},"ports":[{"name":"out-Blur","displayName":"Blur","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[]},{"id":"adeec559-f5af-a40b-d595-0a5973f76d56","type":"/#component/Table/Store Cell Value","parameters":{},"ports":[],"children":[]},{"id":"a49c40d0-9833-bbfd-da7b-5c2d280fc574","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"64862e50-a73b-1c2a-5247-6dba89692b83","type":"Text","parameters":{"sizeMode":"contentSize","alignY":"center","color":"Grey - 900","position":"relative"},"ports":[],"children":[]},{"id":"caffda83-956a-0fb4-6fa1-3923ad3f6808","type":"Group","parameters":{"mounted":false,"sizeMode":"contentSize"},"ports":[],"children":[{"id":"7844bb40-df0e-ca38-c494-cf6b251181f4","type":"net.noodl.controls.textinput","parameters":{"sizeMode":"contentSize","height":{"value":100,"unit":"%"},"useLabel":false,"borderStyle":"none","placeholder":"","paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"borderRadius":{"value":0,"unit":"px"},"marginLeft":{"value":-2,"unit":"px"},"type":"number"},"ports":[],"children":[]}]}]}],"connections":[{"sourceId":"3f96c936-d555-5df7-0a60-730992a53324","sourcePort":"prop-Editable","targetId":"caffda83-956a-0fb4-6fa1-3923ad3f6808","targetPort":"mounted"},{"sourceId":"3f96c936-d555-5df7-0a60-730992a53324","sourcePort":"prop-Value","targetId":"7844bb40-df0e-ca38-c494-cf6b251181f4","targetPort":"startValue"},{"sourceId":"3f96c936-d555-5df7-0a60-730992a53324","sourcePort":"prop-Editable","targetId":"ebf74e13-5687-ee0d-9a23-a01f2e4152e4","targetPort":"value"},{"sourceId":"7844bb40-df0e-ca38-c494-cf6b251181f4","sourcePort":"onEnter","targetId":"21650b62-479e-527f-6267-2ceb3598c286","targetPort":"run"},{"sourceId":"21650b62-479e-527f-6267-2ceb3598c286","sourcePort":"out-Blur","targetId":"7844bb40-df0e-ca38-c494-cf6b251181f4","targetPort":"blur"},{"sourceId":"7844bb40-df0e-ca38-c494-cf6b251181f4","sourcePort":"onTextChanged","targetId":"adeec559-f5af-a40b-d595-0a5973f76d56","targetPort":"Value"},{"sourceId":"7844bb40-df0e-ca38-c494-cf6b251181f4","sourcePort":"onBlur","targetId":"adeec559-f5af-a40b-d595-0a5973f76d56","targetPort":"Do"},{"sourceId":"ebf74e13-5687-ee0d-9a23-a01f2e4152e4","sourcePort":"result","targetId":"64862e50-a73b-1c2a-5247-6dba89692b83","targetPort":"mounted"},{"sourceId":"3f96c936-d555-5df7-0a60-730992a53324","sourcePort":"prop-Value","targetId":"64862e50-a73b-1c2a-5247-6dba89692b83","targetPort":"text"}],"ports":[],"roots":["a49c40d0-9833-bbfd-da7b-5c2d280fc574"]},{"name":"/#component/Table/pinspector Cell","nodes":[{"id":"16481557-8c9e-9705-4053-aa11a22e17e2","type":"Model2","parameters":{"properties":"Value","idSource":"foreach"},"ports":[],"children":[]},{"id":"9b0bc079-dc6e-30f5-b3a1-df0f62ba620b","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"dbba351d-2331-184c-56a1-49de2ff2ddf0","type":"Text","parameters":{"alignY":"center","color":"Grey - 900","position":"relative","sizeMode":"contentSize","text":"","alignX":"center"},"ports":[],"children":[]}]},{"id":"c88b1c6c-4257-ae75-eeb0-2d1107e6925a","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.PriInspector)return;\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\nconst p_ins = Inputs.PriInspector \r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                                .from('user_master')\r\n                                .select('first_name')\r\n                                .eq('login_email',p_ins);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Name = data[0].first_name;\r\n    Outputs.Success();\r\n  }\r\n} catch (error) {\r\n    console.error(error)\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-PriInspector","displayName":"PriInspector","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Name","displayName":"Name","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]}],"connections":[{"sourceId":"16481557-8c9e-9705-4053-aa11a22e17e2","sourcePort":"prop-Value","targetId":"c88b1c6c-4257-ae75-eeb0-2d1107e6925a","targetPort":"in-PriInspector"},{"sourceId":"c88b1c6c-4257-ae75-eeb0-2d1107e6925a","sourcePort":"out-Name","targetId":"dbba351d-2331-184c-56a1-49de2ff2ddf0","targetPort":"text"}],"ports":[],"roots":["9b0bc079-dc6e-30f5-b3a1-df0f62ba620b"]},{"name":"/#component/Table/role Cell","nodes":[{"id":"54ef3391-149d-7e7e-defd-7786cb81b19b","type":"Model2","parameters":{"properties":"Value","idSource":"foreach"},"ports":[],"children":[]},{"id":"2ef1943e-9ba1-4d06-1274-c93c3f79c07b","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"f783018d-133e-31e1-194c-ac8c674daf12","type":"Text","parameters":{"alignY":"center","color":"Grey - 900","position":"relative","sizeMode":"contentSize"},"ports":[],"children":[]}]},{"id":"a57f1c31-ce78-6c64-f5f6-d316561f1ee3","type":"JavaScriptFunction","parameters":{"functionScript":"const inpt = Inputs.value;\r\nif(inpt == 5){\r\n    Outputs.role = 'Project Manager'\r\n}\r\nelse if (inpt == 6){\r\n    Outputs.role = 'Investigator'\r\n}\r\nelse if (inpt == 3){\r\n    Outputs.role = 'Office Staff'\r\n}\r\nelse{\r\n    Outputs.role = 'Inspector'\r\n}"},"ports":[{"name":"in-value","displayName":"value","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-role","displayName":"role","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"54ef3391-149d-7e7e-defd-7786cb81b19b","sourcePort":"prop-Value","targetId":"a57f1c31-ce78-6c64-f5f6-d316561f1ee3","targetPort":"in-value"},{"sourceId":"a57f1c31-ce78-6c64-f5f6-d316561f1ee3","sourcePort":"out-role","targetId":"f783018d-133e-31e1-194c-ac8c674daf12","targetPort":"text"}],"ports":[],"roots":["2ef1943e-9ba1-4d06-1274-c93c3f79c07b"]},{"name":"/#component/Table/sample Cell","nodes":[{"id":"3f2f91d4-ccc5-cc0f-8c74-1e4b76da2a10","type":"Model2","parameters":{"properties":"Value","idSource":"foreach"},"ports":[],"children":[]},{"id":"404b09a3-3e59-48b2-6c73-61625b4f6c2c","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"645980f8-3300-5511-da9f-dcf785552200","type":"Text","parameters":{"alignY":"center","color":"Grey - 900","position":"relative","sizeMode":"contentSize","text":""},"ports":[],"children":[]}]},{"id":"e7dd614d-6528-6ec1-eefb-0ad84efcd529","type":"JavaScriptFunction","parameters":{"functionScript":"const int = Inputs.sample;\r\nlet formattedInt = String(int).padStart(3, '0');\r\n// let sample_id = \"SAM-\" + formattedInt;\r\nOutputs.SampleId = formattedInt;\r\n"},"ports":[{"name":"in-sample","displayName":"sample","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-SampleId","displayName":"SampleId","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"3f2f91d4-ccc5-cc0f-8c74-1e4b76da2a10","sourcePort":"prop-Value","targetId":"e7dd614d-6528-6ec1-eefb-0ad84efcd529","targetPort":"in-sample"},{"sourceId":"e7dd614d-6528-6ec1-eefb-0ad84efcd529","sourcePort":"out-SampleId","targetId":"645980f8-3300-5511-da9f-dcf785552200","targetPort":"text"}],"ports":[],"roots":["404b09a3-3e59-48b2-6c73-61625b4f6c2c"]},{"name":"/#component/Table/status Cell","nodes":[{"id":"06b81883-988d-522b-289c-d013c68cc99e","type":"Model2","parameters":{"properties":"Value","idSource":"foreach"},"ports":[],"children":[]},{"id":"b0ddd5a3-2b6a-c28a-e056-3d7cd2de55f2","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"7756144f-78f6-8875-e525-3be1abc67c7c","type":"Group","parameters":{"paddingLeft":{"value":10,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"sizeMode":"contentSize","borderRadius":{"value":5,"unit":"px"},"borderStyle":"solid"},"ports":[],"children":[{"id":"9401263f-d9c3-7814-f982-2e0da7915ee6","type":"Text","parameters":{"fontSize":{"value":14,"unit":"px"},"fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]}]}]},{"id":"9d5383a8-a7c2-6572-a99d-e4b00d935543","type":"JavaScriptFunction","parameters":{"functionScript":"const inpt = Inputs.Status;\r\nif(inpt == 'active'){\r\n    Outputs.active();\r\n}\r\nelse if (inpt == 'closed'){\r\n    Outputs.closed();\r\n}\r\nelse {\r\n    Outputs.pending();\r\n}\r\n"},"ports":[{"name":"in-Status","displayName":"Status","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-active","displayName":"active","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-closed","displayName":"closed","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-pending","displayName":"pending","plug":"output","type":"signal","group":"Outputs","index":7}],"children":[]},{"id":"824fced0-31cf-d16d-f889-c8fd59f88d66","type":"States","parameters":{"states":"active,closed,pending","values":"bg,border,text,text_color","type-bg":"color","type-border":"color","type-text":"string","type-text_color":"color","value-active-bg":"#B1FFAC30","value-active-border":"Primary ECC","value-active-text":"Active","value-active-text_color":"Primary ECC","value-closed-bg":"#F3C8C53F","value-closed-border":"#FF0000","value-closed-text_color":"#FF0000","value-closed-text":"Closed","value-pending-bg":"#FFEEBE3F","value-pending-border":"Notice","value-pending-text_color":"Notice","value-pending-text":"Pending"},"ports":[],"children":[]}],"connections":[{"sourceId":"06b81883-988d-522b-289c-d013c68cc99e","sourcePort":"prop-Value","targetId":"9d5383a8-a7c2-6572-a99d-e4b00d935543","targetPort":"in-Status"},{"sourceId":"9d5383a8-a7c2-6572-a99d-e4b00d935543","sourcePort":"out-active","targetId":"824fced0-31cf-d16d-f889-c8fd59f88d66","targetPort":"to-active"},{"sourceId":"9d5383a8-a7c2-6572-a99d-e4b00d935543","sourcePort":"out-closed","targetId":"824fced0-31cf-d16d-f889-c8fd59f88d66","targetPort":"to-closed"},{"sourceId":"9d5383a8-a7c2-6572-a99d-e4b00d935543","sourcePort":"out-pending","targetId":"824fced0-31cf-d16d-f889-c8fd59f88d66","targetPort":"to-pending"},{"sourceId":"824fced0-31cf-d16d-f889-c8fd59f88d66","sourcePort":"bg","targetId":"7756144f-78f6-8875-e525-3be1abc67c7c","targetPort":"backgroundColor"},{"sourceId":"824fced0-31cf-d16d-f889-c8fd59f88d66","sourcePort":"border","targetId":"7756144f-78f6-8875-e525-3be1abc67c7c","targetPort":"borderColor"},{"sourceId":"824fced0-31cf-d16d-f889-c8fd59f88d66","sourcePort":"text","targetId":"9401263f-d9c3-7814-f982-2e0da7915ee6","targetPort":"text"},{"sourceId":"824fced0-31cf-d16d-f889-c8fd59f88d66","sourcePort":"text_color","targetId":"9401263f-d9c3-7814-f982-2e0da7915ee6","targetPort":"color"}],"ports":[],"roots":["b0ddd5a3-2b6a-c28a-e056-3d7cd2de55f2"]},{"name":"/#component/Table/Store Cell Value","nodes":[{"id":"5f97e145-6626-803b-4830-16a54ef15e9a","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"6114a99d-d63c-cc59-adc1-87be4ee75fdb","type":"JavaScriptFunction","parameters":{"functionScript":"const cell = Component.RepeaterObject\n\ncell.Value = Inputs.Value\n\nNoodl.Objects[cell.ItemId][cell.Field] = Inputs.Value\n\nNoodl.Events.emit(Component.ParentObject.id + '-Table.CellChanged',{\n    ItemId:cell.ItemId,\n    Field:cell.Field,\n    Value:Inputs.Value\n})\n"},"ports":[{"name":"in-Value","displayName":"Value","plug":"input","type":"*","group":"Inputs","index":4}],"children":[]}],"connections":[{"sourceId":"5f97e145-6626-803b-4830-16a54ef15e9a","sourcePort":"Do","targetId":"6114a99d-d63c-cc59-adc1-87be4ee75fdb","targetPort":"run"},{"sourceId":"5f97e145-6626-803b-4830-16a54ef15e9a","sourcePort":"Value","targetId":"6114a99d-d63c-cc59-adc1-87be4ee75fdb","targetPort":"in-Value"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Value","type":"*","group":"Inputs","plug":"input","index":1}],"roots":[]},{"name":"/#component/Table/String Cell","nodes":[{"id":"bc25b8c3-6a58-1909-a823-bf80a6e97100","type":"Model2","parameters":{"properties":"Value,Editable","idSource":"foreach"},"ports":[],"children":[]},{"id":"2fec6dc7-d8bc-1af1-c6bb-1b78a74f5fd6","type":"Inverter","parameters":{"value":false},"ports":[],"children":[]},{"id":"c07f2d89-77ad-9f2a-c437-260099eff1c9","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.Blur()"},"ports":[{"name":"out-Blur","displayName":"Blur","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[]},{"id":"d78adf45-431b-1306-0be3-e019ff68a0f7","type":"/#component/Table/Store Cell Value","parameters":{},"ports":[],"children":[]},{"id":"accbe133-a544-4677-59d8-668e9f9098d4","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"71090a6c-a7ef-8e5e-0290-b1b1f7ad41a1","type":"Text","parameters":{"sizeMode":"contentHeight","alignY":"center","color":"Grey - 900","position":"relative"},"ports":[],"children":[]},{"id":"f68667b4-813f-03ea-bbbe-14be24ec94d9","type":"Group","parameters":{"mounted":false,"sizeMode":"contentSize"},"ports":[],"children":[{"id":"5ead9078-b739-bd33-fe49-79d49887f664","type":"net.noodl.controls.textinput","parameters":{"sizeMode":"explicit","height":{"value":100,"unit":"%"},"useLabel":false,"borderStyle":"none","placeholder":"","paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"borderRadius":{"value":0,"unit":"px"},"marginLeft":{"value":-2,"unit":"px"},"type":"text"},"ports":[],"children":[]}]}]},{"id":"1562f0d7-6a41-c13a-4aee-73aa839fd24a","type":"JavaScriptFunction","parameters":{"functionScript":"const inpt = Inputs.value;\r\ninpt === null ? Outputs.Value = (\"-\") : Outputs.Value = inpt"},"ports":[{"name":"in-value","displayName":"value","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Value","displayName":"Value","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"bc25b8c3-6a58-1909-a823-bf80a6e97100","sourcePort":"prop-Editable","targetId":"2fec6dc7-d8bc-1af1-c6bb-1b78a74f5fd6","targetPort":"value"},{"sourceId":"5ead9078-b739-bd33-fe49-79d49887f664","sourcePort":"onEnter","targetId":"c07f2d89-77ad-9f2a-c437-260099eff1c9","targetPort":"run"},{"sourceId":"c07f2d89-77ad-9f2a-c437-260099eff1c9","sourcePort":"out-Blur","targetId":"5ead9078-b739-bd33-fe49-79d49887f664","targetPort":"blur"},{"sourceId":"5ead9078-b739-bd33-fe49-79d49887f664","sourcePort":"onTextChanged","targetId":"d78adf45-431b-1306-0be3-e019ff68a0f7","targetPort":"Value"},{"sourceId":"5ead9078-b739-bd33-fe49-79d49887f664","sourcePort":"onBlur","targetId":"d78adf45-431b-1306-0be3-e019ff68a0f7","targetPort":"Do"},{"sourceId":"bc25b8c3-6a58-1909-a823-bf80a6e97100","sourcePort":"prop-Editable","targetId":"f68667b4-813f-03ea-bbbe-14be24ec94d9","targetPort":"mounted"},{"sourceId":"2fec6dc7-d8bc-1af1-c6bb-1b78a74f5fd6","sourcePort":"result","targetId":"71090a6c-a7ef-8e5e-0290-b1b1f7ad41a1","targetPort":"mounted"},{"sourceId":"bc25b8c3-6a58-1909-a823-bf80a6e97100","sourcePort":"prop-Value","targetId":"1562f0d7-6a41-c13a-4aee-73aa839fd24a","targetPort":"in-value"},{"sourceId":"1562f0d7-6a41-c13a-4aee-73aa839fd24a","sourcePort":"out-Value","targetId":"71090a6c-a7ef-8e5e-0290-b1b1f7ad41a1","targetPort":"text"},{"sourceId":"1562f0d7-6a41-c13a-4aee-73aa839fd24a","sourcePort":"out-Value","targetId":"5ead9078-b739-bd33-fe49-79d49887f664","targetPort":"startValue"}],"ports":[],"roots":["accbe133-a544-4677-59d8-668e9f9098d4"],"metadata":{"canvasPos":{"x":564,"y":20}}},{"name":"/#component/Table/total sample Cell","nodes":[{"id":"3360d666-69dc-e2c3-006c-7c31a4320ce6","type":"Model2","parameters":{"properties":"Value","idSource":"foreach"},"ports":[],"children":[]},{"id":"451d6dc5-ea84-639b-deab-c80322ccdf23","type":"/#component/Table/Base Cell","parameters":{},"ports":[],"children":[{"id":"f4f0f1b1-6742-9df8-73e0-ec6b2733918e","type":"Text","parameters":{"alignY":"center","color":"Grey - 900","position":"relative","sizeMode":"contentSize","text":""},"ports":[],"children":[]}]},{"id":"d47523f5-9a7d-ddc0-74bf-50317f063508","type":"JavaScriptFunction","parameters":{"functionScript":"\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\n\r\ntry {\r\n  const { data, error } = await supabase.from('samples_collected')\r\n                                        .select('count', { count: 'exact' })\r\n                                        .eq('inspection_request_id', Inputs.Ins)\r\n                                        .single();\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Count = data.count;\r\n    console.log(data)\r\n    Outputs.Success();\r\n  }\r\n} catch (error) {\r\n    console.error(error)\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-Ins","displayName":"Ins","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Count","displayName":"Count","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]}],"connections":[{"sourceId":"3360d666-69dc-e2c3-006c-7c31a4320ce6","sourcePort":"prop-Value","targetId":"d47523f5-9a7d-ddc0-74bf-50317f063508","targetPort":"in-Ins"},{"sourceId":"d47523f5-9a7d-ddc0-74bf-50317f063508","sourcePort":"out-Count","targetId":"f4f0f1b1-6742-9df8-73e0-ec6b2733918e","targetPort":"text"}],"ports":[],"roots":["451d6dc5-ea84-639b-deab-c80322ccdf23"]},{"name":"/#Supabase Prefab/Supabase Prefab/Core/Supabase - Example Request","nodes":[{"id":"e9c28ce9-46d6-bf10-9395-c6d29c69ddd4","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"54addfe7-2829-c7af-a418-9bf75121c420","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"a1e5ae3d-67d8-28ee-f247-9c04c3b5bdb7","type":"JavaScriptFunction","parameters":{"functionScript":"\nconst supabase = Noodl.Variables.supabase;\n\nif (!supabase) throw new Error('Supabase client not found');\n\ntry {\n  const { data, error } = await supabase.from('companies').select('*');\n\n  if (error) {\n    console.error(error)\n    Outputs.Failure();\n  } else {\n    Outputs.Companies = data;\n    Outputs.Success();\n  }\n} catch (error) {\n    console.error(error)\n  Outputs.Failure();\n}\n"},"ports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Companies","displayName":"Companies","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"e9c28ce9-46d6-bf10-9395-c6d29c69ddd4","sourcePort":"Do","targetId":"a1e5ae3d-67d8-28ee-f247-9c04c3b5bdb7","targetPort":"run"},{"sourceId":"a1e5ae3d-67d8-28ee-f247-9c04c3b5bdb7","sourcePort":"out-Success","targetId":"54addfe7-2829-c7af-a418-9bf75121c420","targetPort":"Success"},{"sourceId":"a1e5ae3d-67d8-28ee-f247-9c04c3b5bdb7","sourcePort":"out-Failure","targetId":"54addfe7-2829-c7af-a418-9bf75121c420","targetPort":"Failure"},{"sourceId":"a1e5ae3d-67d8-28ee-f247-9c04c3b5bdb7","sourcePort":"out-Companies","targetId":"54addfe7-2829-c7af-a418-9bf75121c420","targetPort":"Companies"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"Companies","type":"*","plug":"output","index":2}],"roots":[]},{"name":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Example App Root","nodes":[{"id":"63cd5e30-5e36-a925-bf5b-5628e1654bd0","type":"Group","parameters":{"backgroundColor":"#FFFFFF","minHeight":{"value":100,"unit":"vh"}},"ports":[],"children":[{"id":"4856d206-c735-dafe-86e1-681eb3ff47d8","type":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Header","parameters":{},"ports":[],"children":[]},{"id":"dd2edba8-84d7-99cf-11f8-bef4d4f29db4","type":"Group","parameters":{"paddingLeft":{"value":16,"unit":"px"},"paddingTop":{"value":16,"unit":"px"},"paddingBottom":{"value":16,"unit":"px"},"paddingRight":{"value":16,"unit":"px"}},"ports":[],"children":[{"id":"dd082568-f211-02bb-b5ea-d4a8c831d712","type":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Full Router","parameters":{},"ports":[],"children":[]}]}]},{"id":"da707e79-0245-18d1-dfed-adf736b8bee6","type":"/#Supabase Prefab/Supabase Prefab/Core/Supabase - Setup Client","parameters":{"Supabase URL":"","Supabase Anon Key":""},"ports":[],"children":[]},{"id":"980aece9-7c68-6d04-c581-2cfb19bfe520","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Fetch Current User Auth","parameters":{},"ports":[],"children":[]},{"id":"6e0a4407-975b-d703-9d3b-a77ecc6d1737","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Fetch Current User Profile Data","parameters":{},"ports":[],"children":[]},{"id":"9056be38-d019-1051-5c35-adb4e2b732b6","type":"RouterNavigate","parameters":{"router":"Supabase Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/User Profile"},"ports":[],"children":[]},{"id":"750838b5-2836-a10a-608e-e92accea1096","type":"Condition","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"6e0a4407-975b-d703-9d3b-a77ecc6d1737","sourcePort":"Success","targetId":"9056be38-d019-1051-5c35-adb4e2b732b6","targetPort":"navigate"},{"sourceId":"da707e79-0245-18d1-dfed-adf736b8bee6","sourcePort":"Success","targetId":"980aece9-7c68-6d04-c581-2cfb19bfe520","targetPort":"Do"},{"sourceId":"63cd5e30-5e36-a925-bf5b-5628e1654bd0","sourcePort":"didMount","targetId":"da707e79-0245-18d1-dfed-adf736b8bee6","targetPort":"Do"},{"sourceId":"980aece9-7c68-6d04-c581-2cfb19bfe520","sourcePort":"Done","targetId":"750838b5-2836-a10a-608e-e92accea1096","targetPort":"eval"},{"sourceId":"980aece9-7c68-6d04-c581-2cfb19bfe520","sourcePort":"Logged In","targetId":"750838b5-2836-a10a-608e-e92accea1096","targetPort":"condition"},{"sourceId":"750838b5-2836-a10a-608e-e92accea1096","sourcePort":"ontrue","targetId":"6e0a4407-975b-d703-9d3b-a77ecc6d1737","targetPort":"Do"},{"sourceId":"980aece9-7c68-6d04-c581-2cfb19bfe520","sourcePort":"Logged In","targetId":"dd082568-f211-02bb-b5ea-d4a8c831d712","targetPort":"Is User Logged In"}],"ports":[],"roots":["63cd5e30-5e36-a925-bf5b-5628e1654bd0"]},{"name":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Full Router","nodes":[{"id":"4926d251-91aa-1e2f-8e0a-ceb9ae4a6d15","type":"Group","parameters":{},"ports":[],"children":[{"id":"345cf34b-1d7c-d072-a8bd-19c45e5d9afb","type":"Router","parameters":{"name":"Supabase Not Logged In Router","pages":{"routes":["/#Supabase Prefab/Supabase Prefab/Pages/Landing","/#Supabase Prefab/Supabase Prefab/Pages/Forgot password","/#Supabase Prefab/Supabase Prefab/Pages/Email confirmation","/#Supabase Prefab/Supabase Prefab/Pages/Log in with Magic link","/#Supabase Prefab/Supabase Prefab/Pages/Log in","/#Supabase Prefab/Supabase Prefab/Pages/Reset password","/#Supabase Prefab/Supabase Prefab/Pages/Sign up"],"startPage":"/#Supabase Prefab/Supabase Prefab/Pages/Landing"},"mounted":true},"ports":[],"children":[]},{"id":"ba7215e1-8de8-6f51-deeb-c83012cb9cb0","type":"Router","parameters":{"name":"Supabase Logged In Router","pages":{"routes":["/#Supabase Prefab/Supabase Prefab/Pages/Logged in","/#Supabase Prefab/Supabase Prefab/Pages/User Profile","/#Supabase Prefab/Supabase Prefab/Pages/Update password"],"startPage":"/#Supabase Prefab/Supabase Prefab/Pages/Logged in"},"mounted":false},"ports":[],"children":[]}]},{"id":"e2310970-bbf8-1ad0-88dc-41172fd56856","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"99b2e852-44c2-1713-7538-6269ee787939","type":"Inverter","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"e2310970-bbf8-1ad0-88dc-41172fd56856","sourcePort":"Is User Logged In","targetId":"ba7215e1-8de8-6f51-deeb-c83012cb9cb0","targetPort":"mounted"},{"sourceId":"e2310970-bbf8-1ad0-88dc-41172fd56856","sourcePort":"Is User Logged In","targetId":"99b2e852-44c2-1713-7538-6269ee787939","targetPort":"value"},{"sourceId":"99b2e852-44c2-1713-7538-6269ee787939","sourcePort":"result","targetId":"345cf34b-1d7c-d072-a8bd-19c45e5d9afb","targetPort":"mounted"}],"ports":[{"name":"Is User Logged In","type":{"name":"boolean"},"group":"General","plug":"input","index":1}],"roots":["4926d251-91aa-1e2f-8e0a-ceb9ae4a6d15"]},{"name":"/#Supabase Prefab/Supabase Prefab/UI/Supabase Header","nodes":[{"id":"4e402b57-5754-38f4-f2bc-26f4c44009c8","type":"Group","parameters":{"paddingTop":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"borderBottomStyle":"solid","borderBottomColor":"#5836F533","borderBottomWidth":{"value":1,"unit":"px"},"boxShadowEnabled":false,"boxShadowOffsetY":{"value":8,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowColor":"#5836F533","borderStyle":"none","maxHeight":{"value":80,"unit":"px"},"mounted":true,"sizeMode":"contentHeight","position":"sticky","flexDirection":"row"},"ports":[],"children":[{"id":"8592690e-5694-c862-289a-995329d71c04","type":"Group","parameters":{"alignY":"center","flexDirection":"row","marginRight":{"value":20,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"05cdf216-5a70-56c2-601f-b4d97e4a52ab","type":"Group","parameters":{"sizeMode":"contentWidth","alignY":"center","marginRight":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"a81f8b1f-fc4a-ed55-b827-7405d5d53576","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"home","codeAsClass":false},"iconColor":"Grey - 700","iconSize":{"value":24,"unit":"px"}},"ports":[],"children":[]}]},{"id":"e2749322-388e-9753-450a-f6631d2a6b4a","type":"Text","parameters":{"text":"Logged out"},"ports":[],"children":[]}]},{"id":"089c2aa6-c8a5-d707-51da-0bb174065e2f","type":"Group","parameters":{"borderStyle":"none","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","sizeMode":"contentSize","flexDirection":"row","paddingTop":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingLeft":{"value":10,"unit":"px"},"justifyContent":"space-between","borderRadius":{"value":5,"unit":"px"},"mounted":false,"columnGap":{"value":20,"unit":"px"},"alignY":"center"},"ports":[],"children":[{"id":"e192a38b-ab70-9c49-c0f4-478dae4922a8","type":"net.noodl.controls.button","parameters":{"label":"Log in"},"ports":[],"children":[]},{"id":"ef2d6f68-24f1-1262-da55-32e55171296d","type":"net.noodl.controls.button","parameters":{"label":"Sign up","alignY":"center"},"ports":[],"children":[]}]},{"id":"436031b7-0f65-1c2b-daab-a0ef4ba7594a","type":"Group","parameters":{"borderStyle":"none","borderWidth":{"value":1,"unit":"px"},"borderColor":"Grey - 500","sizeMode":"contentSize","flexDirection":"row","paddingTop":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingLeft":{"value":10,"unit":"px"},"justifyContent":"space-between","borderRadius":{"value":5,"unit":"px"},"mounted":false,"columnGap":{"value":16,"unit":"px"},"alignY":"center"},"ports":[],"children":[{"id":"50bf45d7-88ce-8306-8aee-b0537a165ee2","type":"net.noodl.controls.button","parameters":{"label":"Main"},"ports":[],"children":[]},{"id":"f912a21c-f34b-0d32-7699-45422d222b50","type":"net.noodl.controls.button","parameters":{"label":"Profile"},"ports":[],"children":[]},{"id":"26539006-50eb-2ff6-b702-35aff1781e36","type":"net.noodl.controls.button","parameters":{"sizeMode":"contentSize","alignY":"center","useLabel":false,"useIcon":true,"iconIconSource":{"class":"material-icons","code":"logout","codeAsClass":false},"iconColor":"Grey - 700","iconSize":{"value":16,"unit":"px"},"backgroundColor":"transparent","minWidth":{"value":0,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"62014561-babf-8980-7a6b-bdba426d8ecc","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Log Out","parameters":{},"ports":[],"children":[]},{"id":"8d8a5dc7-2519-71b7-2b9d-13bbce3c93fd","type":"RouterNavigate","parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Landing"},"ports":[],"children":[]},{"id":"d577467e-a528-6cfa-7813-246752c531c3","type":"Model2","parameters":{"modelId":"currentUser","properties":"loggedIn,auth,profile"},"ports":[],"children":[]},{"id":"6ba64783-c871-b2ea-bcff-967a4d9b2412","type":"States","parameters":{"states":"logged in,logged out","values":"logged in,header message","type-logged in":"boolean","type-message":"string","type-header message":"string","currentState":"false","value-logged in-logged in":true,"value-logged in-header message":"logged IN","value-logged out-header message":"logged OUT","useTransitions":false},"ports":[],"children":[]},{"id":"f293bb22-313c-74ac-84d1-b4dc791654db","type":"RouterNavigate","parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Log in"},"ports":[],"children":[]},{"id":"56f81d9a-fdc2-cc69-c6c8-75a5817e52ec","type":"RouterNavigate","parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Sign up"},"ports":[],"children":[]},{"id":"00f5db76-76e8-991e-5d5c-15a34185b0f8","type":"Boolean To String","parameters":{"trueString":"logged in","falseString":"logged out"},"ports":[],"children":[]},{"id":"b0243a37-c662-4067-19ef-dc68218bbd77","type":"RouterNavigate","parameters":{"router":"Supabase Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Logged in"},"ports":[],"children":[]},{"id":"c9024458-531f-8446-eb7c-bb1607699a9c","type":"RouterNavigate","parameters":{"router":"Supabase Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/User Profile"},"ports":[],"children":[]},{"id":"f1e2fc78-5118-1e83-12db-f2f80cae116f","type":"JavaScriptFunction","parameters":{"functionScript":"if (Inputs.loggedIn) {\n    if (Boolean(Inputs.profile)) {\n        Outputs.display = Inputs.profile.first_name || Inputs.auth.email\n    } else {\n        Outputs.display = Inputs.auth.email\n    }\n} else {\n    Outputs.display = \"Welcome !\"\n}"},"ports":[{"name":"in-loggedIn","displayName":"loggedIn","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-profile","displayName":"profile","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-auth","displayName":"auth","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-display","displayName":"display","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"b9bb592b-2208-ea97-2e12-83c2417b8eea","type":"Event Receiver","parameters":{"channelName":"Supabase User Logged In"},"ports":[],"children":[]},{"id":"dcd95c19-9b18-cab9-5bbc-12abf39b3f6b","type":"Event Receiver","parameters":{"channelName":"Supabase Current User Updated"},"ports":[],"children":[]},{"id":"090b22fb-4b1b-dd93-de1b-18f908b5befc","type":"Event Receiver","parameters":{"channelName":"Supabase User Logged Out"},"ports":[],"children":[]},{"id":"7564f2b3-e423-ce4e-8642-bceabb3a1dcf","type":"RouterNavigate","parameters":{"router":"Supabase Not Logged In Router","target":"/#Supabase Prefab/Supabase Prefab/Pages/Landing"},"ports":[],"children":[]}],"connections":[{"sourceId":"05cdf216-5a70-56c2-601f-b4d97e4a52ab","sourcePort":"onClick","targetId":"8d8a5dc7-2519-71b7-2b9d-13bbce3c93fd","targetPort":"navigate"},{"sourceId":"6ba64783-c871-b2ea-bcff-967a4d9b2412","sourcePort":"at-logged in","targetId":"436031b7-0f65-1c2b-daab-a0ef4ba7594a","targetPort":"mounted"},{"sourceId":"6ba64783-c871-b2ea-bcff-967a4d9b2412","sourcePort":"at-logged out","targetId":"089c2aa6-c8a5-d707-51da-0bb174065e2f","targetPort":"mounted"},{"sourceId":"e192a38b-ab70-9c49-c0f4-478dae4922a8","sourcePort":"onClick","targetId":"f293bb22-313c-74ac-84d1-b4dc791654db","targetPort":"navigate"},{"sourceId":"ef2d6f68-24f1-1262-da55-32e55171296d","sourcePort":"onClick","targetId":"56f81d9a-fdc2-cc69-c6c8-75a5817e52ec","targetPort":"navigate"},{"sourceId":"d577467e-a528-6cfa-7813-246752c531c3","sourcePort":"prop-loggedIn","targetId":"00f5db76-76e8-991e-5d5c-15a34185b0f8","targetPort":"input"},{"sourceId":"00f5db76-76e8-991e-5d5c-15a34185b0f8","sourcePort":"currentValue","targetId":"6ba64783-c871-b2ea-bcff-967a4d9b2412","targetPort":"currentState"},{"sourceId":"50bf45d7-88ce-8306-8aee-b0537a165ee2","sourcePort":"onClick","targetId":"b0243a37-c662-4067-19ef-dc68218bbd77","targetPort":"navigate"},{"sourceId":"f912a21c-f34b-0d32-7699-45422d222b50","sourcePort":"onClick","targetId":"c9024458-531f-8446-eb7c-bb1607699a9c","targetPort":"navigate"},{"sourceId":"f1e2fc78-5118-1e83-12db-f2f80cae116f","sourcePort":"out-display","targetId":"e2749322-388e-9753-450a-f6631d2a6b4a","targetPort":"text"},{"sourceId":"d577467e-a528-6cfa-7813-246752c531c3","sourcePort":"prop-auth","targetId":"f1e2fc78-5118-1e83-12db-f2f80cae116f","targetPort":"in-auth"},{"sourceId":"d577467e-a528-6cfa-7813-246752c531c3","sourcePort":"prop-profile","targetId":"f1e2fc78-5118-1e83-12db-f2f80cae116f","targetPort":"in-profile"},{"sourceId":"b9bb592b-2208-ea97-2e12-83c2417b8eea","sourcePort":"eventReceived","targetId":"d577467e-a528-6cfa-7813-246752c531c3","targetPort":"fetch"},{"sourceId":"dcd95c19-9b18-cab9-5bbc-12abf39b3f6b","sourcePort":"eventReceived","targetId":"d577467e-a528-6cfa-7813-246752c531c3","targetPort":"fetch"},{"sourceId":"b9bb592b-2208-ea97-2e12-83c2417b8eea","sourcePort":"eventReceived","targetId":"f1e2fc78-5118-1e83-12db-f2f80cae116f","targetPort":"run"},{"sourceId":"dcd95c19-9b18-cab9-5bbc-12abf39b3f6b","sourcePort":"eventReceived","targetId":"f1e2fc78-5118-1e83-12db-f2f80cae116f","targetPort":"run"},{"sourceId":"090b22fb-4b1b-dd93-de1b-18f908b5befc","sourcePort":"eventReceived","targetId":"d577467e-a528-6cfa-7813-246752c531c3","targetPort":"fetch"},{"sourceId":"090b22fb-4b1b-dd93-de1b-18f908b5befc","sourcePort":"eventReceived","targetId":"f1e2fc78-5118-1e83-12db-f2f80cae116f","targetPort":"run"},{"sourceId":"d577467e-a528-6cfa-7813-246752c531c3","sourcePort":"prop-loggedIn","targetId":"f1e2fc78-5118-1e83-12db-f2f80cae116f","targetPort":"in-loggedIn"},{"sourceId":"26539006-50eb-2ff6-b702-35aff1781e36","sourcePort":"onClick","targetId":"62014561-babf-8980-7a6b-bdba426d8ecc","targetPort":"Do"},{"sourceId":"62014561-babf-8980-7a6b-bdba426d8ecc","sourcePort":"Success","targetId":"7564f2b3-e423-ce4e-8642-bceabb3a1dcf","targetPort":"navigate"}],"ports":[],"roots":["4e402b57-5754-38f4-f2bc-26f4c44009c8"]},{"name":"/PDF Viewer","nodes":[{"id":"c46b3f4c-d9ca-146f-4c7a-00f9552ee34d","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.urlEncoded = encodeURIComponent(Inputs.url);","scriptInputs":[{"id":"6ya6","label":"url"}],"in-url":"https://github.com/mozilla/pdf.js/raw/159f853e061b95ec45c7f476f1193411025f05c1/web/compressed.tracemonkey-pldi-09.pdf"},"ports":[{"name":"intype-url","displayName":"Type","editorName":"url | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"6ya6","index":4},{"name":"in-url","displayName":"url","plug":"input","type":"string","group":"Inputs","index":5},{"name":"out-urlEncoded","displayName":"urlEncoded","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"a6abf05e-0548-f51b-6f6f-3a0a3f118e98","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"c21f49fa-e0be-8f37-8116-fc35c48f4aaa","type":"Group","parameters":{},"ports":[],"children":[{"id":"7ab80da3-6959-a95c-dbbd-241d53bd327b","type":"module.inlineHtml","parameters":{"html":"<iframe frameborder=\"0\" height=\"100%\" width=\"100%\" src=\"https://docs.google.com/viewer?url={{pdfUrl}}&embedded=true\"></iframe>\n","styleCss":"width: 100%;\nheight: 100%;"},"ports":[],"children":[]}]},{"id":"6da50aa9-35a2-5b4b-9186-68b7491053d5","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"c46b3f4c-d9ca-146f-4c7a-00f9552ee34d","sourcePort":"out-urlEncoded","targetId":"7ab80da3-6959-a95c-dbbd-241d53bd327b","targetPort":"prop-pdfUrl"},{"sourceId":"a6abf05e-0548-f51b-6f6f-3a0a3f118e98","sourcePort":"Width","targetId":"c21f49fa-e0be-8f37-8116-fc35c48f4aaa","targetPort":"width"},{"sourceId":"a6abf05e-0548-f51b-6f6f-3a0a3f118e98","sourcePort":"Height","targetId":"c21f49fa-e0be-8f37-8116-fc35c48f4aaa","targetPort":"height"},{"sourceId":"6da50aa9-35a2-5b4b-9186-68b7491053d5","sourcePort":"PDF URL","targetId":"c46b3f4c-d9ca-146f-4c7a-00f9552ee34d","targetPort":"in-url"}],"ports":[{"name":"PDF URL","type":"string","default":"https://github.com/mozilla/pdf.js/raw/159f853e061b95ec45c7f476f1193411025f05c1/web/compressed.tracemonkey-pldi-09.pdf","group":"Inputs","plug":"input","index":1},{"name":"Width","type":{"name":"dimension","units":["%","px","vw","vh"],"defaultUnit":"%"},"default":100,"group":"Dimensions","plug":"input","index":2},{"name":"Height","type":{"name":"dimension","units":["%","px","vw","vh"],"defaultUnit":"%"},"default":100,"group":"Dimensions","plug":"input","index":3}],"roots":["c21f49fa-e0be-8f37-8116-fc35c48f4aaa"],"metadata":{"canvasPos":{"x":1119,"y":0}}},{"name":"/testing","nodes":[{"id":"56b5a018-e4ec-b0f4-6007-da7b47fa8c3b","type":"Group","parameters":{"sizeMode":"contentSize"},"ports":[],"children":[]},{"id":"3384437b-1956-c2b6-9dd7-5b7eebe6595a","type":"Open File Picker","parameters":{},"ports":[],"children":[]},{"id":"1cbda097-dcf0-108e-d6f7-2f8401ad9843","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"b1866002-f23e-64f7-241f-219bbb20e438","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"59e3002e-04ec-c7d1-0a5d-1df8b7bd3064","type":"net.noodl.ComponentObject","parameters":{"properties":"file,name"},"ports":[],"children":[]},{"id":"652d0a65-7f55-e2ed-1999-47f4a68ed94b","type":"net.noodl.SetComponentObjectProperties","parameters":{"properties":"file,name","type-name":"string"},"ports":[],"children":[]},{"id":"aa547a3a-1dd2-ec07-15ff-81d93adc6dbb","type":"net.noodl.SetComponentObjectProperties","parameters":{"properties":"file,name","type-file":"boolean","prop-file":true,"type-name":"string","prop-name":"Text"},"ports":[],"children":[]}],"connections":[{"sourceId":"1cbda097-dcf0-108e-d6f7-2f8401ad9843","sourcePort":"open","targetId":"3384437b-1956-c2b6-9dd7-5b7eebe6595a","targetPort":"open"},{"sourceId":"59e3002e-04ec-c7d1-0a5d-1df8b7bd3064","sourcePort":"value-file","targetId":"b1866002-f23e-64f7-241f-219bbb20e438","targetPort":"value"},{"sourceId":"59e3002e-04ec-c7d1-0a5d-1df8b7bd3064","sourcePort":"value-name","targetId":"b1866002-f23e-64f7-241f-219bbb20e438","targetPort":"name"},{"sourceId":"3384437b-1956-c2b6-9dd7-5b7eebe6595a","sourcePort":"name","targetId":"652d0a65-7f55-e2ed-1999-47f4a68ed94b","targetPort":"prop-name"},{"sourceId":"3384437b-1956-c2b6-9dd7-5b7eebe6595a","sourcePort":"file","targetId":"652d0a65-7f55-e2ed-1999-47f4a68ed94b","targetPort":"prop-file"},{"sourceId":"3384437b-1956-c2b6-9dd7-5b7eebe6595a","sourcePort":"success","targetId":"652d0a65-7f55-e2ed-1999-47f4a68ed94b","targetPort":"store"},{"sourceId":"1cbda097-dcf0-108e-d6f7-2f8401ad9843","sourcePort":"mount","targetId":"aa547a3a-1dd2-ec07-15ff-81d93adc6dbb","targetPort":"store"},{"sourceId":"652d0a65-7f55-e2ed-1999-47f4a68ed94b","sourcePort":"stored","targetId":"b1866002-f23e-64f7-241f-219bbb20e438","targetPort":"Success"},{"sourceId":"aa547a3a-1dd2-ec07-15ff-81d93adc6dbb","sourcePort":"stored","targetId":"b1866002-f23e-64f7-241f-219bbb20e438","targetPort":"Success"}],"ports":[{"name":"value","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":1},{"name":"open","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"name","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":2},{"name":"mount","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":2},{"name":"Success","type":{"name":"signal"},"plug":"output","index":3}],"roots":["56b5a018-e4ec-b0f4-6007-da7b47fa8c3b"]}]