[{"name":"/#view/materials view","nodes":[{"id":"b8ea383b-84c3-5e42-8148-8325be893e27","type":"Page","parameters":{},"ports":[],"children":[{"id":"9adfe436-c9dd-1b15-435c-8202f3311b57","type":"Group","parameters":{"backgroundColor":"#FFFFFF","flexDirection":"row"},"ports":[],"children":[{"id":"dd753426-9036-3284-dbf9-a5cc2280a347","type":"/#component/Sidebar","parameters":{},"ports":[],"children":[]},{"id":"44b3850d-d836-4bf4-bfb4-79e8fcd92c76","type":"Group","parameters":{"sizeMode":"explicit"},"ports":[],"children":[{"id":"7285724b-8aec-17d2-e513-4049f27eae04","type":"Group","parameters":{"sizeMode":"explicit","height":{"value":60,"unit":"px"}},"ports":[],"children":[{"id":"8136a879-55ed-0ead-8084-c3ba1f2c7a26","type":"/#component/navbar","parameters":{"pagename":"Materials List"},"ports":[],"children":[]}]},{"id":"5290db66-b10d-c906-ea26-21d7baea0053","type":"Group","parameters":{"paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"paddingTop":{"value":15,"unit":"px"}},"ports":[],"children":[{"id":"7e7efedd-5f70-7ed2-49eb-d884577d315b","type":"net.noodl.controls.button","parameters":{"alignX":"right","label":"Add Material","useIcon":true,"iconIconSource":{"class":"material-icons","code":"add","codeAsClass":false},"minWidth":{"value":0,"unit":"px"},"paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"backgroundColor":"Primary ECC"},"ports":[],"children":[]},{"id":"016cdf75-df2d-a081-42d7-5bae2b3ed37b","type":"Group","parameters":{},"ports":[],"children":[{"id":"e7f68e88-d922-b090-d1b5-8f3b259ad5a0","type":"/#component/Table","parameters":{"Margin Top":{"value":20,"unit":"px"},"Headers":"[\r\n  {\r\n    Field: 'name',\r\n    Label: 'Material',\r\n  },\r\n  {\r\n    Field: 'id',\r\n    Label: 'Action',\r\n    Type: 'Button material',\r\n  },\r\n  \r\n]"},"ports":[],"children":[]}]},{"id":"03b4ce6d-9789-f82c-d1e9-3a4ce44c856c","type":"Group","parameters":{"sizeMode":"explicit","marginTop":{"value":10,"unit":"px"},"marginBottom":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"71aa5641-9708-7e30-3ce4-d23cf820cd68","type":"Group","parameters":{"position":"absolute","scrollEnabled":true},"ports":[],"children":[{"id":"5e1f6acd-5ec1-fcf8-7aed-f070cee98cf3","type":"For Each","parameters":{"template":"/#view/materials view/card for material"},"ports":[],"children":[]}]}]}]}]}]}]},{"id":"58927d39-c11c-a69c-b633-3839ff185d84","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"c9ad7e36-b5df-2be9-7a17-9459ecc95369","type":"/#component/loading","parameters":{},"ports":[],"children":[]},{"id":"ef6b876f-5836-8f31-e4c1-92ccf93dbb72","type":"Set Variable","parameters":{"setWith":"string","name":"currentPage","value":"material"},"ports":[],"children":[]},{"id":"ab7ad085-fd84-2f33-6b29-679e3fc56ab4","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Inputs.Triggered) return;\r\nconst supabase = Noodl.Variables.supabase;\r\nconst company = Inputs.Company;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n    .from('material_master')\r\n    .select()\r\n    .eq(\"company\", company);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    \r\n\r\n    Outputs.Material = data;\r\n    Outputs.Success();\r\n  }\r\n} catch (error) {\r\n  console.error(error)\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Company","displayName":"Company","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Material","displayName":"Material","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"703af43d-0cf2-c5ef-dc3c-889dbc44ef1c","type":"Model2","parameters":{"modelId":"currentUser","properties":"company"},"ports":[],"children":[]},{"id":"df5fd01e-d397-bc60-7670-66ce6d6d6cfe","type":"States","parameters":{"type-show":"boolean","states":"tab,mob","values":"table,repeater","type-table":"boolean","type-repeater":"boolean","value-tab-table":true,"value-mob-repeater":true},"ports":[],"children":[]},{"id":"b79e0fee-e744-0333-a9fa-815983dfb1f4","type":"JavaScriptFunction","parameters":{"functionScript":"const width = Inputs.Width\r\nif(width < 450){\r\n    Outputs.Mob();\r\n}\r\nelse{\r\n    Outputs.Tab();\r\n}"},"ports":[{"name":"in-Width","displayName":"Width","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Mob","displayName":"Mob","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Tab","displayName":"Tab","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[]},{"id":"dcda6c9e-aaa0-e4e7-1181-4366d630b074","type":"NavigationShowPopup","parameters":{"target":"/#Add/add material"},"ports":[],"children":[]},{"id":"fed0653f-8eff-98f2-9daa-636d2d9733d7","type":"Event Receiver","parameters":{"channelName":"get_material"},"ports":[],"children":[]}],"connections":[{"sourceId":"b8ea383b-84c3-5e42-8148-8325be893e27","sourcePort":"boundingWidth","targetId":"dd753426-9036-3284-dbf9-a5cc2280a347","targetPort":"width"},{"sourceId":"b8ea383b-84c3-5e42-8148-8325be893e27","sourcePort":"boundingWidth","targetId":"8136a879-55ed-0ead-8084-c3ba1f2c7a26","targetPort":"width"},{"sourceId":"b8ea383b-84c3-5e42-8148-8325be893e27","sourcePort":"didMount","targetId":"ef6b876f-5836-8f31-e4c1-92ccf93dbb72","targetPort":"do"},{"sourceId":"b8ea383b-84c3-5e42-8148-8325be893e27","sourcePort":"didMount","targetId":"dd753426-9036-3284-dbf9-a5cc2280a347","targetPort":"mat"},{"sourceId":"703af43d-0cf2-c5ef-dc3c-889dbc44ef1c","sourcePort":"prop-company","targetId":"ab7ad085-fd84-2f33-6b29-679e3fc56ab4","targetPort":"in-Company"},{"sourceId":"ab7ad085-fd84-2f33-6b29-679e3fc56ab4","sourcePort":"out-Material","targetId":"e7f68e88-d922-b090-d1b5-8f3b259ad5a0","targetPort":"Items"},{"sourceId":"ab7ad085-fd84-2f33-6b29-679e3fc56ab4","sourcePort":"out-Success","targetId":"c9ad7e36-b5df-2be9-7a17-9459ecc95369","targetPort":"close"},{"sourceId":"703af43d-0cf2-c5ef-dc3c-889dbc44ef1c","sourcePort":"fetched","targetId":"c9ad7e36-b5df-2be9-7a17-9459ecc95369","targetPort":"show"},{"sourceId":"b79e0fee-e744-0333-a9fa-815983dfb1f4","sourcePort":"out-Mob","targetId":"df5fd01e-d397-bc60-7670-66ce6d6d6cfe","targetPort":"to-mob"},{"sourceId":"b79e0fee-e744-0333-a9fa-815983dfb1f4","sourcePort":"out-Tab","targetId":"df5fd01e-d397-bc60-7670-66ce6d6d6cfe","targetPort":"to-tab"},{"sourceId":"df5fd01e-d397-bc60-7670-66ce6d6d6cfe","sourcePort":"repeater","targetId":"03b4ce6d-9789-f82c-d1e9-3a4ce44c856c","targetPort":"mounted"},{"sourceId":"df5fd01e-d397-bc60-7670-66ce6d6d6cfe","sourcePort":"table","targetId":"016cdf75-df2d-a081-42d7-5bae2b3ed37b","targetPort":"mounted"},{"sourceId":"b8ea383b-84c3-5e42-8148-8325be893e27","sourcePort":"boundingWidth","targetId":"b79e0fee-e744-0333-a9fa-815983dfb1f4","targetPort":"in-Width"},{"sourceId":"ab7ad085-fd84-2f33-6b29-679e3fc56ab4","sourcePort":"out-Material","targetId":"5e1f6acd-5ec1-fcf8-7aed-f070cee98cf3","targetPort":"items"},{"sourceId":"7e7efedd-5f70-7ed2-49eb-d884577d315b","sourcePort":"onClick","targetId":"dcda6c9e-aaa0-e4e7-1181-4366d630b074","targetPort":"show"},{"sourceId":"703af43d-0cf2-c5ef-dc3c-889dbc44ef1c","sourcePort":"prop-company","targetId":"ab7ad085-fd84-2f33-6b29-679e3fc56ab4","targetPort":"in-Triggered"},{"sourceId":"fed0653f-8eff-98f2-9daa-636d2d9733d7","sourcePort":"eventReceived","targetId":"ab7ad085-fd84-2f33-6b29-679e3fc56ab4","targetPort":"in-Triggered"}],"ports":[],"roots":["b8ea383b-84c3-5e42-8148-8325be893e27"]},{"name":"/#view/materials view/card for material","nodes":[{"id":"ae21ad96-8e78-bd2d-e3a4-1e467d8b2635","type":"Group","parameters":{"sizeMode":"contentHeight","height":{"value":210,"unit":"px"},"alignContent":"flex-start","boxShadowEnabled":false,"boxShadowOffsetX":{"value":5,"unit":"px"},"boxShadowOffsetY":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"rowGap":{"value":0,"unit":"px"},"marginTop":{"value":10,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowColor":"#29712451","paddingLeft":{"value":5,"unit":"px"},"borderRadius":{"value":5,"unit":"px"},"borderStyle":"dashed","borderColor":"#B0B0B0"},"ports":[],"children":[{"id":"5e64d040-2746-e33c-d1ab-1d140cd7f1b5","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"eb6290ff-da8b-f54b-32b0-db5f91c4b7f6","type":"Text","parameters":{"text":"Material :","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"f5bf5887-0c44-eab9-55ac-e06c64eb515b","type":"Text","parameters":{"text":"-","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentSize"},"ports":[],"children":[]}]},{"id":"fe016dc5-5332-ebbf-c423-87d966a63320","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":5,"unit":"px"},"justifyContent":"flex-end","marginTop":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"590e1587-9ee1-3d86-0dd3-6f4016ab1441","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingLeft":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"alignY":"center","paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"sizeMode":"contentSize","useLabel":false,"minWidth":{"value":0,"unit":"px"},"useIcon":true,"iconIconSource":{"class":"material-icons","code":"mode_edit_outline","codeAsClass":false},"iconColor":"Primary ECC","iconSize":{"value":25,"unit":"px"}},"ports":[],"children":[]},{"id":"3eb375c2-0182-275a-df36-bf7a6f5d6471","type":"net.noodl.controls.button","parameters":{"label":"Delete","paddingLeft":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"height":{"value":35,"unit":"px"},"color":"#FF0000","borderColor":"#FF0000","borderWidth":{"value":1,"unit":"px"},"alignY":"center","paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"sizeMode":"contentSize","minWidth":{"value":0,"unit":"px"},"useLabel":false,"backgroundColor":"transparent","useIcon":true,"iconIconSource":{"class":"material-icons","code":"delete","codeAsClass":false},"iconColor":"red","iconSize":{"value":25,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"fa56c1d8-6bae-bc6d-89be-a3e4f7adbe61","type":"Model2","parameters":{"idSource":"foreach","properties":"name"},"ports":[],"children":[]},{"id":"fd8b3f87-3074-b4b4-4ee5-239a7814318a","type":"NavigationShowPopup","parameters":{"target":"/#component/Delete material"},"ports":[],"children":[]},{"id":"a6fd46de-4ef6-f6da-4dec-e86a7ce90887","type":"Set Variable","parameters":{"setWith":"number","name":"delete_material"},"ports":[],"children":[]},{"id":"470d648c-d845-2e4c-a513-c770a641d0a1","type":"Set Variable","parameters":{"setWith":"number","name":"edit_material"},"ports":[],"children":[]},{"id":"f710fbaf-afd2-a280-24bf-8ecd7c59c9a0","type":"NavigationShowPopup","parameters":{"target":"/edit material"},"ports":[],"children":[]}],"connections":[{"sourceId":"3eb375c2-0182-275a-df36-bf7a6f5d6471","sourcePort":"onClick","targetId":"a6fd46de-4ef6-f6da-4dec-e86a7ce90887","targetPort":"do"},{"sourceId":"a6fd46de-4ef6-f6da-4dec-e86a7ce90887","sourcePort":"done","targetId":"fd8b3f87-3074-b4b4-4ee5-239a7814318a","targetPort":"show"},{"sourceId":"fa56c1d8-6bae-bc6d-89be-a3e4f7adbe61","sourcePort":"id","targetId":"a6fd46de-4ef6-f6da-4dec-e86a7ce90887","targetPort":"value"},{"sourceId":"fa56c1d8-6bae-bc6d-89be-a3e4f7adbe61","sourcePort":"id","targetId":"470d648c-d845-2e4c-a513-c770a641d0a1","targetPort":"value"},{"sourceId":"590e1587-9ee1-3d86-0dd3-6f4016ab1441","sourcePort":"onClick","targetId":"470d648c-d845-2e4c-a513-c770a641d0a1","targetPort":"do"},{"sourceId":"fa56c1d8-6bae-bc6d-89be-a3e4f7adbe61","sourcePort":"prop-name","targetId":"f5bf5887-0c44-eab9-55ac-e06c64eb515b","targetPort":"text"},{"sourceId":"470d648c-d845-2e4c-a513-c770a641d0a1","sourcePort":"done","targetId":"f710fbaf-afd2-a280-24bf-8ecd7c59c9a0","targetPort":"show"}],"ports":[],"roots":["ae21ad96-8e78-bd2d-e3a4-1e467d8b2635"]},{"name":"/#component/Delete material","nodes":[{"id":"fb16296d-2444-a205-fdf8-0fc61656a076","type":"Group","parameters":{"backgroundColor":"#00000068","styleCss":"/* background-color: red; */\r\n\r\n","zIndex":3},"ports":[],"children":[{"id":"a98b5886-b5e0-608b-ffbb-7181a2d101d9","type":"Group","parameters":{"width":{"value":400,"unit":"px"},"height":{"value":300,"unit":"px"},"backgroundColor":"#FFFFFF","alignY":"center","alignX":"center","borderRadius":{"value":5,"unit":"px"},"sizeMode":"contentHeight","cssClassName":"popup"},"ports":[],"children":[{"id":"6d0ead53-3e74-0ba5-0736-185303c87044","type":"Group","parameters":{"marginLeft":{"value":10,"unit":"px"},"marginTop":{"value":10,"unit":"px"},"marginRight":{"value":10,"unit":"px"},"marginBottom":{"value":10,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"dafbbaa5-4e57-f6b6-fcbe-fa18d39339cd","type":"Text","parameters":{"text":"Are You Sure ?","fontSize":{"value":20,"unit":"px"},"alignX":"center","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]},{"id":"d74dfc10-d0c2-6cab-c2f9-4ad48947b4ee","type":"Text","parameters":{"marginTop":{"value":5,"unit":"px"},"text":"You want to delete Material ?","sizeMode":"contentSize","alignX":"center","fontSize":{"value":15,"unit":"px"},"color":"#767474"},"ports":[],"children":[]},{"id":"b2a6a54d-a0dc-0444-94c0-b502ab5158ec","type":"Group","parameters":{"sizeMode":"contentHeight","marginTop":{"value":15,"unit":"px"},"flexDirection":"row","columnGap":{"value":15,"unit":"px"},"marginBottom":{"value":15,"unit":"px"}},"ports":[],"children":[{"id":"f6281054-28c1-db7a-b925-61808eb50f65","type":"net.noodl.controls.button","parameters":{"backgroundColor":"#FA000011","label":"Yes","color":"#F53636","fontSize":{"value":18,"unit":"px"},"borderStyle":"solid","borderColor":"#FF0000","borderWidth":{"value":1,"unit":"px"},"alignX":"right","height":{"value":35,"unit":"px"}},"ports":[],"children":[]},{"id":"4efc0d11-c3b8-c746-5f64-c7b8fe830cf9","type":"net.noodl.controls.button","parameters":{"label":"No","alignX":"left","height":{"value":35,"unit":"px"},"backgroundColor":"Primary ECC"},"ports":[],"children":[]}]}]}]}]},{"id":"183f0fdc-803a-4158-337e-f4a6caa310e2","type":"NavigationClosePopup","parameters":{},"ports":[],"children":[]},{"id":"8dcbbcaa-acac-b836-e6f6-567d7b693c27","type":"Variable2","parameters":{"name":"delete_material"},"ports":[],"children":[]},{"id":"e2e50831-f4c1-4899-3ca1-bef5c01a3ed4","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Inputs.Triggere) return ;\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\nconst id = Inputs.Id\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                          .from('material_master')\r\n                          .delete()\r\n                          .eq('id', id);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Staff = data;\r\n    Outputs.Success();\r\n    // location.reload();\r\n  }\r\n} catch (error) {\r\n    console.error(error)\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-Triggere","displayName":"Triggere","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Id","displayName":"Id","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Staff","displayName":"Staff","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"303feff1-d6a7-36c2-dd5b-3334d38b9a7a","type":"CSS Definition","parameters":{"style":".popup {\r\n  display: block;\r\n  animation: popupAnimation 0.5s ease forwards;\r\n}\r\n\r\n/* Keyframe animation */\r\n@keyframes popupAnimation {\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n}"},"ports":[],"children":[]},{"id":"88bf3708-4716-04c9-06d2-6949ea6855b6","type":"Event Sender","parameters":{"channelName":"get_material"},"ports":[],"children":[]},{"id":"c32e674e-068c-7876-69d2-25d50da72601","type":"/#component/loading","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"4efc0d11-c3b8-c746-5f64-c7b8fe830cf9","sourcePort":"onClick","targetId":"183f0fdc-803a-4158-337e-f4a6caa310e2","targetPort":"close"},{"sourceId":"fb16296d-2444-a205-fdf8-0fc61656a076","sourcePort":"didMount","targetId":"8dcbbcaa-acac-b836-e6f6-567d7b693c27","targetPort":"fetch"},{"sourceId":"8dcbbcaa-acac-b836-e6f6-567d7b693c27","sourcePort":"value","targetId":"e2e50831-f4c1-4899-3ca1-bef5c01a3ed4","targetPort":"in-Id"},{"sourceId":"f6281054-28c1-db7a-b925-61808eb50f65","sourcePort":"onClick","targetId":"e2e50831-f4c1-4899-3ca1-bef5c01a3ed4","targetPort":"in-Triggere"},{"sourceId":"e2e50831-f4c1-4899-3ca1-bef5c01a3ed4","sourcePort":"out-Success","targetId":"183f0fdc-803a-4158-337e-f4a6caa310e2","targetPort":"close"},{"sourceId":"e2e50831-f4c1-4899-3ca1-bef5c01a3ed4","sourcePort":"out-Success","targetId":"88bf3708-4716-04c9-06d2-6949ea6855b6","targetPort":"sendEvent"},{"sourceId":"f6281054-28c1-db7a-b925-61808eb50f65","sourcePort":"onClick","targetId":"c32e674e-068c-7876-69d2-25d50da72601","targetPort":"show"},{"sourceId":"e2e50831-f4c1-4899-3ca1-bef5c01a3ed4","sourcePort":"out-Success","targetId":"c32e674e-068c-7876-69d2-25d50da72601","targetPort":"close"}],"ports":[],"roots":["fb16296d-2444-a205-fdf8-0fc61656a076"]},{"name":"/edit material","nodes":[{"id":"f5d92831-dc59-6652-93a6-391bdd80ce00","type":"Group","parameters":{"backgroundColor":"#00000068","styleCss":"/* background-color: red; */\r\n\r\n","zIndex":3},"ports":[],"children":[{"id":"1d841df1-60ff-350f-7002-b28051a94280","type":"Group","parameters":{"backgroundColor":"#FFFFFF","alignY":"center","alignX":"center","borderRadius":{"value":5,"unit":"px"},"maxWidth":{"value":420,"unit":"px"},"marginLeft":{"value":5,"unit":"px"},"marginRight":{"value":5,"unit":"px"},"sizeMode":"contentHeight","width":{"value":90,"unit":"%"},"cssClassName":"popup"},"ports":[],"children":[{"id":"e9ad0d80-7192-5cac-2cf9-e140eca636a3","type":"Group","parameters":{"marginLeft":{"value":10,"unit":"px"},"marginTop":{"value":10,"unit":"px"},"marginRight":{"value":10,"unit":"px"},"marginBottom":{"value":10,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"3ba95bc4-ac62-100c-f1dd-65fea6c7eed5","type":"Text","parameters":{"text":"Edit Material Name","fontSize":{"value":15,"unit":"px"},"sizeMode":"contentHeight","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","textAlignX":"center"},"ports":[],"children":[]},{"id":"2702d763-e954-1988-a1fb-963722050214","type":"net.noodl.controls.textinput","parameters":{"useLabel":false,"marginTop":{"value":5,"unit":"px"},"fontSize":{"value":14,"unit":"px"},"placeholder":"material name here.."},"ports":[],"children":[]},{"id":"2289b121-220b-e520-86ab-c0d15f733076","type":"Text","parameters":{"marginTop":{"value":0,"unit":"px"},"color":"#F64444","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]},{"id":"c8dcb49f-7c1e-1f23-23ae-6c5822a8d898","type":"Group","parameters":{"sizeMode":"contentHeight","marginTop":{"value":20,"unit":"px"},"flexDirection":"row","columnGap":{"value":15,"unit":"px"},"marginBottom":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"b24af53c-6ab8-4e3e-543a-7e853034e99b","type":"net.noodl.controls.button","parameters":{"backgroundColor":"Primary ECC","label":"Update","color":"#FFFFFF","fontSize":{"value":16,"unit":"px"},"borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"alignX":"right","height":{"value":35,"unit":"px"}},"ports":[],"children":[]},{"id":"a8a01348-abe3-41b2-b852-d1bae3fa7916","type":"net.noodl.controls.button","parameters":{"label":"Cancel","alignX":"left","backgroundColor":"#FFFFFF","height":{"value":35,"unit":"px"},"color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC"},"ports":[],"children":[]}]}]}]}]},{"id":"62304f04-4bc7-de2e-8f5f-56ddb69ba90c","type":"NavigationClosePopup","parameters":{},"ports":[],"children":[]},{"id":"acd54d3f-2b76-1086-a5ac-ce08a1099382","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Inputs.Triggered) return;\r\nconst supabase = Noodl.Variables.supabase;\r\nconst material = [{name: Inputs.name}]\r\nconst id = Inputs.Id;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n    .from('material_master')\r\n    .update(material)\r\n    .eq('id',id);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Success();\r\n    // location.reload();\r\n  }\r\n} catch (error) {\r\n  console.error(error)\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-name","displayName":"name","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-Id","displayName":"Id","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[]},{"id":"80de3aae-b6d5-3c3f-cd3c-3dec50df8c68","type":"noodl.net.validate","parameters":{"Schema":"schema({\nName:string().required('Must provide material name.')\n})\n"},"ports":[],"children":[]},{"id":"02dcd487-b69e-157f-e81c-25e5fbacd87e","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"3ef42f72-8d15-de0c-3263-94bf700d84ce","type":"Condition","parameters":{},"ports":[],"children":[]},{"id":"3b604bf0-4cc2-2113-3e26-a85bcc799a17","type":"Variable2","parameters":{"name":"edit_material"},"ports":[],"children":[]},{"id":"30d2d9df-9d8c-cea9-6d30-18a49ef53855","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Inputs.Triggered) return;\r\nconst supabase = Noodl.Variables.supabase;\r\nconst id = Inputs.Id;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n    .from('material_master')\r\n    .select()\r\n    .eq('id',id);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Name = data[0].name\r\n    Outputs.Success();\r\n  }\r\n} catch (error) {\r\n  console.error(error)\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Id","displayName":"Id","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Name","displayName":"Name","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"cee565aa-1ce3-aa32-0961-6eb86538df6d","type":"CSS Definition","parameters":{"style":".popup {\r\n  display: block;\r\n  animation: popupAnimation 0.5s ease forwards;\r\n}\r\n\r\n/* Keyframe animation */\r\n@keyframes popupAnimation {\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n}"},"ports":[],"children":[]},{"id":"e7debbc3-2263-1069-2cdb-e47472009453","type":"Event Sender","parameters":{"channelName":"get_material"},"ports":[],"children":[]},{"id":"1421a585-f485-6d0e-fb02-70342f6389e6","type":"/#component/loading","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"a8a01348-abe3-41b2-b852-d1bae3fa7916","sourcePort":"onClick","targetId":"62304f04-4bc7-de2e-8f5f-56ddb69ba90c","targetPort":"close"},{"sourceId":"2702d763-e954-1988-a1fb-963722050214","sourcePort":"onTextChanged","targetId":"acd54d3f-2b76-1086-a5ac-ce08a1099382","targetPort":"in-name"},{"sourceId":"2702d763-e954-1988-a1fb-963722050214","sourcePort":"onTextChanged","targetId":"80de3aae-b6d5-3c3f-cd3c-3dec50df8c68","targetPort":"prop-Name"},{"sourceId":"b24af53c-6ab8-4e3e-543a-7e853034e99b","sourcePort":"onClick","targetId":"02dcd487-b69e-157f-e81c-25e5fbacd87e","targetPort":"on"},{"sourceId":"02dcd487-b69e-157f-e81c-25e5fbacd87e","sourcePort":"state","targetId":"80de3aae-b6d5-3c3f-cd3c-3dec50df8c68","targetPort":"Enabled"},{"sourceId":"80de3aae-b6d5-3c3f-cd3c-3dec50df8c68","sourcePort":"err-Name","targetId":"2289b121-220b-e520-86ab-c0d15f733076","targetPort":"text"},{"sourceId":"80de3aae-b6d5-3c3f-cd3c-3dec50df8c68","sourcePort":"haserr-Name","targetId":"2289b121-220b-e520-86ab-c0d15f733076","targetPort":"mounted"},{"sourceId":"80de3aae-b6d5-3c3f-cd3c-3dec50df8c68","sourcePort":"IsValid","targetId":"3ef42f72-8d15-de0c-3263-94bf700d84ce","targetPort":"condition"},{"sourceId":"3ef42f72-8d15-de0c-3263-94bf700d84ce","sourcePort":"ontrue","targetId":"acd54d3f-2b76-1086-a5ac-ce08a1099382","targetPort":"in-Triggered"},{"sourceId":"b24af53c-6ab8-4e3e-543a-7e853034e99b","sourcePort":"onClick","targetId":"3ef42f72-8d15-de0c-3263-94bf700d84ce","targetPort":"eval"},{"sourceId":"3b604bf0-4cc2-2113-3e26-a85bcc799a17","sourcePort":"value","targetId":"acd54d3f-2b76-1086-a5ac-ce08a1099382","targetPort":"in-Id"},{"sourceId":"3b604bf0-4cc2-2113-3e26-a85bcc799a17","sourcePort":"value","targetId":"30d2d9df-9d8c-cea9-6d30-18a49ef53855","targetPort":"in-Id"},{"sourceId":"3b604bf0-4cc2-2113-3e26-a85bcc799a17","sourcePort":"fetched","targetId":"30d2d9df-9d8c-cea9-6d30-18a49ef53855","targetPort":"in-Triggered"},{"sourceId":"30d2d9df-9d8c-cea9-6d30-18a49ef53855","sourcePort":"out-Name","targetId":"2702d763-e954-1988-a1fb-963722050214","targetPort":"startValue"},{"sourceId":"acd54d3f-2b76-1086-a5ac-ce08a1099382","sourcePort":"out-Success","targetId":"e7debbc3-2263-1069-2cdb-e47472009453","targetPort":"sendEvent"},{"sourceId":"acd54d3f-2b76-1086-a5ac-ce08a1099382","sourcePort":"out-Success","targetId":"62304f04-4bc7-de2e-8f5f-56ddb69ba90c","targetPort":"close"},{"sourceId":"3ef42f72-8d15-de0c-3263-94bf700d84ce","sourcePort":"ontrue","targetId":"1421a585-f485-6d0e-fb02-70342f6389e6","targetPort":"show"},{"sourceId":"acd54d3f-2b76-1086-a5ac-ce08a1099382","sourcePort":"out-Success","targetId":"1421a585-f485-6d0e-fb02-70342f6389e6","targetPort":"close"}],"ports":[],"roots":["f5d92831-dc59-6652-93a6-391bdd80ce00"]},{"name":"/#Add/add material","nodes":[{"id":"3b790074-ed21-33fe-291d-a8652f8ea25b","type":"Group","parameters":{"backgroundColor":"#00000068","styleCss":"/* background-color: red; */\r\n\r\n","zIndex":3},"ports":[],"children":[{"id":"b5f783d8-c97c-1ab1-fea2-0f53a1dacfde","type":"Group","parameters":{"backgroundColor":"#FFFFFF","alignY":"center","alignX":"center","borderRadius":{"value":5,"unit":"px"},"maxWidth":{"value":420,"unit":"px"},"marginLeft":{"value":5,"unit":"px"},"marginRight":{"value":5,"unit":"px"},"sizeMode":"contentHeight","width":{"value":90,"unit":"%"},"cssClassName":"popup"},"ports":[],"children":[{"id":"00a91e4e-ceb1-8e82-b1a3-c3727bdb12f5","type":"Group","parameters":{"marginLeft":{"value":10,"unit":"px"},"marginTop":{"value":10,"unit":"px"},"marginRight":{"value":10,"unit":"px"},"marginBottom":{"value":10,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"26ca55ac-79c9-bb88-a28a-c0e49e71f9e8","type":"Text","parameters":{"text":"Add Material Name","fontSize":{"value":15,"unit":"px"},"sizeMode":"contentHeight","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","textAlignX":"center"},"ports":[],"children":[]},{"id":"0d559772-98c3-4cc3-4c35-dbe487825961","type":"net.noodl.controls.textinput","parameters":{"useLabel":false,"marginTop":{"value":5,"unit":"px"},"fontSize":{"value":14,"unit":"px"},"placeholder":"material name here.."},"ports":[],"children":[]},{"id":"e1f1c7eb-75fb-d58d-eefc-14bfbdb6b559","type":"Text","parameters":{"marginTop":{"value":0,"unit":"px"},"color":"#F64444","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]},{"id":"0c7071fd-5a71-bf3b-27e0-bec66fe07686","type":"Group","parameters":{"sizeMode":"contentHeight","marginTop":{"value":20,"unit":"px"},"flexDirection":"row","columnGap":{"value":15,"unit":"px"},"marginBottom":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"313f13d9-402d-cbaa-e830-0b26f774100a","type":"net.noodl.controls.button","parameters":{"backgroundColor":"Primary ECC","label":"Add","color":"#FFFFFF","fontSize":{"value":16,"unit":"px"},"borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"alignX":"right","height":{"value":35,"unit":"px"}},"ports":[],"children":[]},{"id":"56a05f1f-8843-a93f-f4d5-dae52457a7b8","type":"net.noodl.controls.button","parameters":{"label":"Cancel","alignX":"left","backgroundColor":"#FFFFFF","height":{"value":35,"unit":"px"},"color":"Primary ECC","borderStyle":"solid","borderColor":"Primary ECC"},"ports":[],"children":[]}]}]}]}]},{"id":"7da7737b-45d2-3158-afad-bd152fd12cb8","type":"NavigationClosePopup","parameters":{},"ports":[],"children":[]},{"id":"473ec632-1c3b-559f-2093-19ef4f0de9c6","type":"Model2","parameters":{"modelId":"currentUser","properties":"company"},"ports":[],"children":[]},{"id":"1f537c92-07ba-9b16-d7b0-c23668c5902a","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Inputs.Triggered) return;\r\nconst supabase = Noodl.Variables.supabase;\r\nconst material = [{name: Inputs.name,\r\n                   company: Inputs.company}]\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n    .from('material_master')\r\n    .insert(material);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Success();\r\n    // location.reload();\r\n  }\r\n} catch (error) {\r\n  console.error(error)\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-name","displayName":"name","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-company","displayName":"company","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":8}],"children":[]},{"id":"8076a857-506d-8bbe-ca26-f709fac71685","type":"noodl.net.validate","parameters":{"Schema":"schema({\nName:string().required('Must provide material name.')\n})\n"},"ports":[],"children":[]},{"id":"c2b2a095-33a6-8f38-2f48-b398e6a4a170","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"d3167b8d-56df-7e83-dc5c-5a9946ce5eb1","type":"Condition","parameters":{},"ports":[],"children":[]},{"id":"6e9ed02c-89c6-c610-c16f-6670fc4736db","type":"CSS Definition","parameters":{"style":".popup {\r\n  display: block;\r\n  animation: popupAnimation 0.5s ease forwards;\r\n}\r\n\r\n/* Keyframe animation */\r\n@keyframes popupAnimation {\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n}"},"ports":[],"children":[]},{"id":"1941a273-2b21-e55d-27a5-7d80d51d4e51","type":"Event Sender","parameters":{"channelName":"get_material"},"ports":[],"children":[]},{"id":"996feed9-3377-b5d2-ecd2-a0e77bc3bc5a","type":"/#component/loading","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"56a05f1f-8843-a93f-f4d5-dae52457a7b8","sourcePort":"onClick","targetId":"7da7737b-45d2-3158-afad-bd152fd12cb8","targetPort":"close"},{"sourceId":"473ec632-1c3b-559f-2093-19ef4f0de9c6","sourcePort":"prop-company","targetId":"1f537c92-07ba-9b16-d7b0-c23668c5902a","targetPort":"in-company"},{"sourceId":"0d559772-98c3-4cc3-4c35-dbe487825961","sourcePort":"onTextChanged","targetId":"1f537c92-07ba-9b16-d7b0-c23668c5902a","targetPort":"in-name"},{"sourceId":"0d559772-98c3-4cc3-4c35-dbe487825961","sourcePort":"onTextChanged","targetId":"8076a857-506d-8bbe-ca26-f709fac71685","targetPort":"prop-Name"},{"sourceId":"313f13d9-402d-cbaa-e830-0b26f774100a","sourcePort":"onClick","targetId":"c2b2a095-33a6-8f38-2f48-b398e6a4a170","targetPort":"on"},{"sourceId":"c2b2a095-33a6-8f38-2f48-b398e6a4a170","sourcePort":"state","targetId":"8076a857-506d-8bbe-ca26-f709fac71685","targetPort":"Enabled"},{"sourceId":"8076a857-506d-8bbe-ca26-f709fac71685","sourcePort":"err-Name","targetId":"e1f1c7eb-75fb-d58d-eefc-14bfbdb6b559","targetPort":"text"},{"sourceId":"8076a857-506d-8bbe-ca26-f709fac71685","sourcePort":"haserr-Name","targetId":"e1f1c7eb-75fb-d58d-eefc-14bfbdb6b559","targetPort":"mounted"},{"sourceId":"8076a857-506d-8bbe-ca26-f709fac71685","sourcePort":"IsValid","targetId":"d3167b8d-56df-7e83-dc5c-5a9946ce5eb1","targetPort":"condition"},{"sourceId":"d3167b8d-56df-7e83-dc5c-5a9946ce5eb1","sourcePort":"ontrue","targetId":"1f537c92-07ba-9b16-d7b0-c23668c5902a","targetPort":"in-Triggered"},{"sourceId":"313f13d9-402d-cbaa-e830-0b26f774100a","sourcePort":"onClick","targetId":"d3167b8d-56df-7e83-dc5c-5a9946ce5eb1","targetPort":"eval"},{"sourceId":"1f537c92-07ba-9b16-d7b0-c23668c5902a","sourcePort":"out-Success","targetId":"7da7737b-45d2-3158-afad-bd152fd12cb8","targetPort":"close"},{"sourceId":"1f537c92-07ba-9b16-d7b0-c23668c5902a","sourcePort":"out-Success","targetId":"1941a273-2b21-e55d-27a5-7d80d51d4e51","targetPort":"sendEvent"},{"sourceId":"d3167b8d-56df-7e83-dc5c-5a9946ce5eb1","sourcePort":"ontrue","targetId":"996feed9-3377-b5d2-ecd2-a0e77bc3bc5a","targetPort":"show"},{"sourceId":"1f537c92-07ba-9b16-d7b0-c23668c5902a","sourcePort":"out-Success","targetId":"996feed9-3377-b5d2-ecd2-a0e77bc3bc5a","targetPort":"close"}],"ports":[],"roots":["3b790074-ed21-33fe-291d-a8652f8ea25b"]}]