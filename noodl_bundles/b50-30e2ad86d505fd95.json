[{"name":"/#Add/Add Lab","nodes":[{"id":"5f921486-f6a2-ac5a-0dcb-650f5343f8c1","type":"Page","parameters":{},"ports":[],"children":[{"id":"85b29e6c-5d2c-6882-f6ab-19a74e6e1ae4","type":"Group","parameters":{"backgroundColor":"#FFFFFF","flexDirection":"row"},"ports":[],"children":[{"id":"a41d4526-cd8b-a388-bc19-b5e62626c35c","type":"/#component/Sidebar","parameters":{},"ports":[],"children":[]},{"id":"2e0552d8-f6de-f69e-b5f2-670e9e83c457","type":"Group","parameters":{"sizeMode":"explicit"},"ports":[],"children":[{"id":"ab71cd98-6601-770a-42c0-737e54225191","type":"Group","parameters":{"sizeMode":"explicit","height":{"value":60,"unit":"px"}},"ports":[],"children":[{"id":"e1a4550a-d2e2-4ed7-93d6-15982fff93c6","type":"/#component/navbar","parameters":{"pagename":"Add Lab"},"ports":[],"children":[]}]},{"id":"10084e7b-f9fc-2e76-6603-54243c65bbe0","type":"Group","parameters":{"width":{"value":100,"unit":"%"},"alignX":"center"},"ports":[],"children":[{"id":"badba805-a74d-82a0-240d-98876bd22bfb","type":"Group","parameters":{"position":"absolute","boxShadowEnabled":false,"scrollEnabled":true},"ports":[],"children":[{"id":"a7a891c6-d104-d631-9d63-112acfcf759c","type":"Group","parameters":{"position":"fixed"},"ports":[],"children":[{"id":"2d43e041-e648-bf73-5db2-e8cf237c7d71","type":"/#component/Show Toast/Error","parameters":{},"ports":[],"children":[]},{"id":"dcbc709f-5669-68b2-f07c-80d7942fa9c2","type":"/#component/Show Toast/Success","parameters":{"Message":""},"ports":[],"children":[]}]},{"id":"d9a48b5b-b6d7-e764-ac6e-803c7f2f3e91","type":"Group","parameters":{"backgroundColor":"White","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"paddingBottom":{"value":15,"unit":"px"},"flexDirection":"column","columnGap":{"value":10,"unit":"px"},"sizeMode":"contentHeight","maxWidth":{"value":750,"unit":"px"},"alignX":"center"},"ports":[],"children":[{"id":"20bacecb-326e-c52f-979b-8fb77f227523","type":"Group","parameters":{"borderStyle":"dashed","borderColor":"#f0f0f0","paddingLeft":{"value":10,"unit":"px"},"paddingTop":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"sizeMode":"contentHeight","marginTop":{"value":15,"unit":"px"}},"ports":[],"children":[{"id":"9260fb93-bc3f-40e8-b70d-494fe0fa2443","type":"Group","parameters":{},"ports":[],"children":[{"id":"b34168b4-7aff-bfc0-97e5-26aa8cbc8a36","type":"net.noodl.controls.textinput","parameters":{"label":"Lab Name  *","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Lab name here..","fontSize":{"value":12,"unit":"px"}},"ports":[],"children":[]},{"id":"7342ea51-fb84-737a-30a0-d11b027f777f","type":"Text","parameters":{"marginTop":{"value":0,"unit":"px"},"color":"#F64444","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]},{"id":"a35c18d7-6983-14f2-3d71-5799c877e3dd","type":"Group","parameters":{},"ports":[],"children":[{"id":"36046b8d-7ae0-e383-877a-45cd66c72b60","type":"net.noodl.controls.textinput","parameters":{"label":"ELAP Number  *","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"ELAP Number here..","fontSize":{"value":12,"unit":"px"},"marginTop":{"value":15,"unit":"px"}},"ports":[],"children":[]},{"id":"7fb759c0-48ea-ea61-d8ae-b5a0136c6871","type":"Text","parameters":{"marginTop":{"value":0,"unit":"px"},"color":"#F64444","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]},{"id":"1c3bc52b-ce27-a64c-6cde-b8a8e6e34618","type":"net.noodl.controls.textinput","parameters":{"label":"Contact Name","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Contact name here..","fontSize":{"value":12,"unit":"px"},"marginTop":{"value":15,"unit":"px"}},"ports":[],"children":[]},{"id":"f4ac9874-87ba-bbe9-a841-f5b8f3e34d8c","type":"net.noodl.controls.textinput","parameters":{"label":"Phone No.","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Phone no. here..","fontSize":{"value":12,"unit":"px"},"marginTop":{"value":15,"unit":"px"},"type":"text"},"ports":[],"children":[]},{"id":"73b99879-eeed-25ea-7142-883c2ece1be8","type":"net.noodl.controls.textinput","parameters":{"label":"Email","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Email here..","fontSize":{"value":12,"unit":"px"},"marginTop":{"value":15,"unit":"px"},"type":"email"},"ports":[],"children":[]}]},{"id":"48f4f55d-2081-8dbc-fbc6-3c173b9c54a9","type":"Group","parameters":{"borderStyle":"dashed","borderColor":"#f0f0f0","paddingLeft":{"value":10,"unit":"px"},"paddingTop":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"sizeMode":"contentHeight","marginTop":{"value":15,"unit":"px"}},"ports":[],"children":[{"id":"9b2abbcf-41bd-f8df-111f-fb07caf5a7c4","type":"net.noodl.controls.textinput","parameters":{"label":"Lab Address","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Street Address","fontSize":{"value":12,"unit":"px"},"startValue":""},"ports":[],"children":[]},{"id":"7f13c9ca-8a5e-d41f-9f26-6e4235591308","type":"net.noodl.controls.textinput","parameters":{"label":"City","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"City","fontSize":{"value":12,"unit":"px"},"marginTop":{"value":10,"unit":"px"},"useLabel":true},"ports":[],"children":[]},{"id":"a989e21b-77c2-a7b4-fd03-6d82f6e371a5","type":"Text","parameters":{"marginTop":{"value":15,"unit":"px"},"textStyle":"Label Small","fontSize":{"value":14,"unit":"px"},"color":"Grey - 700","text":"State"},"ports":[],"children":[]},{"id":"a787529e-9f8b-cbb8-9625-959dc3ac3ca6","type":"net.noodl.controls.options","parameters":{"useLabel":false,"marginTop":{"value":5,"unit":"px"},"items":"[\n    {\"Label\":\"New York\", \"Value\":\"New York\"},\n    {\"Label\":\"New Jersey\", \"Value\":\"New Jersey\"}\n]","height":{"value":35,"unit":"px"},"placeholder":"Please Select...","fontSize":{"value":12,"unit":"px"},"color":"Grey - 900","value":"New York"},"ports":[],"children":[]},{"id":"70ae68df-e089-2671-46cc-a7c190964e17","type":"net.noodl.controls.textinput","parameters":{"label":"Zip Code","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"zip code here..","fontSize":{"value":12,"unit":"px"},"marginTop":{"value":15,"unit":"px"},"type":"text"},"ports":[],"children":[]}]}]},{"id":"05dc2055-5dd8-9cf5-9d88-be00faf9dc16","type":"Group","parameters":{"paddingLeft":{"value":15,"unit":"px"},"paddingBottom":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"maxWidth":{"value":750,"unit":"px"},"alignX":"center","sizeMode":"contentHeight"},"ports":[],"children":[{"id":"74f2a9af-eb50-31a0-98c3-8b3378209015","type":"Group","parameters":{"borderStyle":"dashed","borderColor":"#f0f0f0","paddingLeft":{"value":10,"unit":"px"},"paddingTop":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"sizeMode":"contentHeight","flexDirection":"column","alignItems":"center","justifyContent":"center"},"ports":[],"children":[{"id":"7e826681-090f-4b04-c238-9dc59ae0cb6a","type":"Group","parameters":{"flexDirection":"row"},"ports":[],"children":[{"id":"97ebb32b-d425-43d1-59a9-15aa42bec81f","type":"Text","parameters":{"textStyle":"Label Small","fontSize":{"value":14,"unit":"px"},"color":"Grey - 700","text":"Upload Lab License","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]},{"id":"3d283cfb-62ff-9f14-03aa-a167ea41cafd","type":"Text","parameters":{"sizeMode":"contentSize","fontSize":{"value":12,"unit":"px"},"text":" : ","fontFamily":"fonts/Roboto/Roboto-Black.ttf","textStyle":"Body Medium"},"ports":[],"children":[]},{"id":"08c115cc-c44d-5976-1aa3-94de0e9a38c0","type":"Text","parameters":{"sizeMode":"contentSize","fontSize":{"value":14,"unit":"px"},"text":"no file chosen"},"ports":[],"children":[]}]},{"id":"9e92a50c-92fd-f0cd-00e3-d43c621e666d","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","alignX":"left","marginTop":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"7680e4e5-69ce-ff81-bfac-208a6e593b1d","type":"net.noodl.controls.button","parameters":{"sizeMode":"contentSize","label":"Choose File","color":"White","fontSize":{"value":12,"unit":"px"},"backgroundColor":"Primary ECC","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"marginLeft":{"value":10,"unit":"px"},"marginRight":{"value":10,"unit":"px"},"borderColor":"Black"},"ports":[],"children":[]}]}]}]},{"id":"2ca6e209-71bc-4492-c300-a88db393f41f","type":"Group","parameters":{"paddingLeft":{"value":15,"unit":"px"},"paddingBottom":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"maxWidth":{"value":750,"unit":"px"},"alignX":"center","sizeMode":"contentHeight","mounted":false},"ports":[],"children":[{"id":"ebf36c5d-96d1-30b3-9ec6-5272581d25a2","type":"Text","parameters":{"text":"Lab Login Details","fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]},{"id":"20534727-315b-9922-568f-ab39cb471a6d","type":"Group","parameters":{"marginTop":{"value":0,"unit":"px"},"flexDirection":"row","columnGap":{"value":10,"unit":"px"},"sizeMode":"contentHeight","paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"borderStyle":"dashed","borderColor":"#f0f0f0"},"ports":[],"children":[{"id":"a75db842-cafd-ab16-44aa-9e6adcb42ed1","type":"Group","parameters":{},"ports":[],"children":[{"id":"1e7c41a4-7d72-c88b-add0-b836e9810d29","type":"net.noodl.controls.textinput","parameters":{"label":"Email  *","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Email here..","fontSize":{"value":12,"unit":"px"},"type":"email","marginTop":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"a580dd0e-6d9b-6a8a-f07e-98f994a24606","type":"Text","parameters":{"marginTop":{"value":0,"unit":"px"},"color":"#F64444","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]},{"id":"81e08bd0-1407-8946-aa1f-d25cb43ccd89","type":"Group","parameters":{},"ports":[],"children":[{"id":"74323f0f-c25a-5c8d-ef45-fa795ee25d03","type":"net.noodl.controls.textinput","parameters":{"label":"Password  *","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"fontSize":{"value":12,"unit":"px"},"placeholder":"Password here..","type":"password","marginTop":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"45029ea7-76da-516c-8076-e18d115fba9a","type":"Text","parameters":{"marginTop":{"value":0,"unit":"px"},"color":"#F64444","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]}]}]},{"id":"009b2f84-5ee8-4921-1338-c68faa8883cf","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":15,"unit":"px"},"sizeMode":"contentHeight","maxWidth":{"value":750,"unit":"px"},"alignX":"center","marginBottom":{"value":10,"unit":"px"},"marginTop":{"value":5,"unit":"px"},"marginRight":{"value":0,"unit":"px"},"marginLeft":{"value":0,"unit":"px"},"paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"}},"ports":[],"children":[{"id":"ac082b47-3642-f0bc-8577-c100fbdae541","type":"net.noodl.controls.button","parameters":{"sizeMode":"contentWidth","label":"Back","height":{"value":35,"unit":"px"},"paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"borderRadius":{"value":2,"unit":"px"},"backgroundColor":"Primary ECC","alignX":"right","alignY":"center"},"ports":[],"children":[]},{"id":"9d39c1a4-8a10-fe6d-d0a2-6f745f31a67a","type":"net.noodl.controls.button","parameters":{"label":"Add Lab","height":{"value":35,"unit":"px"},"borderRadius":{"value":2,"unit":"px"},"backgroundColor":"Primary ECC","alignY":"center"},"ports":[],"children":[]}]}]}]}]}]}]},{"id":"35b8e025-0a05-f509-c132-ea814cbf81e0","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"6b715326-70e1-2ea2-3d9e-468a6b7bde3d","type":"RouterNavigate","parameters":{"router":"login","target":"/#view/Labs View"},"ports":[],"children":[]},{"id":"5759144b-f021-805a-df77-45e2f2adcb1f","type":"States","parameters":{"states":"big,small","type-button":"boolean","value-small-button":true,"currentState":"big","type-sidebar":"boolean","value-big-sidebar":true,"values":"Layout,width","type-Layout":"string","value-big-Layout":"row","value-small-Layout":"column","value-big-height":100,"value-small-height":200,"value-big-width":50,"value-small-width":100},"ports":[],"children":[]},{"id":"02515a86-8ac2-613e-6252-fef27531fe00","type":"Expression","parameters":{"expression":"width < 800"},"ports":[],"children":[]},{"id":"c4301d7e-1313-d5b6-9a85-900ea2046fb7","type":"Open File Picker","parameters":{"acceptedFileTypes":".jpg,.png,.jpeg"},"ports":[],"children":[]},{"id":"0a88e51f-40e9-105b-5b67-9017e0de8a2d","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"f370c750-4955-9d9d-592f-46d5d71c6fa1","type":"noodl.net.validate","parameters":{"Schema":"schema({\n    Lab: string().required('Must provide Lab name'),\n    ELAP: string().required('Must provide ELAP Number'),\n    // Password: string().min(6, 'must be at least 6 characters long'),\n    // Email: string().required('Must provide email')\n    //        .email('Must be a valid email'),\n})\n"},"ports":[],"children":[]},{"id":"dcef7c07-e645-783a-fad2-917883927cdf","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"00c2ff6f-448f-35fd-06b7-f0093a8d9c18","type":"Condition","parameters":{},"ports":[],"children":[]},{"id":"883e42de-1032-d8fe-5433-946b4922344a","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Sign Up","parameters":{},"ports":[],"children":[]},{"id":"ec52831a-4c54-39e2-8e1b-b88490a457c7","type":"States","parameters":{"states":"show,hide","values":"mount","type-mount":"boolean","value-show-mount":true,"currentState":"hide"},"ports":[],"children":[]},{"id":"35d28650-1180-c474-26ce-ad934ee0522c","type":"Timer","parameters":{"duration":4000},"ports":[],"children":[]},{"id":"000b45fc-061e-b4e8-7656-87563f1df0bd","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Inputs.trigger) return;\r\nconst supabase = Noodl.Variables.supabase;\r\nconst tableName = 'user_master';\r\nif (!Boolean(Noodl.Variables.supabase)) {\r\n  console.error(\"Supabase client is not configured !\")\r\n  return\r\n}\r\nlet c_id = Inputs.company\r\nconsole.log(c_id)\r\nconst newRow = {\r\n  // Add your column values here\r\n  contact_email: Inputs.contact_email,\r\n  contact_num: Inputs.contact_num,\r\n  user_role: 4,\r\n  company_id: c_id,\r\n  first_name: Inputs.first_name,\r\n  login_password: Inputs.login_password,\r\n  login_email:Inputs.login_email,\r\n  user_id: Inputs.user_id\r\n};\r\n// console.log(newRow);\r\n\r\ntry {\r\n  const { data, error } = await supabase.from(tableName).insert(newRow);\r\n  \r\n  if (error) {\r\n    throw new Error(error.message);\r\n  }\r\n  \r\n  Outputs.Success();\r\n  Outputs.Done = (\"Signup Success\");\r\n} catch (error) {\r\n  Outputs.Error = error.message;\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-trigger","displayName":"trigger","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-company","displayName":"company","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-contact_email","displayName":"contact_email","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-contact_num","displayName":"contact_num","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-first_name","displayName":"first_name","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-login_password","displayName":"login_password","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-login_email","displayName":"login_email","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-user_id","displayName":"user_id","plug":"input","type":"*","group":"Inputs","index":11},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"out-Done","displayName":"Done","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":15}],"children":[]},{"id":"f0653363-0c50-442b-0800-0a7b49be80a8","type":"Model2","parameters":{"modelId":"currentUser","properties":"company"},"ports":[],"children":[]},{"id":"7d2a8644-32b9-d782-592c-3f2e868f6995","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Inputs.trigger) return;\r\nconst supabase = Noodl.Variables.supabase;\r\nconst tableName = 'lab_master';\r\nif (!Boolean(Noodl.Variables.supabase)) {\r\n  console.error(\"Supabase client is not configured !\")\r\n  return\r\n}\r\nconst newRow = {\r\n  // Add your column values here\r\n  lab_name: Inputs.lab_name,\r\n  contact_name: Inputs.contact_name,\r\n  contact_number: Inputs.contact_number,\r\n  contact_email: Inputs.contact_email,\r\n  address_1: Inputs.address_1,\r\n  city: Inputs.city,\r\n  zip_code:Inputs.zip_code,\r\n  state: Inputs.state,\r\n  elap_number: Inputs.elap_number,\r\n  company_id: Inputs.company_id,\r\n  lab_license: Inputs.lab_license\r\n};\r\n// console.log(newRow);\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                        .from(tableName)\r\n                        .insert(newRow)\r\n                        .select();\r\n  \r\n  if (error) {\r\n    throw new Error(error.message);\r\n  }\r\n  \r\n  Outputs.Success();\r\n  console.log(data)\r\n  Outputs.Done = (\"Signup Success\");\r\n  Outputs.result = data\r\n} catch (error) {\r\n  Outputs.Error = error.message;\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-trigger","displayName":"trigger","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-lab_name","displayName":"lab_name","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-contact_name","displayName":"contact_name","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-contact_number","displayName":"contact_number","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-contact_email","displayName":"contact_email","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-address_1","displayName":"address_1","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-city","displayName":"city","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-zip_code","displayName":"zip_code","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-state","displayName":"state","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-elap_number","displayName":"elap_number","plug":"input","type":"*","group":"Inputs","index":13},{"name":"in-company_id","displayName":"company_id","plug":"input","type":"*","group":"Inputs","index":14},{"name":"in-lab_license","displayName":"lab_license","plug":"input","type":"*","group":"Inputs","index":15},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":16},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":17},{"name":"out-Done","displayName":"Done","plug":"output","type":"*","group":"Outputs","index":18},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":19},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":20}],"children":[]},{"id":"a8279749-cfa8-ffdb-f27d-a88bc6715339","type":"String Format","parameters":{"format":"New Lab '{lab}' was created"},"ports":[],"children":[]},{"id":"57f402f9-ea28-9b2c-643e-102adcec3e36","type":"States","parameters":{"states":"show,hide","currentState":"hide","values":"mount","type-mount":"boolean","value-show-mount":true},"ports":[],"children":[]},{"id":"682898e1-bca4-c42c-253f-b689e455eaba","type":"Timer","parameters":{"duration":4000},"ports":[],"children":[]},{"id":"e9e71332-04e7-3890-2026-1c3e974b69ba","type":"RouterNavigate","parameters":{"router":"login","target":"/#view/Labs View"},"ports":[],"children":[]},{"id":"d56d1e0e-e8d3-4c34-2a6f-f10f9ce1c9c6","type":"/#component/loading","parameters":{},"ports":[],"children":[]},{"id":"26cfb862-d004-21aa-275f-e58e809116d6","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Do) return;\r\nif (!Boolean(Noodl.Variables.supabase)){\r\n    console.error(\"Supabase client not initialized\")\r\n    return\r\n}\r\nconst userId = Inputs.Email\r\n\r\ntry {\r\n\r\n    let userProfileTable = Noodl.Variables.Supabase_userProfileTableName\r\n\r\n    const { data, error } = await Noodl.Variables.supabase\r\n        .from(\"user_master\")\r\n        .select()\r\n        .eq(\"login_email\",userId)\r\n    \r\n    console.log(\"[fetch currentUser Profile] data : \",data)\r\n\r\n    if (data.length>0) {\r\n        \r\n        Outputs.Msg = \"This email already registered\"\r\n        Outputs.UserFound()\r\n\r\n    } else {\r\n        Outputs.Continue()\r\n    }\r\n\r\n} catch (error) {\r\n    console.error(error)\r\n    Outputs.Failure()\r\n}\r\n"},"ports":[{"name":"in-Do","displayName":"Do","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Email","displayName":"Email","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-UserFound","displayName":"UserFound","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Continue","displayName":"Continue","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-Msg","displayName":"Msg","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]},{"id":"5cfa4c27-4ebf-bd0b-c2da-1ae76a2c1a3e","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Triggered) return;\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\n\r\ntry {\r\n  \r\n    const avatarFile = Inputs.File\r\n    // const file_name = Inputs.FileName\r\n    const { data, error } = await supabase\r\n    .storage\r\n    .from('lab_data')\r\n    .upload(`lab_${Date.now()}.jpg`, avatarFile, {\r\n        cacheControl: '3600',\r\n        upsert: false,\r\n    })\r\n\r\n  if (error) {\r\n    console.error('Error uploading file:',error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.FullPath = data.fullPath;\r\n    Outputs.Path = data.path;\r\n    Outputs.Id = data.id\r\n    console.log(data)\r\n    Outputs.Success();\r\n  }\r\n} catch (error) {\r\n    console.error('Exception during file upload:',error)\r\n  Outputs.Failure();\r\n}"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-File","displayName":"File","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-FileName","displayName":"FileName","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-FullPath","displayName":"FullPath","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-Path","displayName":"Path","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Id","displayName":"Id","plug":"output","type":"*","group":"Outputs","index":11}],"children":[]},{"id":"6e582227-ed0b-58fa-c488-d872e566438a","type":"Set Variable","parameters":{"name":"currentPage","setWith":"string","value":"lab"},"ports":[],"children":[]},{"id":"e9bcafd4-aa2b-8635-c5a5-3cdb541e84a3","type":"States","parameters":{"states":"enable,disable","currentState":"enable","values":"show","type-show":"boolean","value-enable-show":true},"ports":[],"children":[]}],"connections":[{"sourceId":"5f921486-f6a2-ac5a-0dcb-650f5343f8c1","sourcePort":"boundingWidth","targetId":"a41d4526-cd8b-a388-bc19-b5e62626c35c","targetPort":"width"},{"sourceId":"02515a86-8ac2-613e-6252-fef27531fe00","sourcePort":"isTrueEv","targetId":"5759144b-f021-805a-df77-45e2f2adcb1f","targetPort":"to-small"},{"sourceId":"02515a86-8ac2-613e-6252-fef27531fe00","sourcePort":"isFalseEv","targetId":"5759144b-f021-805a-df77-45e2f2adcb1f","targetPort":"to-big"},{"sourceId":"5f921486-f6a2-ac5a-0dcb-650f5343f8c1","sourcePort":"boundingWidth","targetId":"02515a86-8ac2-613e-6252-fef27531fe00","targetPort":"width"},{"sourceId":"5759144b-f021-805a-df77-45e2f2adcb1f","sourcePort":"Layout","targetId":"d9a48b5b-b6d7-e764-ac6e-803c7f2f3e91","targetPort":"flexDirection"},{"sourceId":"5759144b-f021-805a-df77-45e2f2adcb1f","sourcePort":"width","targetId":"20bacecb-326e-c52f-979b-8fb77f227523","targetPort":"width"},{"sourceId":"5759144b-f021-805a-df77-45e2f2adcb1f","sourcePort":"width","targetId":"48f4f55d-2081-8dbc-fbc6-3c173b9c54a9","targetPort":"width"},{"sourceId":"5f921486-f6a2-ac5a-0dcb-650f5343f8c1","sourcePort":"boundingWidth","targetId":"e1a4550a-d2e2-4ed7-93d6-15982fff93c6","targetPort":"width"},{"sourceId":"7680e4e5-69ce-ff81-bfac-208a6e593b1d","sourcePort":"onClick","targetId":"c4301d7e-1313-d5b6-9a85-900ea2046fb7","targetPort":"open"},{"sourceId":"c4301d7e-1313-d5b6-9a85-900ea2046fb7","sourcePort":"name","targetId":"08c115cc-c44d-5976-1aa3-94de0e9a38c0","targetPort":"text"},{"sourceId":"0a88e51f-40e9-105b-5b67-9017e0de8a2d","sourcePort":"state","targetId":"3d283cfb-62ff-9f14-03aa-a167ea41cafd","targetPort":"mounted"},{"sourceId":"0a88e51f-40e9-105b-5b67-9017e0de8a2d","sourcePort":"state","targetId":"08c115cc-c44d-5976-1aa3-94de0e9a38c0","targetPort":"mounted"},{"sourceId":"5759144b-f021-805a-df77-45e2f2adcb1f","sourcePort":"Layout","targetId":"20534727-315b-9922-568f-ab39cb471a6d","targetPort":"flexDirection"},{"sourceId":"b34168b4-7aff-bfc0-97e5-26aa8cbc8a36","sourcePort":"onTextChanged","targetId":"f370c750-4955-9d9d-592f-46d5d71c6fa1","targetPort":"prop-Lab"},{"sourceId":"36046b8d-7ae0-e383-877a-45cd66c72b60","sourcePort":"onTextChanged","targetId":"f370c750-4955-9d9d-592f-46d5d71c6fa1","targetPort":"prop-ELAP"},{"sourceId":"f370c750-4955-9d9d-592f-46d5d71c6fa1","sourcePort":"err-Lab","targetId":"7342ea51-fb84-737a-30a0-d11b027f777f","targetPort":"text"},{"sourceId":"f370c750-4955-9d9d-592f-46d5d71c6fa1","sourcePort":"haserr-Lab","targetId":"7342ea51-fb84-737a-30a0-d11b027f777f","targetPort":"mounted"},{"sourceId":"f370c750-4955-9d9d-592f-46d5d71c6fa1","sourcePort":"err-ELAP","targetId":"7fb759c0-48ea-ea61-d8ae-b5a0136c6871","targetPort":"text"},{"sourceId":"f370c750-4955-9d9d-592f-46d5d71c6fa1","sourcePort":"haserr-ELAP","targetId":"7fb759c0-48ea-ea61-d8ae-b5a0136c6871","targetPort":"mounted"},{"sourceId":"dcef7c07-e645-783a-fad2-917883927cdf","sourcePort":"state","targetId":"f370c750-4955-9d9d-592f-46d5d71c6fa1","targetPort":"Enabled"},{"sourceId":"9d39c1a4-8a10-fe6d-d0a2-6f745f31a67a","sourcePort":"onClick","targetId":"dcef7c07-e645-783a-fad2-917883927cdf","targetPort":"on"},{"sourceId":"f370c750-4955-9d9d-592f-46d5d71c6fa1","sourcePort":"IsValid","targetId":"00c2ff6f-448f-35fd-06b7-f0093a8d9c18","targetPort":"condition"},{"sourceId":"9d39c1a4-8a10-fe6d-d0a2-6f745f31a67a","sourcePort":"onClick","targetId":"00c2ff6f-448f-35fd-06b7-f0093a8d9c18","targetPort":"eval"},{"sourceId":"35d28650-1180-c474-26ce-ad934ee0522c","sourcePort":"timerFinished","targetId":"ec52831a-4c54-39e2-8e1b-b88490a457c7","targetPort":"to-hide"},{"sourceId":"ec52831a-4c54-39e2-8e1b-b88490a457c7","sourcePort":"reached-show","targetId":"35d28650-1180-c474-26ce-ad934ee0522c","targetPort":"start"},{"sourceId":"883e42de-1032-d8fe-5433-946b4922344a","sourcePort":"Failure","targetId":"ec52831a-4c54-39e2-8e1b-b88490a457c7","targetPort":"to-show"},{"sourceId":"883e42de-1032-d8fe-5433-946b4922344a","sourcePort":"Error","targetId":"2d43e041-e648-bf73-5db2-e8cf237c7d71","targetPort":"Message"},{"sourceId":"ec52831a-4c54-39e2-8e1b-b88490a457c7","sourcePort":"mount","targetId":"2d43e041-e648-bf73-5db2-e8cf237c7d71","targetPort":"Mounted"},{"sourceId":"1e7c41a4-7d72-c88b-add0-b836e9810d29","sourcePort":"onTextChanged","targetId":"883e42de-1032-d8fe-5433-946b4922344a","targetPort":"Email"},{"sourceId":"74323f0f-c25a-5c8d-ef45-fa795ee25d03","sourcePort":"onTextChanged","targetId":"883e42de-1032-d8fe-5433-946b4922344a","targetPort":"Password"},{"sourceId":"f0653363-0c50-442b-0800-0a7b49be80a8","sourcePort":"prop-company","targetId":"000b45fc-061e-b4e8-7656-87563f1df0bd","targetPort":"in-company"},{"sourceId":"1c3bc52b-ce27-a64c-6cde-b8a8e6e34618","sourcePort":"onTextChanged","targetId":"000b45fc-061e-b4e8-7656-87563f1df0bd","targetPort":"in-first_name"},{"sourceId":"f4ac9874-87ba-bbe9-a841-f5b8f3e34d8c","sourcePort":"onTextChanged","targetId":"000b45fc-061e-b4e8-7656-87563f1df0bd","targetPort":"in-contact_num"},{"sourceId":"73b99879-eeed-25ea-7142-883c2ece1be8","sourcePort":"onTextChanged","targetId":"000b45fc-061e-b4e8-7656-87563f1df0bd","targetPort":"in-contact_email"},{"sourceId":"883e42de-1032-d8fe-5433-946b4922344a","sourcePort":"email","targetId":"000b45fc-061e-b4e8-7656-87563f1df0bd","targetPort":"in-login_email"},{"sourceId":"883e42de-1032-d8fe-5433-946b4922344a","sourcePort":"id","targetId":"000b45fc-061e-b4e8-7656-87563f1df0bd","targetPort":"in-user_id"},{"sourceId":"74323f0f-c25a-5c8d-ef45-fa795ee25d03","sourcePort":"onTextChanged","targetId":"000b45fc-061e-b4e8-7656-87563f1df0bd","targetPort":"in-login_password"},{"sourceId":"883e42de-1032-d8fe-5433-946b4922344a","sourcePort":"Success","targetId":"000b45fc-061e-b4e8-7656-87563f1df0bd","targetPort":"in-trigger"},{"sourceId":"f0653363-0c50-442b-0800-0a7b49be80a8","sourcePort":"prop-company","targetId":"7d2a8644-32b9-d782-592c-3f2e868f6995","targetPort":"in-company_id"},{"sourceId":"b34168b4-7aff-bfc0-97e5-26aa8cbc8a36","sourcePort":"onTextChanged","targetId":"7d2a8644-32b9-d782-592c-3f2e868f6995","targetPort":"in-lab_name"},{"sourceId":"36046b8d-7ae0-e383-877a-45cd66c72b60","sourcePort":"onTextChanged","targetId":"7d2a8644-32b9-d782-592c-3f2e868f6995","targetPort":"in-elap_number"},{"sourceId":"1c3bc52b-ce27-a64c-6cde-b8a8e6e34618","sourcePort":"onTextChanged","targetId":"7d2a8644-32b9-d782-592c-3f2e868f6995","targetPort":"in-contact_name"},{"sourceId":"f4ac9874-87ba-bbe9-a841-f5b8f3e34d8c","sourcePort":"onTextChanged","targetId":"7d2a8644-32b9-d782-592c-3f2e868f6995","targetPort":"in-contact_number"},{"sourceId":"883e42de-1032-d8fe-5433-946b4922344a","sourcePort":"email","targetId":"7d2a8644-32b9-d782-592c-3f2e868f6995","targetPort":"in-contact_email"},{"sourceId":"9b2abbcf-41bd-f8df-111f-fb07caf5a7c4","sourcePort":"onTextChanged","targetId":"7d2a8644-32b9-d782-592c-3f2e868f6995","targetPort":"in-address_1"},{"sourceId":"7f13c9ca-8a5e-d41f-9f26-6e4235591308","sourcePort":"onTextChanged","targetId":"7d2a8644-32b9-d782-592c-3f2e868f6995","targetPort":"in-city"},{"sourceId":"a787529e-9f8b-cbb8-9625-959dc3ac3ca6","sourcePort":"value","targetId":"7d2a8644-32b9-d782-592c-3f2e868f6995","targetPort":"in-state"},{"sourceId":"70ae68df-e089-2671-46cc-a7c190964e17","sourcePort":"onTextChanged","targetId":"7d2a8644-32b9-d782-592c-3f2e868f6995","targetPort":"in-zip_code"},{"sourceId":"b34168b4-7aff-bfc0-97e5-26aa8cbc8a36","sourcePort":"onTextChanged","targetId":"a8279749-cfa8-ffdb-f27d-a88bc6715339","targetPort":"lab"},{"sourceId":"a8279749-cfa8-ffdb-f27d-a88bc6715339","sourcePort":"formatted","targetId":"dcbc709f-5669-68b2-f07c-80d7942fa9c2","targetPort":"Message"},{"sourceId":"57f402f9-ea28-9b2c-643e-102adcec3e36","sourcePort":"reached-show","targetId":"682898e1-bca4-c42c-253f-b689e455eaba","targetPort":"start"},{"sourceId":"682898e1-bca4-c42c-253f-b689e455eaba","sourcePort":"timerFinished","targetId":"57f402f9-ea28-9b2c-643e-102adcec3e36","targetPort":"to-hide"},{"sourceId":"57f402f9-ea28-9b2c-643e-102adcec3e36","sourcePort":"mount","targetId":"dcbc709f-5669-68b2-f07c-80d7942fa9c2","targetPort":"Mounted"},{"sourceId":"7d2a8644-32b9-d782-592c-3f2e868f6995","sourcePort":"out-Success","targetId":"57f402f9-ea28-9b2c-643e-102adcec3e36","targetPort":"to-show"},{"sourceId":"682898e1-bca4-c42c-253f-b689e455eaba","sourcePort":"timerFinished","targetId":"e9e71332-04e7-3890-2026-1c3e974b69ba","targetPort":"navigate"},{"sourceId":"ec52831a-4c54-39e2-8e1b-b88490a457c7","sourcePort":"mount","targetId":"a7a891c6-d104-d631-9d63-112acfcf759c","targetPort":"mounted"},{"sourceId":"57f402f9-ea28-9b2c-643e-102adcec3e36","sourcePort":"mount","targetId":"a7a891c6-d104-d631-9d63-112acfcf759c","targetPort":"mounted"},{"sourceId":"00c2ff6f-448f-35fd-06b7-f0093a8d9c18","sourcePort":"ontrue","targetId":"d56d1e0e-e8d3-4c34-2a6f-f10f9ce1c9c6","targetPort":"show"},{"sourceId":"883e42de-1032-d8fe-5433-946b4922344a","sourcePort":"Failure","targetId":"d56d1e0e-e8d3-4c34-2a6f-f10f9ce1c9c6","targetPort":"close"},{"sourceId":"7d2a8644-32b9-d782-592c-3f2e868f6995","sourcePort":"out-Success","targetId":"d56d1e0e-e8d3-4c34-2a6f-f10f9ce1c9c6","targetPort":"close"},{"sourceId":"7d2a8644-32b9-d782-592c-3f2e868f6995","sourcePort":"out-Failure","targetId":"d56d1e0e-e8d3-4c34-2a6f-f10f9ce1c9c6","targetPort":"close"},{"sourceId":"1e7c41a4-7d72-c88b-add0-b836e9810d29","sourcePort":"onTextChanged","targetId":"26cfb862-d004-21aa-275f-e58e809116d6","targetPort":"in-Email"},{"sourceId":"26cfb862-d004-21aa-275f-e58e809116d6","sourcePort":"out-Continue","targetId":"883e42de-1032-d8fe-5433-946b4922344a","targetPort":"Do"},{"sourceId":"26cfb862-d004-21aa-275f-e58e809116d6","sourcePort":"out-UserFound","targetId":"d56d1e0e-e8d3-4c34-2a6f-f10f9ce1c9c6","targetPort":"close"},{"sourceId":"26cfb862-d004-21aa-275f-e58e809116d6","sourcePort":"out-Msg","targetId":"a580dd0e-6d9b-6a8a-f07e-98f994a24606","targetPort":"text"},{"sourceId":"26cfb862-d004-21aa-275f-e58e809116d6","sourcePort":"out-Msg","targetId":"a580dd0e-6d9b-6a8a-f07e-98f994a24606","targetPort":"mounted"},{"sourceId":"ac082b47-3642-f0bc-8577-c100fbdae541","sourcePort":"onClick","targetId":"6b715326-70e1-2ea2-3d9e-468a6b7bde3d","targetPort":"navigate"},{"sourceId":"c4301d7e-1313-d5b6-9a85-900ea2046fb7","sourcePort":"success","targetId":"0a88e51f-40e9-105b-5b67-9017e0de8a2d","targetPort":"on"},{"sourceId":"c4301d7e-1313-d5b6-9a85-900ea2046fb7","sourcePort":"file","targetId":"5cfa4c27-4ebf-bd0b-c2da-1ae76a2c1a3e","targetPort":"in-File"},{"sourceId":"5cfa4c27-4ebf-bd0b-c2da-1ae76a2c1a3e","sourcePort":"out-Success","targetId":"7d2a8644-32b9-d782-592c-3f2e868f6995","targetPort":"in-trigger"},{"sourceId":"5cfa4c27-4ebf-bd0b-c2da-1ae76a2c1a3e","sourcePort":"out-Path","targetId":"7d2a8644-32b9-d782-592c-3f2e868f6995","targetPort":"in-lab_license"},{"sourceId":"5f921486-f6a2-ac5a-0dcb-650f5343f8c1","sourcePort":"didMount","targetId":"a41d4526-cd8b-a388-bc19-b5e62626c35c","targetPort":"lab"},{"sourceId":"5f921486-f6a2-ac5a-0dcb-650f5343f8c1","sourcePort":"didMount","targetId":"6e582227-ed0b-58fa-c488-d872e566438a","targetPort":"do"},{"sourceId":"00c2ff6f-448f-35fd-06b7-f0093a8d9c18","sourcePort":"ontrue","targetId":"5cfa4c27-4ebf-bd0b-c2da-1ae76a2c1a3e","targetPort":"in-Triggered"},{"sourceId":"e9bcafd4-aa2b-8635-c5a5-3cdb541e84a3","sourcePort":"show","targetId":"9d39c1a4-8a10-fe6d-d0a2-6f745f31a67a","targetPort":"enabled"},{"sourceId":"9d39c1a4-8a10-fe6d-d0a2-6f745f31a67a","sourcePort":"onClick","targetId":"e9bcafd4-aa2b-8635-c5a5-3cdb541e84a3","targetPort":"to-disable"},{"sourceId":"00c2ff6f-448f-35fd-06b7-f0093a8d9c18","sourcePort":"onfalse","targetId":"e9bcafd4-aa2b-8635-c5a5-3cdb541e84a3","targetPort":"to-enable"}],"ports":[],"roots":["5f921486-f6a2-ac5a-0dcb-650f5343f8c1"]}]