[{"name":"/#view/Field Staff View","nodes":[{"id":"afc77e45-ae46-4cd2-bba3-80e9f02f194f","type":"Page","parameters":{},"ports":[],"children":[{"id":"0fd24cbe-114f-9ff3-096a-d51b3c5a7632","type":"Group","parameters":{"backgroundColor":"#FFFFFF","flexDirection":"row"},"ports":[],"children":[{"id":"70d6d227-9de1-8a77-4846-af296985eb7b","type":"/#component/Sidebar","parameters":{},"ports":[],"children":[]},{"id":"638ddafb-0eff-95e6-bc47-e953e2e26621","type":"Group","parameters":{"sizeMode":"explicit"},"ports":[],"children":[{"id":"9a2b0566-a0d7-0a93-d698-e844f5279b46","type":"Group","parameters":{"sizeMode":"explicit","height":{"value":60,"unit":"px"}},"ports":[],"children":[{"id":"72e62f3f-e7c7-de4b-8f52-01777ae45b8c","type":"/#component/navbar","parameters":{"pagename":"Staff View"},"ports":[],"children":[]}]},{"id":"f743d94d-45ca-b2fb-2669-fb4ea26a2716","type":"Group","parameters":{"backgroundColor":"White","paddingLeft":{"value":15,"unit":"px"},"paddingTop":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"paddingBottom":{"value":15,"unit":"px"}},"ports":[],"children":[{"id":"239de344-39d6-f1f8-5e78-24a6475cbdcc","type":"net.noodl.controls.button","parameters":{"alignX":"right","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"label":"Add Staff","minWidth":{"value":0,"unit":"px"},"backgroundColor":"Primary ECC"},"ports":[],"children":[]},{"id":"6b1521c6-6c9e-d746-e9ba-ea1ea1d225da","type":"Group","parameters":{"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"d3e611db-254b-9de7-4a9f-7e20ea92eb71","type":"/#component/Table","parameters":{"Margin Top":{"value":20,"unit":"px"},"Sorting":""},"ports":[],"children":[]}]},{"id":"4490a4c5-ba4f-c12c-9a8c-81b9739326f4","type":"Group","parameters":{"sizeMode":"explicit"},"ports":[],"children":[{"id":"ac67271f-70ac-07c8-a019-4b8b32c04e8a","type":"Group","parameters":{"position":"absolute","scrollEnabled":true},"ports":[],"children":[{"id":"a0637052-c80f-45bd-6bf0-2888cc072be4","type":"For Each","parameters":{"template":"/#view/Field Staff View/card for staff"},"ports":[],"children":[]}]}]}]}]}]}]},{"id":"b26e516f-8202-ab6d-5387-ed01a128f2ad","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"fad1a34e-4415-3d5e-666c-21bb8d476ea5","type":"RouterNavigate","parameters":{"router":"login","target":"/#Add/Add Staff"},"ports":[],"children":[]},{"id":"03a4ea83-58b3-fd4d-e09e-d13240b5851c","type":"JavaScriptFunction","parameters":{"functionScript":"const width = Inputs.width\r\nif (width > 800){\r\n    Outputs.header = [\r\n  {\r\n    Field: 'certificate_num',\r\n    Label: 'Certification',\r\n  },\r\n  {\r\n    Field: 'first_name',\r\n    Label: 'First Name',\r\n  },\r\n  {\r\n    Field: 'last_name',\r\n    Label: 'Last Name',\r\n  },\r\n  {\r\n    Field: 'user_role',\r\n    Label: 'Role',\r\n    Type: 'role',\r\n  },\r\n  {\r\n    Field: 'id',\r\n    Label: 'Action',\r\n    Type: 'Button staff',\r\n  },\r\n  \r\n]\r\n\r\n}\r\nelse {\r\n    Outputs.header = [\r\n  {\r\n    Field: 'certificate_num',\r\n    Label: 'Certification',\r\n  },\r\n  {\r\n    Field: 'first_name',\r\n    Label: 'First Name',\r\n  },\r\n  {\r\n    Field: 'id',\r\n    Label: 'Action',\r\n    Type: 'Button staff mobile',\r\n  },\r\n  \r\n]\r\n\r\n}","scriptInputs":[{"id":"42or","label":"width"}],"intype-width":"number","scriptOutputs":[{"id":"3ii6","label":"header"}],"outtype-header":"array"},"ports":[{"name":"outtype-header","displayName":"Type","editorName":"header | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"3ii6","index":4},{"name":"out-header","displayName":"header","plug":"output","type":"array","group":"Outputs","index":5},{"name":"intype-width","displayName":"Type","editorName":"width | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"42or","index":6},{"name":"in-width","displayName":"width","plug":"input","type":"number","group":"Inputs","index":7}],"children":[]},{"id":"81e20a36-07ee-aab0-7c8c-f4187171bb6b","type":"Model2","parameters":{"modelId":"currentUser","properties":"company,role"},"ports":[],"children":[]},{"id":"b2d90e3d-c26b-4901-05d6-9290dc53c134","type":"JavaScriptFunction","parameters":{"functionScript":"\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\nconst company = Inputs.Company\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                          .from('user_master')\r\n                          .select()\r\n                          .eq(\"company_id\",company)\r\n                          .in('user_role', [3, 5, 6, 7])\r\n                          .order('first_name', {ascending: true})\r\n                          .order('last_name', {ascending: true});\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Staff = data;\r\n    Outputs.Success();\r\n  }\r\n} catch (error) {\r\n    console.error(error)\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-Company","displayName":"Company","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Staff","displayName":"Staff","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"558048d4-91e4-2c3a-e033-bc11a67f02e5","type":"JavaScriptFunction","parameters":{"functionScript":"const role =  Inputs.Role;\r\nif(role >= 6){\r\n    Outputs.Inspection();\r\n}"},"ports":[{"name":"in-Role","displayName":"Role","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Inspection","displayName":"Inspection","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[]},{"id":"0d7f835a-99d1-300e-7cea-5a1f06a6e75f","type":"/#component/loading","parameters":{},"ports":[],"children":[]},{"id":"daffb566-d5f7-ad3a-1e2c-6664f2da5c4e","type":"RouterNavigate","parameters":{"router":"login","target":"/#view/Inspection Request View"},"ports":[],"children":[]},{"id":"66568727-4090-f124-bf0a-58bfddd67444","type":"Set Variable","parameters":{"name":"currentPage","setWith":"string","value":"staff"},"ports":[],"children":[]},{"id":"2811f17e-1665-2765-6682-ecfbccb2f9c6","type":"States","parameters":{"type-show":"boolean","states":"tab,mob","values":"table,repeater","type-table":"boolean","type-repeater":"boolean","value-tab-table":true,"value-mob-repeater":true},"ports":[],"children":[]},{"id":"e2b1e313-a7dd-346e-382e-e06c3d74e5c4","type":"JavaScriptFunction","parameters":{"functionScript":"const width = Inputs.Width\r\nif(width < 429){\r\n    Outputs.Mob();\r\n}\r\nelse{\r\n    Outputs.Tab();\r\n}"},"ports":[{"name":"in-Width","displayName":"Width","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Mob","displayName":"Mob","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-Tab","displayName":"Tab","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"239de344-39d6-f1f8-5e78-24a6475cbdcc","sourcePort":"onClick","targetId":"fad1a34e-4415-3d5e-666c-21bb8d476ea5","targetPort":"navigate"},{"sourceId":"afc77e45-ae46-4cd2-bba3-80e9f02f194f","sourcePort":"boundingWidth","targetId":"70d6d227-9de1-8a77-4846-af296985eb7b","targetPort":"width"},{"sourceId":"afc77e45-ae46-4cd2-bba3-80e9f02f194f","sourcePort":"boundingWidth","targetId":"03a4ea83-58b3-fd4d-e09e-d13240b5851c","targetPort":"in-width"},{"sourceId":"03a4ea83-58b3-fd4d-e09e-d13240b5851c","sourcePort":"out-header","targetId":"d3e611db-254b-9de7-4a9f-7e20ea92eb71","targetPort":"Headers"},{"sourceId":"afc77e45-ae46-4cd2-bba3-80e9f02f194f","sourcePort":"boundingWidth","targetId":"72e62f3f-e7c7-de4b-8f52-01777ae45b8c","targetPort":"width"},{"sourceId":"81e20a36-07ee-aab0-7c8c-f4187171bb6b","sourcePort":"prop-company","targetId":"b2d90e3d-c26b-4901-05d6-9290dc53c134","targetPort":"in-Company"},{"sourceId":"b2d90e3d-c26b-4901-05d6-9290dc53c134","sourcePort":"out-Staff","targetId":"d3e611db-254b-9de7-4a9f-7e20ea92eb71","targetPort":"Items"},{"sourceId":"b2d90e3d-c26b-4901-05d6-9290dc53c134","sourcePort":"out-Success","targetId":"0d7f835a-99d1-300e-7cea-5a1f06a6e75f","targetPort":"close"},{"sourceId":"81e20a36-07ee-aab0-7c8c-f4187171bb6b","sourcePort":"prop-company","targetId":"0d7f835a-99d1-300e-7cea-5a1f06a6e75f","targetPort":"show"},{"sourceId":"81e20a36-07ee-aab0-7c8c-f4187171bb6b","sourcePort":"prop-role","targetId":"558048d4-91e4-2c3a-e033-bc11a67f02e5","targetPort":"in-Role"},{"sourceId":"558048d4-91e4-2c3a-e033-bc11a67f02e5","sourcePort":"out-Inspection","targetId":"daffb566-d5f7-ad3a-1e2c-6664f2da5c4e","targetPort":"navigate"},{"sourceId":"afc77e45-ae46-4cd2-bba3-80e9f02f194f","sourcePort":"didMount","targetId":"70d6d227-9de1-8a77-4846-af296985eb7b","targetPort":"staff"},{"sourceId":"afc77e45-ae46-4cd2-bba3-80e9f02f194f","sourcePort":"didMount","targetId":"66568727-4090-f124-bf0a-58bfddd67444","targetPort":"do"},{"sourceId":"e2b1e313-a7dd-346e-382e-e06c3d74e5c4","sourcePort":"out-Mob","targetId":"2811f17e-1665-2765-6682-ecfbccb2f9c6","targetPort":"to-mob"},{"sourceId":"e2b1e313-a7dd-346e-382e-e06c3d74e5c4","sourcePort":"out-Tab","targetId":"2811f17e-1665-2765-6682-ecfbccb2f9c6","targetPort":"to-tab"},{"sourceId":"afc77e45-ae46-4cd2-bba3-80e9f02f194f","sourcePort":"boundingWidth","targetId":"e2b1e313-a7dd-346e-382e-e06c3d74e5c4","targetPort":"in-Width"},{"sourceId":"b2d90e3d-c26b-4901-05d6-9290dc53c134","sourcePort":"out-Staff","targetId":"a0637052-c80f-45bd-6bf0-2888cc072be4","targetPort":"items"},{"sourceId":"2811f17e-1665-2765-6682-ecfbccb2f9c6","sourcePort":"table","targetId":"6b1521c6-6c9e-d746-e9ba-ea1ea1d225da","targetPort":"mounted"},{"sourceId":"2811f17e-1665-2765-6682-ecfbccb2f9c6","sourcePort":"repeater","targetId":"4490a4c5-ba4f-c12c-9a8c-81b9739326f4","targetPort":"mounted"}],"ports":[],"roots":["afc77e45-ae46-4cd2-bba3-80e9f02f194f"]},{"name":"/#view/Field Staff View/card for staff","nodes":[{"id":"ae2f5ba8-b48e-f3ce-d4df-af8379a7a3d9","type":"Group","parameters":{"sizeMode":"contentHeight","height":{"value":210,"unit":"px"},"alignContent":"flex-start","boxShadowEnabled":false,"boxShadowOffsetX":{"value":5,"unit":"px"},"boxShadowOffsetY":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"rowGap":{"value":0,"unit":"px"},"marginTop":{"value":10,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowColor":"#29712451","paddingLeft":{"value":5,"unit":"px"},"borderRadius":{"value":5,"unit":"px"},"borderStyle":"dashed","borderColor":"#B0B0B0"},"ports":[],"children":[{"id":"9a56045e-d581-c8c1-5609-0f21c8dc572f","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"c25f28b1-8ccd-a2a8-7b76-1ac396886ed0","type":"Text","parameters":{"text":"First name :","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"a108e7ef-25c3-a459-96dc-f67bf24c8316","type":"Text","parameters":{"text":"-","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentSize"},"ports":[],"children":[]}]},{"id":"e5a44eb0-defe-cda1-c89a-ac001473d862","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"6bd7b64e-7ce2-0a2f-31fd-1b0ff71aa67d","type":"Text","parameters":{"text":"Last name:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"808436ab-32e2-f136-54e2-6b19093bb90e","type":"Text","parameters":{"text":"-","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"271a33ac-ebfb-28ce-b585-7e08a7065aa3","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"e4af11cd-a988-0aa3-e7a0-feadcf227cc0","type":"Text","parameters":{"text":"Role:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"abff4da9-4a13-ce46-d526-ab71e70f2e02","type":"Text","parameters":{"text":"-","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"647cd6f2-1cf7-c386-d2f8-925d6b81afb0","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"47ae81c2-0035-26a5-f702-70a3a7534f8b","type":"Text","parameters":{"text":"Certificate No.:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"2afd6f9c-1b12-5455-94f6-7fc5ef94866c","type":"Text","parameters":{"text":"-","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"9e754f6f-733a-fe1f-493b-724d88fb186f","type":"Group","parameters":{"sizeMode":"contentHeight","alignX":"left","alignY":"top","flexDirection":"row"},"ports":[],"children":[{"id":"0d41f810-8cf2-74eb-63e6-78a41ebf4570","type":"Text","parameters":{"text":"Email:","sizeMode":"contentSize","marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"36fbff47-2986-f760-0e40-3b552e298f32","type":"Text","parameters":{"text":"-","fontFamily":"fonts/Roboto/Roboto-Bold.ttf","sizeMode":"contentHeight"},"ports":[],"children":[]}]},{"id":"c0280cb6-5ac7-5ff7-cb45-1c04d8e6a06f","type":"Group","parameters":{"flexDirection":"row","columnGap":{"value":5,"unit":"px"},"justifyContent":"flex-end","marginTop":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"29e6fe98-5255-d476-202b-824ec988e3fc","type":"net.noodl.controls.button","parameters":{"label":"Edit","paddingLeft":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"height":{"value":35,"unit":"px"},"backgroundColor":"transparent","color":"Primary ECC","borderColor":"Primary ECC","borderWidth":{"value":1,"unit":"px"},"alignY":"center","paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"sizeMode":"contentSize","useLabel":false,"minWidth":{"value":0,"unit":"px"},"useIcon":true,"iconIconSource":{"class":"material-icons","code":"mode_edit_outline","codeAsClass":false},"iconColor":"Primary ECC","iconSize":{"value":25,"unit":"px"}},"ports":[],"children":[]},{"id":"515d9279-8ec5-6559-339d-513e88f5dbf5","type":"Group","parameters":{"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"#828282","alignY":"center","width":{"value":1,"unit":"px"},"height":{"value":35,"unit":"px"}},"ports":[],"children":[]},{"id":"93d73cee-7af6-6cf7-bdc9-28b72db285d4","type":"net.noodl.controls.button","parameters":{"label":"Delete","paddingLeft":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"height":{"value":35,"unit":"px"},"color":"#FF0000","borderColor":"#FF0000","borderWidth":{"value":1,"unit":"px"},"alignY":"center","paddingTop":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"sizeMode":"contentSize","minWidth":{"value":0,"unit":"px"},"useLabel":false,"backgroundColor":"transparent","useIcon":true,"iconIconSource":{"class":"material-icons","code":"delete","codeAsClass":false},"iconColor":"red","iconSize":{"value":25,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"45819665-5e5d-f75a-30fd-31102ab697f7","type":"Model2","parameters":{"idSource":"foreach","properties":"login_email,first_name,last_name,certificate_num,user_role"},"ports":[],"children":[]},{"id":"fb77a6f4-e076-7354-7496-d57725e22354","type":"JavaScriptFunction","parameters":{"functionScript":"const inpt = Inputs.value;\r\nif(inpt == 5){\r\n    Outputs.role = 'Project Manager'\r\n}\r\nelse if (inpt == 6){\r\n    Outputs.role = 'Investigator'\r\n}\r\nelse{\r\n    Outputs.role = 'Inspector'\r\n}"},"ports":[{"name":"in-value","displayName":"value","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-role","displayName":"role","plug":"output","type":"*","group":"Outputs","index":5}],"children":[]},{"id":"b9b28b78-8b13-3f3b-6cbb-3f1d2181a308","type":"NavigationShowPopup","parameters":{"target":"/#component/Delete Staff"},"ports":[],"children":[]},{"id":"4ba06597-ee5e-72d2-0e4c-d3b668fc8a52","type":"PageStackNavigateToPath","parameters":{"path":"/edit-staff","queryNames":"id"},"ports":[],"children":[]},{"id":"d3c1b681-9877-79b7-a044-99d0852d7c0a","type":"Set Variable","parameters":{"name":"delete_user","setWith":"number"},"ports":[],"children":[]}],"connections":[{"sourceId":"45819665-5e5d-f75a-30fd-31102ab697f7","sourcePort":"prop-first_name","targetId":"a108e7ef-25c3-a459-96dc-f67bf24c8316","targetPort":"text"},{"sourceId":"45819665-5e5d-f75a-30fd-31102ab697f7","sourcePort":"prop-last_name","targetId":"808436ab-32e2-f136-54e2-6b19093bb90e","targetPort":"text"},{"sourceId":"45819665-5e5d-f75a-30fd-31102ab697f7","sourcePort":"prop-certificate_num","targetId":"2afd6f9c-1b12-5455-94f6-7fc5ef94866c","targetPort":"text"},{"sourceId":"45819665-5e5d-f75a-30fd-31102ab697f7","sourcePort":"prop-login_email","targetId":"36fbff47-2986-f760-0e40-3b552e298f32","targetPort":"text"},{"sourceId":"45819665-5e5d-f75a-30fd-31102ab697f7","sourcePort":"prop-user_role","targetId":"fb77a6f4-e076-7354-7496-d57725e22354","targetPort":"in-value"},{"sourceId":"fb77a6f4-e076-7354-7496-d57725e22354","sourcePort":"out-role","targetId":"abff4da9-4a13-ce46-d526-ab71e70f2e02","targetPort":"text"},{"sourceId":"29e6fe98-5255-d476-202b-824ec988e3fc","sourcePort":"onClick","targetId":"4ba06597-ee5e-72d2-0e4c-d3b668fc8a52","targetPort":"navigate"},{"sourceId":"93d73cee-7af6-6cf7-bdc9-28b72db285d4","sourcePort":"onClick","targetId":"d3c1b681-9877-79b7-a044-99d0852d7c0a","targetPort":"do"},{"sourceId":"d3c1b681-9877-79b7-a044-99d0852d7c0a","sourcePort":"done","targetId":"b9b28b78-8b13-3f3b-6cbb-3f1d2181a308","targetPort":"show"},{"sourceId":"45819665-5e5d-f75a-30fd-31102ab697f7","sourcePort":"id","targetId":"4ba06597-ee5e-72d2-0e4c-d3b668fc8a52","targetPort":"q-id"},{"sourceId":"45819665-5e5d-f75a-30fd-31102ab697f7","sourcePort":"id","targetId":"d3c1b681-9877-79b7-a044-99d0852d7c0a","targetPort":"value"}],"ports":[],"roots":["ae2f5ba8-b48e-f3ce-d4df-af8379a7a3d9"]},{"name":"/#component/Delete Staff","nodes":[{"id":"686d434c-fadd-b704-5e12-349882dab9e9","type":"Group","parameters":{"backgroundColor":"#00000068","styleCss":"/* background-color: red; */\r\n\r\n","zIndex":3},"ports":[],"children":[{"id":"f107f061-e12b-0795-5c1e-656f9f3d61ff","type":"Group","parameters":{"width":{"value":400,"unit":"px"},"height":{"value":300,"unit":"px"},"backgroundColor":"#FFFFFF","alignY":"center","alignX":"center","borderRadius":{"value":5,"unit":"px"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"e07ebc97-bbef-7538-c174-d7a99d156c37","type":"Group","parameters":{"marginLeft":{"value":10,"unit":"px"},"marginTop":{"value":10,"unit":"px"},"marginRight":{"value":10,"unit":"px"},"marginBottom":{"value":10,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"paddingTop":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"1ae108d8-5822-a763-d514-4e07d9ac8343","type":"Text","parameters":{"text":"Are You Sure ?","fontSize":{"value":25,"unit":"px"},"alignX":"center","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]},{"id":"388aa647-18e6-e3c4-6650-5278f4384d2a","type":"Text","parameters":{"marginTop":{"value":5,"unit":"px"},"text":"You want to Delete Staff ?","sizeMode":"contentSize","alignX":"center","fontSize":{"value":20,"unit":"px"},"color":"#767474"},"ports":[],"children":[]},{"id":"45d9c5fd-1f22-1948-8cba-7e2ad9f22813","type":"Group","parameters":{"sizeMode":"contentHeight","marginTop":{"value":20,"unit":"px"},"flexDirection":"row","columnGap":{"value":15,"unit":"px"},"marginBottom":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"67cb7060-516a-326d-337c-66881b4d0116","type":"net.noodl.controls.button","parameters":{"backgroundColor":"#FA000011","label":"Yes","color":"#F53636","fontSize":{"value":18,"unit":"px"},"borderStyle":"solid","borderColor":"#FF0000","borderWidth":{"value":1,"unit":"px"},"alignX":"right","height":{"value":35,"unit":"px"}},"ports":[],"children":[]},{"id":"18dd7408-342d-eff4-e11d-dd72af5afdc1","type":"net.noodl.controls.button","parameters":{"label":"No","alignX":"left","height":{"value":35,"unit":"px"},"backgroundColor":"Primary ECC"},"ports":[],"children":[]}]}]}]}]},{"id":"acff259e-ba4d-47b1-8453-46cc696ba40c","type":"NavigationClosePopup","parameters":{},"ports":[],"children":[]},{"id":"e36e7f12-c702-5f87-c8e9-4f5dd6b1b30e","type":"Variable2","parameters":{"name":"delete_user"},"ports":[],"children":[]},{"id":"e20c3a64-fa38-5369-c631-fbc92838cbd9","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Inputs.Triggere) return ;\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\nconst id = Inputs.Id\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                          .from('user_master')\r\n                          .delete()\r\n                          .eq('id', id);\r\n\r\n  if (error) {\r\n    console.error(error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.Staff = data;\r\n    Outputs.Success();\r\n  }\r\n} catch (error) {\r\n    console.error(error)\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-Triggere","displayName":"Triggere","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Id","displayName":"Id","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Staff","displayName":"Staff","plug":"output","type":"*","group":"Outputs","index":8}],"children":[]},{"id":"26221086-cd46-1717-2b23-3122e20d9019","type":"RouterNavigate","parameters":{"router":"login","target":"/#view/Field Staff View"},"ports":[],"children":[]}],"connections":[{"sourceId":"18dd7408-342d-eff4-e11d-dd72af5afdc1","sourcePort":"onClick","targetId":"acff259e-ba4d-47b1-8453-46cc696ba40c","targetPort":"close"},{"sourceId":"686d434c-fadd-b704-5e12-349882dab9e9","sourcePort":"didMount","targetId":"e36e7f12-c702-5f87-c8e9-4f5dd6b1b30e","targetPort":"fetch"},{"sourceId":"e36e7f12-c702-5f87-c8e9-4f5dd6b1b30e","sourcePort":"value","targetId":"e20c3a64-fa38-5369-c631-fbc92838cbd9","targetPort":"in-Id"},{"sourceId":"67cb7060-516a-326d-337c-66881b4d0116","sourcePort":"onClick","targetId":"e20c3a64-fa38-5369-c631-fbc92838cbd9","targetPort":"in-Triggere"},{"sourceId":"e20c3a64-fa38-5369-c631-fbc92838cbd9","sourcePort":"out-Success","targetId":"acff259e-ba4d-47b1-8453-46cc696ba40c","targetPort":"close"},{"sourceId":"e20c3a64-fa38-5369-c631-fbc92838cbd9","sourcePort":"out-Success","targetId":"26221086-cd46-1717-2b23-3122e20d9019","targetPort":"navigate"}],"ports":[],"roots":["686d434c-fadd-b704-5e12-349882dab9e9"]}]