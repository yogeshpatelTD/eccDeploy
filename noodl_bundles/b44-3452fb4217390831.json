[{"name":"/#Add/Add Company","nodes":[{"id":"59db1df2-72a1-e2cf-60e3-782c4289c8d0","type":"Page","parameters":{},"ports":[],"children":[{"id":"ccce7239-0ef7-d469-741d-bb9659ef2d1e","type":"Group","parameters":{"flexDirection":"row"},"ports":[],"children":[{"id":"57d35ed5-cf23-06a8-27f1-c6162cbafa42","type":"/#component/Sidebar","parameters":{},"ports":[],"children":[]},{"id":"e7fbc6e9-87d0-234f-3cea-9a537e979e4a","type":"Group","parameters":{"sizeMode":"explicit"},"ports":[],"children":[{"id":"a9da0d23-8737-7251-8dab-de61785a6451","type":"Group","parameters":{"sizeMode":"explicit","height":{"value":60,"unit":"px"}},"ports":[],"children":[{"id":"5bc38cb4-0531-ecd7-b036-baacd0aea1f1","type":"/#component/navbar","parameters":{"pagename":"Add Company"},"ports":[],"children":[]}]},{"id":"057126d8-d909-b792-3bad-42c7c7b3d567","type":"/#component/Show Toast/Success","parameters":{},"ports":[],"children":[]},{"id":"f6b9aeda-ebb1-1a60-228c-49842ee49953","type":"/#component/Show Toast/Error","parameters":{},"ports":[],"children":[]},{"id":"47168c99-1cd7-345e-641a-f787f8148527","type":"Group","parameters":{"width":{"value":100,"unit":"%"},"alignX":"center"},"ports":[],"children":[{"id":"b9eb58a1-23f2-7e1a-81c0-d643028017a6","type":"Group","parameters":{"position":"absolute","boxShadowEnabled":false,"scrollEnabled":true},"ports":[],"children":[{"id":"2b27347f-56fb-1992-6a6d-2665738078e6","type":"Group","parameters":{"backgroundColor":"White","paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"paddingBottom":{"value":15,"unit":"px"},"flexDirection":"column","columnGap":{"value":10,"unit":"px"},"sizeMode":"contentHeight","maxWidth":{"value":750,"unit":"px"},"alignX":"center"},"ports":[],"children":[{"id":"7484d656-ffbc-4d22-d387-2682e04c13dc","type":"Group","parameters":{"borderStyle":"dashed","borderColor":"#f0f0f0","paddingLeft":{"value":10,"unit":"px"},"paddingTop":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"sizeMode":"contentHeight","marginTop":{"value":15,"unit":"px"}},"ports":[],"children":[{"id":"99dcac87-7da6-557a-4a42-a8f4c3864e94","type":"net.noodl.controls.textinput","parameters":{"label":"Company Name  *","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Company name here..","fontSize":{"value":12,"unit":"px"}},"ports":[],"children":[]},{"id":"fbbaba5d-f41f-2ae1-d039-4d7a56e49d48","type":"Text","parameters":{"marginTop":{"value":0,"unit":"px"},"color":"#F64444","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]},{"id":"7ba91f34-f07b-4252-fe84-88a793637a15","type":"net.noodl.controls.textinput","parameters":{"label":"Contact Person  *","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Contact person here..","fontSize":{"value":12,"unit":"px"},"marginTop":{"value":15,"unit":"px"}},"ports":[],"children":[]},{"id":"b8f4c788-67b4-eefe-9006-0b07faf9dc9a","type":"Text","parameters":{"marginTop":{"value":0,"unit":"px"},"color":"#F64444","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]},{"id":"bf105f35-7c4a-8111-8c69-1bd928c7a362","type":"net.noodl.controls.textinput","parameters":{"label":"Contact No.  *","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Contact no. here..","fontSize":{"value":12,"unit":"px"},"marginTop":{"value":15,"unit":"px"},"type":"text"},"ports":[],"children":[]},{"id":"5f8c6623-8b39-250b-51e6-88b10d01f9ad","type":"Text","parameters":{"marginTop":{"value":0,"unit":"px"},"color":"#F64444","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]},{"id":"7dba82d9-1b98-e8e6-4945-cf58182191f0","type":"net.noodl.controls.textinput","parameters":{"label":"Contact Email  *","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Email here..","fontSize":{"value":12,"unit":"px"},"type":"email","marginTop":{"value":10,"unit":"px"}},"ports":[],"children":[]},{"id":"e32c498b-7148-a3e6-662b-82bbdca16c55","type":"Text","parameters":{"marginTop":{"value":0,"unit":"px"},"color":"#F64444","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]},{"id":"7921024f-b150-dbe6-f214-ff04a0af90e4","type":"Group","parameters":{"borderStyle":"dashed","borderColor":"#f0f0f0","paddingLeft":{"value":10,"unit":"px"},"paddingTop":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"sizeMode":"contentHeight","marginTop":{"value":15,"unit":"px"}},"ports":[],"children":[{"id":"5e591935-c3eb-59a2-a3ee-bc57fb30ed44","type":"net.noodl.controls.textinput","parameters":{"label":"Company Address","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Street Address","fontSize":{"value":12,"unit":"px"},"startValue":""},"ports":[],"children":[]},{"id":"c5cd54b7-479e-b13c-d15b-8050fdae30a6","type":"net.noodl.controls.textinput","parameters":{"label":"City","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"City","fontSize":{"value":12,"unit":"px"},"marginTop":{"value":10,"unit":"px"},"useLabel":true},"ports":[],"children":[]},{"id":"4b0ea4de-e74b-95ca-8f2c-ca7f94386a1b","type":"Text","parameters":{"marginTop":{"value":15,"unit":"px"},"textStyle":"Label Small","fontSize":{"value":14,"unit":"px"},"color":"Grey - 700","text":"State"},"ports":[],"children":[]},{"id":"72ecb0e7-6efe-82a8-1fc8-f9ae3502bfaa","type":"net.noodl.controls.options","parameters":{"useLabel":false,"marginTop":{"value":5,"unit":"px"},"items":"[\n    {\"Label\":\"New York\", \"Value\":\"New York\"},\n    {\"Label\":\"New Jersey\", \"Value\":\"New Jersey\"}\n]","height":{"value":35,"unit":"px"},"placeholder":"Please Select...","fontSize":{"value":12,"unit":"px"},"color":"Grey - 900","value":"New York"},"ports":[],"children":[]},{"id":"d570f64e-f073-5ee9-b610-852899691ad6","type":"net.noodl.controls.textinput","parameters":{"label":"Zip Code","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"zip code here..","fontSize":{"value":12,"unit":"px"},"marginTop":{"value":15,"unit":"px"},"type":"text"},"ports":[],"children":[]}]}]},{"id":"b6ede053-8474-f66a-0bec-b87818643041","type":"Group","parameters":{"paddingLeft":{"value":15,"unit":"px"},"paddingBottom":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"maxWidth":{"value":750,"unit":"px"},"alignX":"center","sizeMode":"contentHeight","rowGap":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"06d951d2-2ee7-b3ee-9f5d-4bb17cafb17e","type":"Text","parameters":{"fontFamily":"fonts/Roboto/Roboto-Medium.ttf","text":"Company Admin Login Details"},"ports":[],"children":[]},{"id":"424eb170-06cd-2c91-8aab-09ae1f6d8ce0","type":"Group","parameters":{"borderStyle":"dashed","borderColor":"#f0f0f0","paddingLeft":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"sizeMode":"contentHeight","alignItems":"center","justifyContent":"center","flexDirection":"row","columnGap":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"9b7c3de5-642a-fafa-608d-a1bdb2bb36b2","type":"Group","parameters":{"columnGap":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"8fb96b39-2136-88ab-3645-c91fe2721895","type":"net.noodl.controls.textinput","parameters":{"label":"Email  *","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Email here..","fontSize":{"value":12,"unit":"px"},"type":"email","marginTop":{"value":10,"unit":"px"}},"ports":[],"children":[]},{"id":"aa8693f7-dd13-f2da-db59-5044a074be1b","type":"Text","parameters":{"marginTop":{"value":0,"unit":"px"},"color":"#F64444","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]},{"id":"f2782e35-522a-83f4-be30-537a5f62e042","type":"Group","parameters":{"columnGap":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"76b89151-22b5-c18b-01aa-5a76bb9ed3d5","type":"net.noodl.controls.textinput","parameters":{"label":"Password  *","height":{"value":35,"unit":"px"},"sizeMode":"explicit","labelfontSize":{"value":14,"unit":"px"},"placeholder":"Password here..","fontSize":{"value":12,"unit":"px"},"type":"text","marginTop":{"value":10,"unit":"px"}},"ports":[],"children":[]},{"id":"09555d32-e521-da14-4c66-0e3f8fd12218","type":"Text","parameters":{"marginTop":{"value":0,"unit":"px"},"color":"#F64444","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]}]},{"id":"5abd981e-68ea-17a3-dba3-88c242d83daa","type":"Group","parameters":{"paddingLeft":{"value":15,"unit":"px"},"paddingBottom":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"maxWidth":{"value":750,"unit":"px"},"alignX":"center","sizeMode":"contentHeight"},"ports":[],"children":[{"id":"601c0b38-d54d-6097-f37d-877f5c96a58b","type":"Group","parameters":{"borderStyle":"dashed","borderColor":"#f0f0f0","paddingLeft":{"value":10,"unit":"px"},"paddingTop":{"value":10,"unit":"px"},"paddingRight":{"value":10,"unit":"px"},"paddingBottom":{"value":10,"unit":"px"},"sizeMode":"contentHeight","flexDirection":"column","alignItems":"center","justifyContent":"center"},"ports":[],"children":[{"id":"a3c999cc-b34f-4702-ec64-d0abfeb8b598","type":"Group","parameters":{"flexDirection":"row"},"ports":[],"children":[{"id":"76e5c7c5-9947-17fe-310b-72c27920e4bf","type":"Text","parameters":{"textStyle":"Label Small","fontSize":{"value":14,"unit":"px"},"color":"Grey - 700","text":"Upload License","sizeMode":"contentSize","fontFamily":"fonts/Roboto/Roboto-Medium.ttf"},"ports":[],"children":[]},{"id":"6b3fcd98-bc78-5e4e-9055-ff07332fec52","type":"Text","parameters":{"sizeMode":"contentSize","fontSize":{"value":12,"unit":"px"},"text":" : ","fontFamily":"fonts/Roboto/Roboto-Black.ttf","textStyle":"Body Medium"},"ports":[],"children":[]},{"id":"8bfd1e1c-9f67-7c9b-7c39-0f93b635313c","type":"Text","parameters":{"sizeMode":"contentSize","fontSize":{"value":14,"unit":"px"},"text":"no file chosen"},"ports":[],"children":[]}]},{"id":"c030f7ea-84f9-c823-7bb3-73c06782d260","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","alignX":"left","marginTop":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"5e7142bd-a967-04c6-0a1b-a809d34c3ae0","type":"net.noodl.controls.button","parameters":{"sizeMode":"contentSize","label":"Choose File","color":"White","fontSize":{"value":12,"unit":"px"},"backgroundColor":"Primary ECC","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"marginLeft":{"value":10,"unit":"px"},"marginRight":{"value":10,"unit":"px"},"borderColor":"Black"},"ports":[],"children":[]}]}]}]}]}]},{"id":"d6f2343c-6929-5d86-3943-aadbce397d19","type":"net.noodl.controls.button","parameters":{"alignX":"center","marginTop":{"value":5,"unit":"px"},"label":"Save Company Info","height":{"value":40,"unit":"px"},"borderRadius":{"value":2,"unit":"px"},"marginBottom":{"value":10,"unit":"px"},"backgroundColor":"Primary ECC"},"ports":[],"children":[]}]}]}]}]}]},{"id":"50203fd7-410e-7ef6-f1b6-6a0e64b7f770","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"e8e71983-4872-4fb4-795d-42bc59961ff0","type":"States","parameters":{"states":"big,small","type-button":"boolean","value-small-button":true,"currentState":"big","type-sidebar":"boolean","value-big-sidebar":true,"values":"Layout,width","type-Layout":"string","value-big-Layout":"row","value-small-Layout":"column","value-big-height":100,"value-small-height":200,"value-big-width":50,"value-small-width":100},"ports":[],"children":[]},{"id":"eb1896eb-5bfc-c8f6-fc85-8112013a3cb7","type":"Expression","parameters":{"expression":"width < 800"},"ports":[],"children":[]},{"id":"11f492b6-6502-9ed0-0df9-00b006855a83","type":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Sign Up","parameters":{},"ports":[],"children":[]},{"id":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Inputs.trigger) return;\r\nconst supabase = Noodl.Variables.supabase;\r\nconst tableName = 'company_master';\r\nif (!Boolean(Noodl.Variables.supabase)) {\r\n  console.error(\"Supabase client is not configured !\")\r\n  return\r\n}\r\nconst newRow = {\r\n  // Add your column values here\r\n  company_name: Inputs.company_name,\r\n  contact_person: Inputs.contact_person,\r\n  contact_number: Inputs.contact_number,\r\n  contact_email: Inputs.contact_email,\r\n  office_address: Inputs.office_address,\r\n  city: Inputs.city,\r\n  zip_code:Inputs.zip_code,\r\n  state: Inputs.state,\r\n  company_license: Inputs.company_license\r\n};\r\n// console.log(newRow);\r\n\r\ntry {\r\n  const { data, error } = await supabase\r\n                        .from(tableName)\r\n                        .insert(newRow)\r\n                        .select();\r\n  \r\n  if (error) {\r\n    throw new Error(error.message);\r\n  }\r\n  \r\n  Outputs.Success();\r\n  console.log(data)\r\n  Outputs.Done = (\"Signup Success\");\r\n  Outputs.result = data\r\n} catch (error) {\r\n  Outputs.Error = error.message;\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-trigger","displayName":"trigger","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-company_name","displayName":"company_name","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-contact_person","displayName":"contact_person","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-contact_number","displayName":"contact_number","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-contact_email","displayName":"contact_email","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-office_address","displayName":"office_address","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-city","displayName":"city","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-zip_code","displayName":"zip_code","plug":"input","type":"*","group":"Inputs","index":11},{"name":"in-state","displayName":"state","plug":"input","type":"*","group":"Inputs","index":12},{"name":"in-company_license","displayName":"company_license","plug":"input","type":"*","group":"Inputs","index":13},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":14},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":15},{"name":"out-Done","displayName":"Done","plug":"output","type":"*","group":"Outputs","index":16},{"name":"out-result","displayName":"result","plug":"output","type":"*","group":"Outputs","index":17},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":18}],"children":[]},{"id":"24e4729f-67c2-edac-babd-a9cd789203a0","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Inputs.trigger) return;\r\nconst supabase = Noodl.Variables.supabase;\r\nconst tableName = 'user_master';\r\nif (!Boolean(Noodl.Variables.supabase)) {\r\n  console.error(\"Supabase client is not configured !\")\r\n  return\r\n}\r\nlet c_id = Inputs.data[0].id\r\nconsole.log(c_id)\r\nconst newRow = {\r\n  // Add your column values here\r\n  contact_email: Inputs.contact_email,\r\n  contact_num: Inputs.contact_num,\r\n  user_role: 2,\r\n  company_id: c_id,\r\n  first_name: Inputs.first_name,\r\n  login_password: Inputs.login_password,\r\n  login_email:Inputs.login_email,\r\n  user_id: Inputs.user_id\r\n};\r\n// console.log(newRow);\r\n\r\ntry {\r\n  const { data, error } = await supabase.from(tableName).insert(newRow);\r\n  \r\n  if (error) {\r\n    throw new Error(error.message);\r\n  }\r\n  \r\n  Outputs.Success();\r\n  Outputs.Done = (\"Signup Success\");\r\n} catch (error) {\r\n  Outputs.Error = error.message;\r\n  Outputs.Failure();\r\n}\r\n"},"ports":[{"name":"in-trigger","displayName":"trigger","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-data","displayName":"data","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-contact_email","displayName":"contact_email","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-contact_num","displayName":"contact_num","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-first_name","displayName":"first_name","plug":"input","type":"*","group":"Inputs","index":8},{"name":"in-login_password","displayName":"login_password","plug":"input","type":"*","group":"Inputs","index":9},{"name":"in-login_email","displayName":"login_email","plug":"input","type":"*","group":"Inputs","index":10},{"name":"in-user_id","displayName":"user_id","plug":"input","type":"*","group":"Inputs","index":11},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":12},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":13},{"name":"out-Done","displayName":"Done","plug":"output","type":"*","group":"Outputs","index":14},{"name":"out-Error","displayName":"Error","plug":"output","type":"*","group":"Outputs","index":15}],"children":[]},{"id":"0c49106d-ad4d-d571-8986-0b40d48166b1","type":"String Format","parameters":{"format":"New Company \"{company}\" and User \"{user}\" Created"},"ports":[],"children":[]},{"id":"2222e1d9-19aa-8d67-7c9a-bb395bdf27cf","type":"States","parameters":{"states":"show,hide","values":"mount","type-mount":"boolean","value-show-mount":true,"currentState":"hide"},"ports":[],"children":[]},{"id":"d2e1df61-cc0b-0cd2-6a3c-a033f3bb1199","type":"Timer","parameters":{"duration":4000},"ports":[],"children":[]},{"id":"328e977a-9329-b2c5-9898-697bc09e89b3","type":"noodl.net.validate","parameters":{"Schema":"schema({\n    Company: string().required('Must provide Company name'),\n    Person: string().required('Must provide Contact person'),\n    Number: string().required('Must provide Contact number'),\n    ContactEmail: string().required('Must provide Contact email')\n           .email('Must be a valid email'),\n    Password: string().required('Must provide password'),\n    Email: string().required('Must provide email')\n           .email('Must be a valid email'),\n})\n"},"ports":[],"children":[]},{"id":"96b905f7-d98b-8d7a-111c-5c4c49ecaadc","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"1c106ad0-dbe2-cf30-504a-f87c80bae554","type":"Condition","parameters":{},"ports":[],"children":[]},{"id":"6c061a7e-273d-478a-80b8-8acd7d96b69d","type":"States","parameters":{"states":"show,hide","values":"mount","type-mount":"boolean","value-show-mount":true,"currentState":"hide"},"ports":[],"children":[]},{"id":"1a2ae41c-deca-ecb0-e209-15af664ab182","type":"Timer","parameters":{"duration":4000},"ports":[],"children":[]},{"id":"80aab973-0a8c-d4a4-3129-ebdee0279930","type":"RouterNavigate","parameters":{"router":"login","target":"/#view/Companies"},"ports":[],"children":[]},{"id":"5c2fa47b-0cc7-40bc-9aac-f40a25d0fd1f","type":"JavaScriptFunction","parameters":{"functionScript":"const role = Inputs.Role\r\nif (role != 1){\r\n    Outputs.Navigate();\r\n}"},"ports":[{"name":"in-Role","displayName":"Role","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Navigate","displayName":"Navigate","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[]},{"id":"355598c1-a2c9-faea-9fe6-c77f147d798e","type":"Model2","parameters":{"modelId":"currentUser","properties":"role"},"ports":[],"children":[]},{"id":"a92e95bb-73bb-0895-05ec-d6f1c74b128b","type":"RouterNavigate","parameters":{"router":"login","target":"/#view/Field Staff View"},"ports":[],"children":[]},{"id":"136e9abb-f6d4-acf3-2699-50040bc9eab1","type":"Open File Picker","parameters":{"acceptedFileTypes":".pdf"},"ports":[],"children":[]},{"id":"9e96bcb2-09aa-8607-1439-00ede32407ea","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"b6e3e48a-4a7a-822b-80ab-7b9bbf06dff2","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.Triggered) return;\r\nconst supabase = Noodl.Variables.supabase;\r\n\r\nif (!supabase) throw new Error('Supabase client not found');\r\n\r\ntry {\r\n  \r\n    const avatarFile = Inputs.File\r\n    // const file_name = Inputs.FileName\r\n    const { data, error } = await supabase\r\n    .storage\r\n    .from('lab_data')\r\n    .upload(`cmp_${Date.now()}.pdf`, avatarFile, {\r\n        cacheControl: '3600',\r\n        upsert: false,\r\n    })\r\n\r\n  if (error) {\r\n    console.error('Error uploading file:',error)\r\n    Outputs.Failure();\r\n  } else {\r\n    Outputs.FullPath = data.fullPath;\r\n    Outputs.Path = data.path;\r\n    Outputs.Id = data.id\r\n    console.log(data)\r\n    Outputs.Success();\r\n  }\r\n} catch (error) {\r\n    console.error('Exception during file upload:',error)\r\n  Outputs.Failure();\r\n}"},"ports":[{"name":"in-Triggered","displayName":"Triggered","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-File","displayName":"File","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-FileName","displayName":"FileName","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":8},{"name":"out-FullPath","displayName":"FullPath","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-Path","displayName":"Path","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Id","displayName":"Id","plug":"output","type":"*","group":"Outputs","index":11}],"children":[]},{"id":"10584136-b82d-9a22-9f8d-b08ac86cc95c","type":"Condition","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"eb1896eb-5bfc-c8f6-fc85-8112013a3cb7","sourcePort":"isTrueEv","targetId":"e8e71983-4872-4fb4-795d-42bc59961ff0","targetPort":"to-small"},{"sourceId":"eb1896eb-5bfc-c8f6-fc85-8112013a3cb7","sourcePort":"isFalseEv","targetId":"e8e71983-4872-4fb4-795d-42bc59961ff0","targetPort":"to-big"},{"sourceId":"e8e71983-4872-4fb4-795d-42bc59961ff0","sourcePort":"Layout","targetId":"2b27347f-56fb-1992-6a6d-2665738078e6","targetPort":"flexDirection"},{"sourceId":"e8e71983-4872-4fb4-795d-42bc59961ff0","sourcePort":"width","targetId":"7484d656-ffbc-4d22-d387-2682e04c13dc","targetPort":"width"},{"sourceId":"e8e71983-4872-4fb4-795d-42bc59961ff0","sourcePort":"width","targetId":"7921024f-b150-dbe6-f214-ff04a0af90e4","targetPort":"width"},{"sourceId":"59db1df2-72a1-e2cf-60e3-782c4289c8d0","sourcePort":"boundingWidth","targetId":"eb1896eb-5bfc-c8f6-fc85-8112013a3cb7","targetPort":"width"},{"sourceId":"59db1df2-72a1-e2cf-60e3-782c4289c8d0","sourcePort":"boundingWidth","targetId":"57d35ed5-cf23-06a8-27f1-c6162cbafa42","targetPort":"width"},{"sourceId":"59db1df2-72a1-e2cf-60e3-782c4289c8d0","sourcePort":"boundingWidth","targetId":"5bc38cb4-0531-ecd7-b036-baacd0aea1f1","targetPort":"width"},{"sourceId":"8fb96b39-2136-88ab-3645-c91fe2721895","sourcePort":"onTextChanged","targetId":"11f492b6-6502-9ed0-0df9-00b006855a83","targetPort":"Email"},{"sourceId":"76b89151-22b5-c18b-01aa-5a76bb9ed3d5","sourcePort":"onTextChanged","targetId":"11f492b6-6502-9ed0-0df9-00b006855a83","targetPort":"Password"},{"sourceId":"11f492b6-6502-9ed0-0df9-00b006855a83","sourcePort":"Success","targetId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","targetPort":"in-trigger"},{"sourceId":"99dcac87-7da6-557a-4a42-a8f4c3864e94","sourcePort":"onTextChanged","targetId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","targetPort":"in-company_name"},{"sourceId":"7ba91f34-f07b-4252-fe84-88a793637a15","sourcePort":"onTextChanged","targetId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","targetPort":"in-contact_person"},{"sourceId":"bf105f35-7c4a-8111-8c69-1bd928c7a362","sourcePort":"onTextChanged","targetId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","targetPort":"in-contact_number"},{"sourceId":"8fb96b39-2136-88ab-3645-c91fe2721895","sourcePort":"onTextChanged","targetId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","targetPort":"in-contact_email"},{"sourceId":"5e591935-c3eb-59a2-a3ee-bc57fb30ed44","sourcePort":"onTextChanged","targetId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","targetPort":"in-office_address"},{"sourceId":"c5cd54b7-479e-b13c-d15b-8050fdae30a6","sourcePort":"onTextChanged","targetId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","targetPort":"in-city"},{"sourceId":"72ecb0e7-6efe-82a8-1fc8-f9ae3502bfaa","sourcePort":"value","targetId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","targetPort":"in-state"},{"sourceId":"d570f64e-f073-5ee9-b610-852899691ad6","sourcePort":"onTextChanged","targetId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","targetPort":"in-zip_code"},{"sourceId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","sourcePort":"out-result","targetId":"24e4729f-67c2-edac-babd-a9cd789203a0","targetPort":"in-data"},{"sourceId":"11f492b6-6502-9ed0-0df9-00b006855a83","sourcePort":"id","targetId":"24e4729f-67c2-edac-babd-a9cd789203a0","targetPort":"in-user_id"},{"sourceId":"11f492b6-6502-9ed0-0df9-00b006855a83","sourcePort":"email","targetId":"24e4729f-67c2-edac-babd-a9cd789203a0","targetPort":"in-login_email"},{"sourceId":"76b89151-22b5-c18b-01aa-5a76bb9ed3d5","sourcePort":"onTextChanged","targetId":"24e4729f-67c2-edac-babd-a9cd789203a0","targetPort":"in-login_password"},{"sourceId":"bf105f35-7c4a-8111-8c69-1bd928c7a362","sourcePort":"onTextChanged","targetId":"24e4729f-67c2-edac-babd-a9cd789203a0","targetPort":"in-contact_num"},{"sourceId":"7ba91f34-f07b-4252-fe84-88a793637a15","sourcePort":"onTextChanged","targetId":"24e4729f-67c2-edac-babd-a9cd789203a0","targetPort":"in-first_name"},{"sourceId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","sourcePort":"out-Success","targetId":"24e4729f-67c2-edac-babd-a9cd789203a0","targetPort":"in-trigger"},{"sourceId":"0c49106d-ad4d-d571-8986-0b40d48166b1","sourcePort":"formatted","targetId":"057126d8-d909-b792-3bad-42c7c7b3d567","targetPort":"Message"},{"sourceId":"99dcac87-7da6-557a-4a42-a8f4c3864e94","sourcePort":"onTextChanged","targetId":"0c49106d-ad4d-d571-8986-0b40d48166b1","targetPort":"company"},{"sourceId":"7ba91f34-f07b-4252-fe84-88a793637a15","sourcePort":"onTextChanged","targetId":"0c49106d-ad4d-d571-8986-0b40d48166b1","targetPort":"user"},{"sourceId":"2222e1d9-19aa-8d67-7c9a-bb395bdf27cf","sourcePort":"mount","targetId":"057126d8-d909-b792-3bad-42c7c7b3d567","targetPort":"Mounted"},{"sourceId":"24e4729f-67c2-edac-babd-a9cd789203a0","sourcePort":"out-Success","targetId":"2222e1d9-19aa-8d67-7c9a-bb395bdf27cf","targetPort":"to-show"},{"sourceId":"d2e1df61-cc0b-0cd2-6a3c-a033f3bb1199","sourcePort":"timerFinished","targetId":"2222e1d9-19aa-8d67-7c9a-bb395bdf27cf","targetPort":"to-hide"},{"sourceId":"2222e1d9-19aa-8d67-7c9a-bb395bdf27cf","sourcePort":"reached-show","targetId":"d2e1df61-cc0b-0cd2-6a3c-a033f3bb1199","targetPort":"start"},{"sourceId":"7dba82d9-1b98-e8e6-4945-cf58182191f0","sourcePort":"onTextChanged","targetId":"24e4729f-67c2-edac-babd-a9cd789203a0","targetPort":"in-contact_email"},{"sourceId":"96b905f7-d98b-8d7a-111c-5c4c49ecaadc","sourcePort":"state","targetId":"328e977a-9329-b2c5-9898-697bc09e89b3","targetPort":"Enabled"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"IsValid","targetId":"1c106ad0-dbe2-cf30-504a-f87c80bae554","targetPort":"condition"},{"sourceId":"d6f2343c-6929-5d86-3943-aadbce397d19","sourcePort":"onClick","targetId":"96b905f7-d98b-8d7a-111c-5c4c49ecaadc","targetPort":"on"},{"sourceId":"d6f2343c-6929-5d86-3943-aadbce397d19","sourcePort":"onClick","targetId":"1c106ad0-dbe2-cf30-504a-f87c80bae554","targetPort":"eval"},{"sourceId":"1c106ad0-dbe2-cf30-504a-f87c80bae554","sourcePort":"ontrue","targetId":"11f492b6-6502-9ed0-0df9-00b006855a83","targetPort":"Do"},{"sourceId":"e8e71983-4872-4fb4-795d-42bc59961ff0","sourcePort":"Layout","targetId":"424eb170-06cd-2c91-8aab-09ae1f6d8ce0","targetPort":"flexDirection"},{"sourceId":"99dcac87-7da6-557a-4a42-a8f4c3864e94","sourcePort":"onTextChanged","targetId":"328e977a-9329-b2c5-9898-697bc09e89b3","targetPort":"prop-Company"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"err-Company","targetId":"fbbaba5d-f41f-2ae1-d039-4d7a56e49d48","targetPort":"text"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"haserr-Company","targetId":"fbbaba5d-f41f-2ae1-d039-4d7a56e49d48","targetPort":"mounted"},{"sourceId":"7ba91f34-f07b-4252-fe84-88a793637a15","sourcePort":"onTextChanged","targetId":"328e977a-9329-b2c5-9898-697bc09e89b3","targetPort":"prop-Person"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"err-Person","targetId":"b8f4c788-67b4-eefe-9006-0b07faf9dc9a","targetPort":"text"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"haserr-Person","targetId":"b8f4c788-67b4-eefe-9006-0b07faf9dc9a","targetPort":"mounted"},{"sourceId":"bf105f35-7c4a-8111-8c69-1bd928c7a362","sourcePort":"onTextChanged","targetId":"328e977a-9329-b2c5-9898-697bc09e89b3","targetPort":"prop-Number"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"err-Number","targetId":"5f8c6623-8b39-250b-51e6-88b10d01f9ad","targetPort":"text"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"haserr-Number","targetId":"5f8c6623-8b39-250b-51e6-88b10d01f9ad","targetPort":"mounted"},{"sourceId":"7dba82d9-1b98-e8e6-4945-cf58182191f0","sourcePort":"onTextChanged","targetId":"328e977a-9329-b2c5-9898-697bc09e89b3","targetPort":"prop-ContactEmail"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"err-ContactEmail","targetId":"e32c498b-7148-a3e6-662b-82bbdca16c55","targetPort":"text"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"haserr-ContactEmail","targetId":"e32c498b-7148-a3e6-662b-82bbdca16c55","targetPort":"mounted"},{"sourceId":"8fb96b39-2136-88ab-3645-c91fe2721895","sourcePort":"onTextChanged","targetId":"328e977a-9329-b2c5-9898-697bc09e89b3","targetPort":"prop-Email"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"err-Email","targetId":"aa8693f7-dd13-f2da-db59-5044a074be1b","targetPort":"text"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"haserr-Email","targetId":"aa8693f7-dd13-f2da-db59-5044a074be1b","targetPort":"mounted"},{"sourceId":"76b89151-22b5-c18b-01aa-5a76bb9ed3d5","sourcePort":"onTextChanged","targetId":"328e977a-9329-b2c5-9898-697bc09e89b3","targetPort":"prop-Password"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"err-Password","targetId":"09555d32-e521-da14-4c66-0e3f8fd12218","targetPort":"text"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"haserr-Password","targetId":"09555d32-e521-da14-4c66-0e3f8fd12218","targetPort":"mounted"},{"sourceId":"11f492b6-6502-9ed0-0df9-00b006855a83","sourcePort":"Error","targetId":"f6b9aeda-ebb1-1a60-228c-49842ee49953","targetPort":"Message"},{"sourceId":"1a2ae41c-deca-ecb0-e209-15af664ab182","sourcePort":"timerFinished","targetId":"6c061a7e-273d-478a-80b8-8acd7d96b69d","targetPort":"to-hide"},{"sourceId":"6c061a7e-273d-478a-80b8-8acd7d96b69d","sourcePort":"reached-show","targetId":"1a2ae41c-deca-ecb0-e209-15af664ab182","targetPort":"start"},{"sourceId":"6c061a7e-273d-478a-80b8-8acd7d96b69d","sourcePort":"mount","targetId":"f6b9aeda-ebb1-1a60-228c-49842ee49953","targetPort":"Mounted"},{"sourceId":"11f492b6-6502-9ed0-0df9-00b006855a83","sourcePort":"Failure","targetId":"6c061a7e-273d-478a-80b8-8acd7d96b69d","targetPort":"to-show"},{"sourceId":"d2e1df61-cc0b-0cd2-6a3c-a033f3bb1199","sourcePort":"timerFinished","targetId":"80aab973-0a8c-d4a4-3129-ebdee0279930","targetPort":"navigate"},{"sourceId":"355598c1-a2c9-faea-9fe6-c77f147d798e","sourcePort":"prop-role","targetId":"5c2fa47b-0cc7-40bc-9aac-f40a25d0fd1f","targetPort":"in-Role"},{"sourceId":"5c2fa47b-0cc7-40bc-9aac-f40a25d0fd1f","sourcePort":"out-Navigate","targetId":"a92e95bb-73bb-0895-05ec-d6f1c74b128b","targetPort":"navigate"},{"sourceId":"136e9abb-f6d4-acf3-2699-50040bc9eab1","sourcePort":"success","targetId":"9e96bcb2-09aa-8607-1439-00ede32407ea","targetPort":"on"},{"sourceId":"136e9abb-f6d4-acf3-2699-50040bc9eab1","sourcePort":"file","targetId":"b6e3e48a-4a7a-822b-80ab-7b9bbf06dff2","targetPort":"in-File"},{"sourceId":"5e7142bd-a967-04c6-0a1b-a809d34c3ae0","sourcePort":"onClick","targetId":"136e9abb-f6d4-acf3-2699-50040bc9eab1","targetPort":"open"},{"sourceId":"9e96bcb2-09aa-8607-1439-00ede32407ea","sourcePort":"state","targetId":"8bfd1e1c-9f67-7c9b-7c39-0f93b635313c","targetPort":"mounted"},{"sourceId":"136e9abb-f6d4-acf3-2699-50040bc9eab1","sourcePort":"name","targetId":"8bfd1e1c-9f67-7c9b-7c39-0f93b635313c","targetPort":"text"},{"sourceId":"9e96bcb2-09aa-8607-1439-00ede32407ea","sourcePort":"state","targetId":"6b3fcd98-bc78-5e4e-9055-ff07332fec52","targetPort":"mounted"},{"sourceId":"b6e3e48a-4a7a-822b-80ab-7b9bbf06dff2","sourcePort":"out-Success","targetId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","targetPort":"in-trigger"},{"sourceId":"10584136-b82d-9a22-9f8d-b08ac86cc95c","sourcePort":"ontrue","targetId":"b6e3e48a-4a7a-822b-80ab-7b9bbf06dff2","targetPort":"in-Triggered"},{"sourceId":"d6f2343c-6929-5d86-3943-aadbce397d19","sourcePort":"onClick","targetId":"10584136-b82d-9a22-9f8d-b08ac86cc95c","targetPort":"eval"},{"sourceId":"b6e3e48a-4a7a-822b-80ab-7b9bbf06dff2","sourcePort":"out-Path","targetId":"d17a7194-4d2b-3674-bb1f-ef02b3d66dd8","targetPort":"in-company_license"},{"sourceId":"7dba82d9-1b98-e8e6-4945-cf58182191f0","sourcePort":"onTextChanged","targetId":"8fb96b39-2136-88ab-3645-c91fe2721895","targetPort":"startValue"},{"sourceId":"328e977a-9329-b2c5-9898-697bc09e89b3","sourcePort":"IsValid","targetId":"10584136-b82d-9a22-9f8d-b08ac86cc95c","targetPort":"condition"}],"ports":[],"roots":["59db1df2-72a1-e2cf-60e3-782c4289c8d0"]}]