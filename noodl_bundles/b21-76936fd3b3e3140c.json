[{"name":"/#Supabase Prefab/Supabase Prefab/User/Supabase - Log Out","nodes":[{"id":"2d28996f-a57c-67ee-3b0c-f2a34e6bfa9f","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"1ff8e2bc-e288-9f1b-2cdf-057a17a73e93","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"dee819c9-b9d5-fcad-a39b-e66cb3ee8710","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Boolean(Noodl.Variables.supabase)) {\n  console.error(\"Supabase client is not initialized\")\n  return\n}\n\nlet { error } = await Noodl.Variables.supabase.auth.signOut()\n\nif (!!error) {\n\n    console.error(JSON.stringify(error))\n    Outputs.error = error\n    Outputs.Failure()\n\n} else {\n\n    Noodl.Objects.currentUser.auth = null\n    Noodl.Objects.currentUser.profile = null\n    Noodl.Objects.currentUser.role = null\n    Noodl.Objects.currentUser.name = null\n    Noodl.Objects.currentUser.company = null\n    Noodl.Objects.currentUser.email = null\n    Noodl.Objects.currentUser.session = null\n    Noodl.Objects.currentUser.loggedIn = false\n    console.log(\"[logout] currentUser = \", Noodl.Objects.currentUser)\n\n    Outputs.Success()\n}"},"ports":[{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-error","displayName":"error","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"53004ab3-8c1a-1464-8f12-e219b1ac3d2a","type":"Event Sender","parameters":{"channelName":"Supabase User Logged Out"},"ports":[],"children":[]}],"connections":[{"sourceId":"2d28996f-a57c-67ee-3b0c-f2a34e6bfa9f","sourcePort":"Do","targetId":"dee819c9-b9d5-fcad-a39b-e66cb3ee8710","targetPort":"run"},{"sourceId":"dee819c9-b9d5-fcad-a39b-e66cb3ee8710","sourcePort":"out-Failure","targetId":"1ff8e2bc-e288-9f1b-2cdf-057a17a73e93","targetPort":"Failure"},{"sourceId":"dee819c9-b9d5-fcad-a39b-e66cb3ee8710","sourcePort":"out-error","targetId":"1ff8e2bc-e288-9f1b-2cdf-057a17a73e93","targetPort":"Error"},{"sourceId":"dee819c9-b9d5-fcad-a39b-e66cb3ee8710","sourcePort":"out-Success","targetId":"1ff8e2bc-e288-9f1b-2cdf-057a17a73e93","targetPort":"Success"},{"sourceId":"dee819c9-b9d5-fcad-a39b-e66cb3ee8710","sourcePort":"out-Success","targetId":"53004ab3-8c1a-1464-8f12-e219b1ac3d2a","targetPort":"sendEvent"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"Error","type":"*","plug":"output","index":2}],"roots":[]}]